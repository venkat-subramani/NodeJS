!function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):function(t){if(!t.document)throw Error("Window with document not present");return e(t,!0)}:t.FusionCharts=e(t,!0)}("undefined"!=typeof window?window:this,function(t,e){return FusionCharts.register("module",["private","modules.renderer.js-charts",function(){function t(t,e){for(var a=[],i=0,n=t.length;i<n;i++)a[i]=e.call(t[i],t[i],i,t);return a}function e(t,e){var a=e?360:H;return t=(t||0)%a,0>t?a+t:t}function a(t,e,a,i,n){return I((e-a[1]-i.top)/n,t-a[0]-i.left)}function i(t){this.config={},this.linkedItems={chart:t}}var n=this,o=n.hcLib,r=o.hasTouch,s=n.window,l=s.document,c=o.Raphael,d=o.getPosition,h=o.BLANKSTRING,p=o.preDefStr,u=p.HUNDREDSTRING,p=p.NINETYSTRING,g=o.pluck,f=o.pluckNumber,m=o.getFirstValue,v=o.extend2,b=o.toRaphaelColor,x=o.hasSVG,y=o.hashify,P="createTouch"in l,C=P&&!(s.navigator.maxTouchPoints||s.navigator.msMaxTouchPoints),S=o.each,w=o.plotEventHandler,_=o.componentDispose,L=8===s.document.documentMode?"visible":"",k=Math,D=k.sin,A=k.cos,I=k.atan2,F=k.round,O=k.min,T=k.max,B=k.abs,E=k.PI,M=k.ceil,R=k.floor,N=E/180,z=180/E,W=Math.PI,G=W/2,H=2*W,j=W+G,V=o.getFirstColor,Z=o.getFirstAlpha,Y=o.graphics.getDarkColor,X=o.graphics.getLightColor,U=o.graphics.convertColor,J=o.POSITION_BOTTOM,Q=o.POSITION_RIGHT,q=o.chartAPI,K=o.COMMASTRING,$=o.ZEROSTRING,tt=o.ONESTRING,et={},at={};q("column2d",{standaloneInit:!0,friendlyName:"Column Chart",creditLabel:!1,defaultDatasetType:"column",applicableDSList:{column:!0},singleseries:!0},q.sscartesian),q("column3d",{friendlyName:"3D Column Chart",defaultDatasetType:"column3d",applicableDSList:{column3d:!0},defaultPlotShadow:1,creditLabel:!1,is3D:!0,standaloneInit:!0,hasLegend:!1,singleseries:!0,fireGroupEvent:!0,defaultZeroPlaneHighlighted:!1},q.sscartesian3d,{showplotborder:0}),q("bar2d",{friendlyName:"Bar Chart",isBar:!0,standaloneInit:!0,defaultDatasetType:"bar2d",creditLabel:!1,applicableDSList:{bar2d:!0},singleseries:!0,spaceManager:q.barbase},q.ssbarcartesian),q("bar3d",{friendlyName:"3D Bar Chart",defaultDatasetType:"bar3d",applicableDSList:{bar3d:!0},defaultPlotShadow:1,fireGroupEvent:!0,standaloneInit:!0,creditLabel:!1,is3D:!0,isBar:!0,singleseries:!0,defaultZeroPlaneHighlighted:!1},q.ssbarcartesian3d,{showplotborder:0}),q("area2d",{friendlyName:"Area Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"area",singleseries:!0,defaultPlotShadow:0},q.sscartesian,{},q.areabase),q("line",{friendlyName:"Line Chart",standaloneInit:!0,creditLabel:!1,defaultPlotShadow:1,singleseries:!0,axisPaddingLeft:0,axisPaddingRight:0,defaultDatasetType:"line"},q.sscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},q.areabase),q("pareto2d",{defaultDatasetType:"column2d",singleseries:!0,creditLabel:!1,_createDatasets:function(){var t,e=this.components,a=this.jsonData,i=this.is3D,n=e.numberFormatter,o=a.data||a.dataset&&a.dataset[0]&&a.dataset[0].data,r=o&&o.length,s=a.chart,l=this.defaultDatasetType,a=new(FusionCharts.get("component",["dataset","Pareto"])),c=f(s.showcumulativeline,1),d=[];if(o){for(s=0;s<r;s++)t=o[s],null!==n.getCleanValue(t.value)&&"true"!==t.vline&&!0!==t.vline&&1!==t.vline&&"1"!==t.vline&&d.push(t);this.config.categories=d,n=e.dataset||(e.dataset=[]),(o=g(l))&&o.toLowerCase(),o=FusionCharts.register("component",["datasetGroup","column"]),o=e[void 0]=new o,o.chart=this,o.init(),(r=i?FusionCharts.get("component",["dataset","Column3d"]):FusionCharts.get("component",["dataset","Column"]))&&((i=n[0])?(l=d.length,o=i.components.data.length,l<o&&i.removeData(l,o-l),i.JSONData={data:d},a.configure.call(i)):(i=new r,n.push(i),i.chart=this,i.index=s,o&&o.addDataSet(i,0,0),a.init(i,d,l))),e=e.yAxis[1],c?(e&&e.setAxisConfig({drawLabels:!0,drawPlotLines:!0,drawAxisName:!0,drawAxisLine:!0,drawPlotBands:!0,drawTrendLines:!0,drawTrendLabels:!0}),e.show(),r=FusionCharts.get("component",["dataset","line"]),(i=n[1])?(l=d.length,o=i.components.data.length,l<o&&i.removeData(l,o-l),i.JSONData={data:d},a.configure.call(i)):(i=new r,n.push(i),i.chart=this,i.index=s,a.init(i,d,"line"))):((i=n[1])&&(_.call(i),n.pop()),e&&(e.setAxisConfig({drawLabels:!1,drawPlotLines:!1,drawAxisName:!1,drawAxisLine:!1,drawPlotBands:!1,drawTrendLines:!1,drawTrendLabels:!1}),e.hide()))}else this.setChartMessage()},_setCategories:function(){var t,e,a,i=this.components,n=this.jsonData,o=n.dataset,r=i.numberFormatter,i=i.xAxis,n=n.data||o&&o[0].data||[],o=[],s=n.length,l={},c=0;for(e=0;e<s;e++){if(t=n[e],a=r.getCleanValue(t.value,!0),"true"===t.vline||"1"===t.vline||1===t.vline||!0===t.vline)l[c]=t;else{if(null===a)continue;t.value=a,o.push(t)}c++}o.sort(function(t,e){return e.value-t.value});for(e in l)o.splice(e,0,l[e]);i[0].setCategory(o)},standaloneInit:!0,hasLegend:!1,isPercentage:!0},q.msdybasecartesian,{plotfillalpha:p}),q("pareto3d",{standaloneInit:!0,is3D:!0,friendlyName:"3D Pareto Chart",creditLabel:!1,fireGroupEvent:!0,defaultPlotShadow:1,singleseries:!0,hasLegend:!1,defaultDatasetType:"column3d",_createDatasets:q.pareto2d,_setCategories:q.pareto2d,isPercentage:!0},q.msdybasecartesian3d,{plotfillalpha:p,use3dlineshift:1}),q("pie2d",{friendlyName:"Pie Chart",standaloneInit:!0,defaultSeriesType:"pie",defaultPlotShadow:1,reverseLegend:1,alignCaptionWithCanvas:0,sliceOnLegendClick:!0,isSingleSeries:!0,dontShowLegendByDefault:!0,defaultDatasetType:"Pie2D",applicableDSList:{Pie2D:!0},defaultZeroPlaneHighlighted:!1,creditLabel:!1,_plotDragMove:function(t,e,i,o,r){var s=this.data("plotItem"),l=s.chart,s=s.seriesData,c=l.components.dataset[0].config;isNaN(t)||isNaN(e)||!c.enableRotation||s.singletonCase||s.isRightClicked||(t=a.call(r,i,o,s.pieCenter,s.chartPosition,1),s.isRotating||(s.dragStartAngle!==t&&(s.isRotating=!0),n.raiseEvent("RotationStart",{startingAngle:s._rotationalStartAngle=l._startingAngle()},l.chartInstance)),c.startAngle+=t-s.dragStartAngle,s.dragStartAngle=t,s.moveDuration=0,c.updateInited||(c.updateInited=!0,setTimeout(l._batchRotate||(l._batchRotate=function(){l._rotate(),c.updateInited=!1}),50)))},_plotDragStart:function(t,e,i){var n=this.data("plotItem"),o=n.chart,n=n.seriesData,c=o.components.dataset[0].config,d=-c.startAngle;if(n.isRightClicked=!r&&0!==i.button&&1!==i.button,c.enableRotation&&!n.isRightClicked){if(n.isRotating=!1,c=o.linkedItems.container,o={left:0,top:0},c.getBoundingClientRect)c=c.getBoundingClientRect(),o.top=c.top+(s.pageYOffset||l.scrollTop||0)-(l.clientTop||0),o.left=c.left+(s.pageXOffset||l.scrollLeft||0)-(l.clientLeft||0);else for(;c;)o.left+=c.offsetLeft||0,o.top+=c.offsetTop||0,c!==l.body&&c!==l.documentElement&&(o.left-=c.scrollLeft||0,o.top-=c.scrollTop||0),c=c.offsetParent;n.chartPosition=o,t=a.call(i,t,e,n.pieCenter,n.chartPosition,1),n.dragStartAngle=t,n.startingAngleOnDragStart=d}},_plotDragEnd:function(t){var e,a=this.data("plotItem"),i=a.chart,o=i.config,r=a.seriesData;r.isRightClicked||(o.clicked=!0,i.disposed||i._rotate(),!r.isRotating&&i._plotGraphicClick.call(a.graphic,t),delete o.clicked,r.isRotating&&(setTimeout(function(){r.isRotating=!1},0),n.raiseEvent("RotationEnd",{startingAngle:e=i._startingAngle(),changeInAngle:e-r._rotationalStartAngle},i.chartInstance)))},_plotRollOver:function(t){var e,a,i=this.plotItem||this.data("plotItem"),n=i.chart,o=n.components.dataset[0].config;o.isRotating||(w.call(this,n,t,"DataPlotRollOver"),n.onPlotHover(this,!0)),o.isHovered=!0,(t=i.innerDiameter)&&(e=i.centerLabelConfig)&&(a=e.label)&&n.drawDoughnutCenterLabel(a,i.center[0],i.center[1],t,t,e,!1)},onPlotHover:function(t,e){var a=t.data("plotItem"),i=a.center,n=a.rolloverProperties||{},o=e?n.color:a.color,r=e?n.borderWidth:a.borderWidth,s=e?n.borderColor:a.borderColor;o&&(e&&(o.cx=i[0],o.cy=i[1],o.r=a.radius),n.enabled&&a.graphic.attr({fill:b(o),"stroke-width":r,stroke:s}))},_plotRollOut:function(t){var e,a,i=this.plotItem||this.data("plotItem"),n=i.chart,o=n.components.dataset[0].config;o.isRotating||(w.call(this,n,t,"DataPlotRollOut"),n.onPlotHover(this,!1)),o.isHovered=!1,(t=i.innerDiameter)&&(e=o.centerLabelConfig)&&((a=e.label)||!a)&&n.drawDoughnutCenterLabel(a,i.center[0],i.center[1],t,t,e,!1)},_rotate:function(){var t,e,a,i,n,o,r,s=this.components.dataset[0],l=s.config,c=s.components.data,d=this.config,p=l.slicingDistance,s=s.config,u=H/s.valueTotal,g=d.canvasLeft+.5*d.canvasWidth,d=d.canvasTop+.5*d.canvasHeight,f=l.pieMinRadius,m=.5*(l.piePlotOptions.innerSize||0);for(a=(l.startAngle||0)%H,r=0;r<c.length;r+=1)n=c[r].config,o=c[r].graphics,null!==(t=n.y)&&void 0!==t&&(i=a,a-=s.singletonCase?H:t*u,t=.5*(a+i),n.angle=t,n.transX=A(t)*p,n.transY=D(t)*p,n.slicedTranslation="t"+A(t)*p+K+D(t)*p,(e=n._rotateAttrs)||(e=n._rotateAttrs={ringpath:[],transform:h}),t=e.ringpath,t[0]=g,t[1]=d,t[2]=f,t[3]=m,t[4]=a,t[5]=i,e.transform=n.sliced?n.slicedTranslation:h,o.element.attr(e));this.placeDataLabels(!0,c,l)},getPlotData:function(t,e){var a,i,n=this.components.dataset[0],o=n.components.data[t].config,n=n.config.userData||(n.config.userData=[]);if(n[t])n=n[t];else{n=n[t]={};for(i in o)"object"!=typeof(a=o[i])&&"function"!=typeof a&&0!==i.indexOf("_")&&(n[i]=a);n.value=n.y,n.categoryLabel=n.label=n.seriesName,delete n.y,delete n.total,delete n.doNotSlice,delete n.name,delete n.seriesName,delete n.centerAngle,delete n.showInLegend,delete n.angle,delete n.endAngle,delete n.isVisible,delete n.setColor,delete n.slicedTranslation,delete n.startAngle,delete n.transX,delete n.transY,delete n.pValue}return n.sliced=e,n},_plotGraphicClick:function(t){var e,a,i=this.element||this,o=i.plotItem||i.data("plotItem"),r=i.data("eventArgs")||{},s=o.chart,l=o.index,c=s.components.dataset[0],d=c.config,h=d.enableMultiSlicing,c=c.components.data[l],p=c.graphics,c=c.config,u=c.doNotSlice;e=c.slicedTranslation;var g=s.get("config","animationObj"),f=g.duration||200,m=g.dummyObj,v=g.animObj,g=g.animType;if(!d.isRotating&&w.call(i,s,t),!(d.isRotating||d.singletonCase||u||(t=!h&&s.sliceInOtherPies(l),(a=c.sliced)&&t))){if(P&&!C){if(t=(new Date).getTime(),o.lastSliceTimeStamp&&400>t-o.lastSliceTimeStamp)return;o.lastSliceTimeStamp=t}return d=p.element,o=p.connector,h=p.label||p.dataLabel,e="object"==typeof e?"t"+e:e,u=c.connectorPath,p=(a?-1:1)*c.transX,t=(a?-1:1)*c.transY,i=d.data("eventArgs")||d.data("eventArgs",{}),n.raiseEvent("slicingStart",{slicedState:a,dataIndex:"index"in r&&r.index,data:s.getPlotData(l,a)},s.chartInstance),d.animateWith(m,v,{transform:a?"t0,0":e},f,g,function(){n.raiseEvent("slicingEnd",{slicedState:a,dataIndex:"index"in r&&r.index,data:s.getPlotData(l,a)},s.chartInstance)}),h&&h.x&&((e=h.data("textPos"))||(e=h.data("textPos",{x:h.x,y:h.y})),h.animateWith(m,v,{x:h.x+(a?0:p)},f,g),e.x=h.x+(a?0:p)),u&&(e=u.slice(0),e[1]+=p,e[2]+=t,e[4]+=p,e[6]+=p,o.animateWith(m,v,{path:e},f,g),c.connectorPath=e),i.isSliced=a=c.sliced=!a}},sliceInOtherPies:function(t){var e,a=this.components.dataset[0],i=a.components.data,n=i.length,o=0;for(a.enableMultiSlicing=!0;n--;)n!==t&&(e=i[n]).config.sliced&&++o&&this._plotGraphicClick.call(e.graphics);return a.enableMultiSlicing=!1,!!o},placeDataLabels:function(){var t=function(t,e){return t.point.value-e.point.value},e=function(t,e){return t.angle-e.angle},a=["start","start","end","end"],i=[-1,1,1,-1],n=[1,1,-1,-1];return function(o,r,s,l){var c,d=this.config,h=this.components,p=h.dataset[0],u=p.graphics,g=p.config,m=d.canvasLeft,v=d.canvasTop,p=d.canvasWidth,b=m+.5*d.canvasWidth,x=v+.5*d.canvasHeight,y=this.linkedItems.smartLabel,P=g.dataLabelOptions,C=P.style,w=f(M(parseFloat(C.lineHeight)),12),_=1===r.length&&d.singletonPlaceValue,I=P.skipOverlapLabels,F=P.manageLabelOverflow,E=P.connectorPadding;c=l&&l.metrics||[b,x,2*g.pieMinRadius,g.innerSize||0];var N=c[1],z=c[0];l=.5*c[2];var g=[[],[],[],[]],b=s.labelsRadius=l+P.distance,V=x=parseInt(C.fontSize,10),Z=V/2,E=[E,E,-E,-E];s=s.labelsMaxInQuadrant=R(b/V);var Y,X,U,J,Q,q,K,$,tt,et,at,it,nt,ot,rt,P=P.isSmartLineSlanted,st=c[3]/2;c=Number.POSITIVE_INFINITY;var lt,ct;X=[],U=[],X=this.get("config","animationObj");var dt,ht,pt=o?0:X.duration||0,ut=X.dummyObj,gt=X.animObj,ft=X.animType,mt=this._plotDragMove,vt=this._plotDragStart,bt=this._plotDragEnd,xt=this._plotRollOver,yt=this._plotRollOut,Pt=h.paper,Ct=u.dataLabelContainer;if(y.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),o||y.setStyle(C),1==r.length&&!st&&_)X=r[0],(dt=X.config._textAttrs).text&&(ct=X.graphics,lt=X.config,at=ct.label,X.slicedTranslation=[m,v],dt["text-anchor"]="middle",dt.x=0,dt.y=0,dt.transform=["t",z,N],at?at.animateWith(ut,gt,dt,pt,ft):at=ct.label=Pt.text(dt,ht,Ct).drag(mt,vt,bt).hover(xt,yt),at.x=z,at.data("textPos",{x:z,y:N}).data("plotItem",dt.plotItem).data("eventArgs",dt.eventArgs),null!==lt.y&&void 0!==lt.y&&at.show(),ct.connector&&ct.connector.attr({path:[]}));else if(_)rt=st+(l-st)/2,S(r,function(t){lt=t.config,(dt=lt._textAttrs).text&&(ct=t.graphics,at=ct.label,null!==lt.y&&void 0!==lt.y&&((et=ct.connector)&&et.show(),at&&at.show()),dt.transform="t0,0",tt=lt.angle,$=N+rt*D(tt),J=z+rt*A(tt),dt._x=J,dt._y=$,t.sliced&&(ot=t.slicedTranslation,it=ot[0]-m,nt=ot[1]-v,J+=it,$+=nt),dt["text-anchor"]="middle",dt.x=0,dt.y=0,dt.transform=["t",J,$],at?at.animateWith(ut,gt,dt,pt,ft):at=ct.label=Pt.text(dt,ht,Ct).drag(mt,vt,bt).hover(xt,yt),at.x=dt._x,at.x=dt._x,at.y=dt._y,at.data("plotItem",dt.plotItem).data("eventArgs",dt.eventArgs),dt.visibility===L&&at.show())});else{for(o=r.length-1;0<=o;o--)X=r[o],lt=X.config,dt=lt._textAttrs,(dt.text=lt.displayValue)&&(ct=X.graphics,null!==lt.y&&void 0!==lt.y&&(at=ct.label,(et=ct.connector)&&et.show(),at&&at.show()),dt.text=lt.displayValue,dt.transform="t0,0",tt=lt.angle%H,0>tt&&(tt=H+tt),h=0<=tt&&tt<G?1:tt<W?2:tt<j?3:0,g[h].push({point:X,angle:tt}));for(o=r=4;o--;){if(I&&0<(h=g[o].length-s))for(g[o].sort(t),u=g[o].splice(0,h),h=0,_=u.length;h<_;h+=1)X=u[h].point,dt=X.config._textAttrs,ct=X.graphics,ct.label&&ct.label.attr("visibility","hidden"),ct.connector&&ct.connector.attr({visibility:"hidden"});g[o].sort(e)}for(o=T(g[0].length,g[1].length,g[2].length,g[3].length),h=T(O(o,s)*V,b+V),U=g[0].concat(g[1]),X=g[2].concat(g[3]),o=U.length-1;0<=o;o--)u=U[o].point.config,delete u.clearance,delete u.clearanceShift,st=B(h*D(u.angle)),Math.abs(c-st)<2*w&&(u.clearance=0,U[o+1].point.clearanceShift=w/2),c=st;for(c=Number.POSITIVE_INFINITY,o=0,_=X.length;o<_;o++)u=X[o].point.config,delete u.clearance,delete u.clearanceShift,st=B(h*D(u.angle)),Math.abs(c-st)<2*w&&(u.clearance=0,X[o-1].point.clearanceShift=w/2),c=st;for(g[1].reverse(),g[3].reverse();r--;){for(u=g[r],_=u.length,I||(V=_>s?h/_:x,Z=V/2),w=_*V,c=h,o=0;o<_;o+=1,w-=V)st=B(h*D(u[o].angle)),c<st?st=c:st<w&&(st=w),c=(u[o].oriY=st)-V;for(C=a[r],_=h-(_-1)*V,c=0,o=u.length-1;0<=o;--o,_+=V)X=u[o].point,tt=u[o].angle,lt=X.config,dt=lt._textAttrs,dt.text&&(ht=lt._textCss,ct=X.graphics,X=lt.sliced,at=ct.label,st=B(h*D(tt)),st<c?st=c:st>_&&(st=_),c=st+V,w=void 0===lt.clearance?2*M(f(parseFloat(lt.style.border),12),12):2*M(f(parseFloat(lt.style.border),lt.clearance)),q=(st+u[o].oriY)/2,st=z+n[r]*b*A(k.asin(q/h)),q*=i[r],q+=N,K=N+l*D(tt),U=z+l*A(tt),(2>r&&st<U||1<r&&st>U)&&(st=U),J=st+E[r],$=q-Z-2,Q=J+E[r],dt._x=Q,F&&(Y=1<r?Q-d.canvasLeft:d.canvasLeft+p-Q,y.setStyle(lt.style),w=f(M(parseFloat(lt.style.lineHeight)),12)+w,w=y.getSmartText(lt.displayValue,Y,w),void 0===lt.clearance&&w.height>V&&(q+=V),dt.text=w.text,dt.tooltip=w.tooltext),dt._y=$,X&&(it=lt.transX,nt=lt.transY,J+=it,st+=it,U+=it,K+=nt,Q+=it),dt["text-anchor"]=C,dt.vAlign="middle",dt.x=Q,dt.y=q,(w=at&&at.data("textPos"))?at.attr({x:w.x,y:w.y}).animateWith(ut,gt,dt,pt):at=ct.label=Pt.text(dt,ht,Ct).drag(mt,vt,bt).hover(xt,yt),at.x=dt._x,at._x=dt._x,at.y=dt._y,dt.tooltip&&(at.tooltip(dt.tooltip),delete dt.tooltip),dt.visibility===L&&at.show(),at.data("textPos",{x:Q,y:q}).data("plotItem",dt.plotItem).data("eventArgs",dt.eventArgs),et=ct.connector)&&(lt.connectorPath=w=["M",U,K,"L",P?st:U,q,J,q],(X=et.data("connectorPath"))?d.clicked||et.attr({path:X.path}).animateWith(ut,gt,{path:w},pt):et.attr({path:w}),et.data("connectorPath",{path:w}))}}}}(),_spaceManager:function(){var t=this.config,e=this.components,a=e.dataset[0],i=a.components.data,n=a.config,o=e.legend,r=e.colorManager,s=this.linkedItems.smartLabel,l=n.dataLabelCounter,c=0,d=this.jsonData.chart,e=f(d.managelabeloverflow,0),h=f(d.slicingdistance),p=n.preSliced||t.allPlotSliceEnabled!==$||d.showlegend===tt&&d.interactivelegend!==$?B(f(h,20)):0,u=f(d.pieradius,0),m=(h=f(d.enablesmartlabels,d.enablesmartlabel,1))?f(d.skipoverlaplabels,d.skipoverlaplabel,1):0,v=f(d.issmartlineslanted,1),b=l?f(d.labeldistance,d.nametbdistance,5):p,x=f(d.smartlabelclearance,5),y=t.width,P=t.height,C=(this._manageActionBarSpace(.225*P)||{}).bottom,y=y-(t.marginRight+t.marginLeft),P=P-(t.marginTop+t.marginBottom)-(C?C+t.marginBottom:0),C=O(P,y),S=g(d.smartlinecolor,r.getColor("plotFillColor")),w=f(d.smartlinealpha,100),_=f(d.smartlinethickness,.7),a=n.dataLabelOptions=a._parseDataLabelOptions(),r=a.style,r=l?f(parseInt(r.lineHeight,10),12):0,L=0===u?.15*C:u,k=2*L,D={bottom:0,right:0},A=n.pieYScale,C=n.pieSliceDepth;if(a.connectorWidth=_,a.connectorPadding=f(d.connectorpadding,5),a.connectorColor=U(S,w),l&&(h&&(b=x),b+=p),x=k+2*(r+b),x=this._manageChartMenuBar(x<P?P-x:P/2),P-=(x.top||0)+(x.bottom||0),n.showLegend&&(this.hasLegend=!0,g(d.legendposition,J).toLowerCase()!==Q?(D=o._manageLegendPosition(P/2),P-=D.bottom):(D=o._manageLegendPosition(P/2),y-=D.right)),this._allocateSpace(D),s.useEllipsesOnOverflow(t.useEllipsesWhenOverflow),1!==l)for(;l--;)s.setStyle(i[l].config.style||t.dataLabelStyle),o=s.getOriSize(i[l].config.displayValue),c=T(c,o.width);0===u?L=this._stubRadius(y,c,P,b,p,r,L):(n.slicingDistance=p,n.pieMinRadius=L,a.distance=b),t=P-2*(L*A+r),n.managedPieSliceDepth=C>t?C-t:n.pieSliceDepth,a.isSmartLineSlanted=v,a.enableSmartLabels=h,a.skipOverlapLabels=m,a.manageLabelOverflow=e},_stubRadius:function(t,e,a,i,n,o,r){var s=this.components.dataset[0],l=s.config,c=f(this.jsonData.chart.slicingdistance),s=l.dataLabelOptions||(l.dataLabelOptions=s._parseDataLabelOptions()),d=0,d=O(t/2-e-n,a/2-o)-i;return d>=r?r=d:c||(n=i=T(O(i-(r-d),n),10)),l.slicingDistance=n,l.pieMinRadius=r,s.distance=i,r},getDataSet:function(t){return this.components.dataset[t]},_startingAngle:function(t,e){var a,i=this.components.dataset[0].config,n=(a=i.startAngle)*-z+(0>-1*a?360:0);return isNaN(t)||(i.singletonCase||i.isRotating?n=i.startAngle:(t+=e?n:0,i.startAngle=-t*N,this._rotate(t),n=t)),F(100*((n%=360)+(0>n?360:0)))/100},eiMethods:{isPlotItemSliced:function(t){var e,a,i,n=this.apiInstance;return n&&n.components.dataset&&(i=n.components.dataset[0])&&(e=i.components.data)&&e.length&&e[t]&&(a=e[t].config)&&a.sliced},addData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.addData.apply(t,arguments)},removeData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.removeData.apply(t,arguments)},updateData:function(){var t,e=this.apiInstance;return e&&e.components.dataset&&(t=e.components.dataset[0])&&t.updateData.apply(t,arguments)},slicePlotItem:function(t,e){var a,i,n,o,r=this.apiInstance;return r&&r.components.dataset&&(a=r.components.dataset[0])&&(i=a.components.data)&&(o=i.length)&&i[t=a.config.reversePlotOrder?o-t-1:t]&&(n=i[t].config)&&((!!e!==n.sliced||void 0===e)&&r._plotGraphicClick.call(i[t].graphics.element)||n.sliced)},centerLabel:function(t,e){var a,i=this.apiInstance,n=i.components.dataset[0],o=n.config,r=o.piePlotOptions.innerSize,s=o.pieCenter,l=s[0],s=s[1],o=o.centerLabelConfig;if("object"!=typeof e)e=o;else for(a in o)void 0===e[a]&&(e[a]=o[a]);e.label=t,n.centerLabelConfig=e,r&&i.drawDoughnutCenterLabel(t||"",l,s,r,r,e,!0)},startingAngle:function(t,e){return this.apiInstance._startingAngle(t,e)}}},q.guageBase,{plotborderthickness:1,alphaanimation:0,singletonPlaceValue:!0,usedataplotcolorforlabels:0,enableslicing:tt}),q("pie3d",{defaultDatasetType:"Pie3D",applicableDSList:{Pie3D:!0},is3D:!0,friendlyName:"3D Pie Chart",fireGroupEvent:!0,creditLabel:!1,getPointColor:function(t){return t},_configureManager:function(){var t=this.components.dataset[0],e=t.config,a=t.components,t=a.Pie3DManager,a=a.data;t&&t.configure(e.pieSliceDepth,1===a.length,e.use3DLighting,!1)},defaultPlotShadow:0,_preDrawCalculate:function(){var e,a,n=this.config,o=0,r=this.components.dataset[0],s=r.config;e=r.components,a=s.dataLabelOptions;var l,c,d,h,p=s.pie3DOptions=r._parsePie3DOptions(),u=g(s.startAngle,0)%H,m=s.managedPieSliceDepth,v=s.slicedOffset=p.slicedOffset,b=n.canvasWidth,x=n.canvasHeight,y=[n.canvasLeft+.5*b,n.canvasTop+.5*x-.5*m],n=e.data,P=O(b,x),C=a.distance;l=s.pieYScale;var w=s.slicedOffsetY||(s.slicedOffsetY=v*s.pieYScale);for(d=e.Pie3DManager,y.push(2*s.pieMinRadius,p.innerSize||0),y=t(y,function(t,e){return(h=/%$/.test(t))?[b,x-m,P,P][e]*parseInt(t,10)/100:t}),y[2]/=2,y[3]/=2,y.push(y[2]*l),y.push((y[2]+y[3])/2),y.push(y[5]*l),r.getX=function(t,e){return c=k.asin((t-y[1])/(y[2]+C)),y[0]+(e?-1:1)*A(c)*(y[2]+C)},s.center=y,S(n,function(t){o+=t.config.y}),s.labelsRadius=y[2]+C,s.labelsRadiusY=s.labelsRadius*l,s.quadrantHeight=(x-m)/2,s.quadrantWidth=b/2,r=F(1e3*u)/1e3,p=r+H,u=f(parseInt(a.style.fontSize,10),10)+4,s.maxLabels=R(s.quadrantHeight/u),s.labelFontSize=u,s.connectorPadding=f(a.connectorPadding,5),s.isSmartLineSlanted=g(a.isSmartLineSlanted,!0),s.connectorWidth=f(a.connectorWidth,1),s.enableSmartLabels=a.enableSmartLabels,d||(d=e.Pie3DManager=new i(this),this.get("graphics","datasetGroup").trackTooltip(!0)),this._configureManager(),e=n.length-1;0<=e;--e)a=n[e],a=a.config,u=r,d=o?a.y/o:0,r=F(1e3*(r+d*H))/1e3,r>p&&(r=p),l=r,a.shapeArgs={start:F(1e3*u)/1e3,end:F(1e3*l)/1e3},a.centerAngle=c=(l+u)/2%H,a.slicedTranslation=[F(A(c)*v),F(D(c)*w)],u=A(c)*y[2],s.radiusY=l=D(c)*y[4],a.tooltipPos=[y[0]+.7*u,y[1]+l],a.percentage=100*d,a.total=o},placeDataLabels:function(){var t=function(t,e){return t.point.value-e.point.value},e=function(t,e){return t.angle-e.angle},a=["start","start","end","end"],i=[-1,1,1,-1],n=[1,1,-1,-1];return function(o){var r,s,l=this.config,c=this.components,d=c.dataset[0],h=d.config,p=d.components.data,u=h.piePlotOptions,g=l.canvasLeft,v=l.canvasTop,b=l.canvasWidth,x=g+.5*l.canvasWidth,y=v+.5*l.canvasHeight,P=this.linkedItems.smartLabel,C=h.dataLabelOptions,w=C.style;r=f(M(parseFloat(w.lineHeight)),12),r=m(C.placeInside,!1);var _,I,E,R,N,z,V,Z,Y,X,U,J,Q,q,K,$=C.skipOverlapLabels,tt=C.manageLabelOverflow,et=C.connectorPadding,at=C.distance,it=C.connectorWidth,nt=[[],[],[],[]],ot=parseInt(w.fontSize,10),rt=ot,st=rt/2,et=[et,et,-et,-et],lt=C.isSmartLineSlanted,at=0<at,ct=h.center||(h.center=[x,y,u.size,u.innerSize||0]),dt=ct[1],ht=ct[0],u=ct[2],x=ct[4],y=h.labelsRadius,pt=F(100*h.labelsRadiusY)/100,ut=h.maxLabels,gt=h.enableSmartLabels,ft=h.pieSliceDepth/2;I=this.get("config","animationObj");var mt,vt,bt=o?0:I.duration,xt=I.dummyObj,yt=I.animObj,Pt=I.animType,Ct=this._plotDragMove,St=this._plotDragStart,wt=this._plotDragEnd,_t=this._plotRollOver,Lt=this._plotRollOut,kt=c.paper,Dt=d.graphics.dataLabelContainer;if(P.useEllipsesOnOverflow(l.useEllipsesWhenOverflow),h.dataLabelCounter)if(o||P.setStyle(w),1==p.length)I=p[0],q=I.graphics,Q=I.config,vt=Q._textAttrs,mt=Q._textCss,U=q.label,K=q.connector,Q.slicedTranslation=[g,v],null!==Q.y&&void 0!==Q.y&&(vt.visibility=L,vt["text-anchor"]="middle",vt.x=ht,vt.y=dt+st-2,vt._x=ht),U?U.animateWith(xt,yt,vt,bt,Pt):U=q.label=kt.text(vt,mt,Dt).drag(Ct,St,wt).hover(_t,Lt),vt._x&&(U.x=vt._x,delete vt.x),U.data("plotItem",vt.plotItem).data("eventArgs",vt.eventArgs),vt.visibility===L&&U.show(),K&&K.hide();else if(r)S(p,function(t){if(q=t.graphics,Q=t.config,vt=Q._textAttrs,U=q.label,null!==Q.y&&void 0!==Q.y){if(X=Q.angle,Y=dt+ct[6]*D(X)+st-2,N=ht+ct[5]*A(X),vt._x=N,vt._y=Y,Q.sliced){t=t.slicedTranslation;var e=t[1]-v;N+=t[0]-g,Y+=e}vt.visibility=L,vt.align="middle",vt.x=N,vt.y=Y}U?U.animateWith(xt,yt,vt,bt,Pt):U=q.label=kt.text(vt,mt,Dt).drag(Ct,St,wt).hover(_t,Lt),U.data("plotItem",vt.plotItem).data("eventArgs",vt.eventArgs),vt.visibility===L&&U.show(),U.x=vt._x,U._x=vt._x,U._y=vt._y});else{for(S(p,function(t){q=t.graphics,Q=t.config,mt=Q._textCss,vt=Q._textAttrs,(vt.text=Q.displayValue)&&(q=t.graphics,null!==Q.y&&void 0!==Q.y&&(U=q.label,(K=q.connector)&&K.show(),U&&U.show()),U=q.label,X=Q.angle,0>X&&(X=H+X),J=0<=X&&X<G?1:X<W?2:X<j?3:0,nt[J].push({point:t,angle:X}))}),c=l=4;c--;){if($&&0<(d=nt[c].length-ut))for(nt[c].sort(t),h=nt[c].splice(0,d),d=0,r=h.length;d<r;d+=1)I=h[d].point,q=I.graphics,q.label&&q.label.attr("visibility","hidden"),q.connector&&q.connector.attr({visibility:"hidden"});nt[c].sort(e)}for(c=T(nt[0].length,nt[1].length,nt[2].length,nt[3].length),pt=T(O(c,ut)*rt,pt+rt),nt[1].reverse(),nt[3].reverse(),P.setStyle(w);l--;){for(d=nt[l],r=d.length,$||(rt=r>ut?pt/r:ot,st=rt/2),h=r*rt,w=pt,c=0;c<r;c+=1,h-=rt)I=B(pt*D(d[c].angle)),w<I?I=w:I<h&&(I=h),w=(d[c].oriY=I)-rt;for(h=a[l],p=pt-(r-1)*rt,w=0,c=d.length-1;0<=c;--c,p+=rt)I=d[c].point,q=I.graphics,Q=I.config,vt=Q._textAttrs,mt=Q._textCss,null!==Q.y&&vt.text&&(X=d[c].angle,E=Q.sliced,U=q.label,I=B(pt*D(X)),I<w?I=w:I>p&&(I=p),w=I+rt,V=(I+d[c].oriY)/2,I=ht+n[l]*y*A(k.asin(V/pt)),V*=i[l],V+=dt,Z=dt+x*D(X),R=ht+u*A(X),(2>l&&I<R||1<l&&I>R)&&(I=R),N=I+et[l],Y=V+st-2,z=N+et[l],vt._x=z,tt&&(_=1<l?z-g:g+b-z,P.setStyle(Q.style),r=f(M(parseFloat(Q.style.lineHeight)),12)+(2*M(parseFloat(Q.style.border),12)||0),r=P.getSmartText(Q.displayValue,_,r),vt.text=r.text,vt.tooltip=r.tooltext),X<W&&(V+=ft,Z+=ft,Y+=ft),vt._y=Y,E&&(r=Q.transX,E=Q.transY,N+=r,I+=r,R+=r,Z+=E,z+=r),vt.visibility=L,vt["text-anchor"]=h,(r=U&&U.data("textPos"))&&U.attr({x:r.x,y:r.y}),vt.x=z,vt.y=V,!o&&r?U.animateWith(xt,yt,vt,bt,Pt):U?vt&&U.attr(vt):U=q.label=kt.text(vt,mt,Dt).drag(Ct,St,wt).hover(_t,Lt),U.data("textPos",{x:z,y:V}).data("plotItem",vt.plotItem).data("eventArgs",vt.eventArgs),U.x=vt._x,U._x=vt._x,U.y=vt._y,vt.tooltip&&(U.tooltip(vt.tooltip),delete vt.tooltip),at&&it&&gt&&(K=q.connector,Q.connectorPath||(s=!0),Q.connectorPath=r=["M",R,Z,"L",lt?I:R,V,N,V],r={path:r,"stroke-width":it,stroke:C.connectorColor||"#606060",visibility:L},K&&(o||s?K.attr(r):K.animateWith(xt,yt,r,bt,Pt))))}}}}(),animate:function(){var t,e,a,i,n=this,o=n.components.dataset[0],r=o.components.data;t=n.graphics.datasetGroup;var s=r.length;e=o.config.alphaAnimation,a=function(){n.disposed||n.disposing||n.placeDataLabels(!1)};var l=n.get("config","animationObj"),o=l.duration||0,c=l.dummyObj,d=l.animObj,l=l.animType;if(e)t.attr({opacity:0}),t.animateWith(c,d,{opacity:1},o,l,a);else for(t=0;t<s;t++)e=r[t],a=e.graphics,e=e.config,i=e.shapeArgs,e=2*E,(a=a.element)&&(a.attr({start:e,end:e}),a=i.start,i=i.end,(void 0).animateWith(c,d,{cx:a-e,cy:i-e},o,l))},_rotate:function(t){var a,i=this.components.dataset[0],n=i.config,i=i.components,o=i.data,r=n.slicedOffset,s=n.slicedOffsetY,l=n.startAngle;t=isNaN(t)?-n._lastAngle:t,a=(t-l)%360,n.startAngle=f(t,n.startAngle)%360,a=-a*E/180,i.Pie3DManager&&i.Pie3DManager.rotate(a),S(o,function(t){var i=[],n=t.config;t=t.graphics.element;var i=n.shapeArgs,o=i.start+=a,i=i.end+=a,l=n.angle=e((o+i)/2),o=n.sliced,i=A(l),l=D(l),i=n.slicedTranslation=[F(i*r),F(l*s)];n.transX=i[0],n.transY=i[1],n.slicedX=o?A(a)*r:0,n.slicedY=o?D(a)*s:0,t&&o&&t.attr({transform:"t"+i[0]+","+i[1]})}),this.placeDataLabels(!0,o)},_plotRollOver:function(t){var e=this.data("plotItem"),a=e.chart,i=a.config,n=a.components.dataset[0],o=n.components.data[e.index],e=o.graphics.element,o=o.config.hoverEffects;n.config.isRotating||(w.call(e,a,t,"DataPlotRollOver"),o.enabled&&e.attr(o)),i.isHovered=!0},_plotRollOut:function(t){var e=this.data("plotItem"),a=e.chart,i=a.config,n=a.components.dataset[0],o=n.components.data[e.index],e=o.config,o=o.graphics.element;n.config.isRotating||(w.call(o,a,t,"DataPlotRollOut"),o.attr({color:e.color.color.split(",")[0],alpha:e._3dAlpha,borderWidth:e.borderWidth,borderColor:e.borderColor})),i.isHovered=!1},_plotDragStart:function(t,e,i){var n=this.data("plotItem").chart,o=n.components.dataset[0].config;o.isRightClicked=!r&&0!==i.button&&1!==i.button,o.enableRotation&&!o.isRightClicked&&(o.isRotating=!1,t=a.call(i,t,e,o.center,o.chartPosition=d(n.linkedItems.container),o.pieYScale),o.dragStartAngle=t,o._lastAngle=-o.startAngle,o.startingAngleOnDragStart=o.startAngle)},_plotDragEnd:function(t){var a=this.data("plotItem"),i=a.index,a=a.chart,o=a.config,r=a.components.dataset[0],s=r.config,r=r.components.Pie3DManager,l=s.startAngle;s.isRightClicked||(s.isRotating?(setTimeout(function(){s.isRotating=!1},0),n.raiseEvent("rotationEnd",{startingAngle:e(l,!0),changeInAngle:l-s.startingAngleOnDragStart},a.chartInstance),!o.isHovered&&r.colorObjs[i]&&r.onPlotHover(i,!1)):a._plotGraphicClick.call(this,t))},_plotDragMove:function(t,i,o,r,s){var l=this.data("plotItem").chart,c=l.components.dataset[0].config;isNaN(t)||isNaN(i)||!c.enableRotation||c.singletonCase||c.isRightClicked||(t=a.call(s,o,r,c.center,c.chartPosition,c.pieYScale),c.isRotating||(c.dragStartAngle!==t&&(c.isRotating=!0),n.raiseEvent("rotationStart",{startingAngle:e(c.startAngle,!0)},l.chartInstance)),i=t-c.dragStartAngle,c.dragStartAngle=t,c.moveDuration=0,c._lastAngle+=180*i/E,t=(new Date).getTime(),c._lastTime&&!(c._lastTime+c.timerThreshold<t))||(c._lastTime||l._rotate(),c.timerId=setTimeout(function(){l.disposed&&l.disposing||l._rotate()},c.timerThreshold),c._lastTime=t)},_stubRadius:function(t,e,a,i,n,o,r){var s=this.components.dataset[0],l=s.config,c=f(s.config.slicingdistance),s=l.dataLabelOptions||(l.dataLabelOptions=s._parseDataLabelOptions()),d=0,d=l.pieYScale;return a-=l.pieSliceDepth,d=O(t/2-e-n,(a/2-o)/d)-i,d>=r?r=d:c||(n=i=T(O(i-(r-d),n),10)),l.slicingDistance=n,l.pieMinRadius=r,s.distance=i,r},_startingAngle:function(t,e){var a,i=this.components.dataset[0].config,n=(a=i.startAngle)+(0>a?360:0);return isNaN(t)||i.singletonCase||i.isRotating||(t+=e?n:0,this._rotate(t),n=t),F(100*((n%=360)+(0>n?360:0)))/100}},q.pie2d,{plotborderthickness:.1,alphaanimation:1}),q("doughnut2d",{friendlyName:"Doughnut Chart",defaultDatasetType:"Doughnut2D",creditLabel:!1,applicableDSList:{Doughnut2D:!0},getPointColor:function(t,e,a){var i;return t=V(t),e=Z(e),100>a&&x?(i=Y(t,R(100*(85-.2*(100-a)))/100),t=X(t,R(100*(100-.5*a))/100),e={FCcolor:{color:i+","+t+","+t+","+i,alpha:e+","+e+","+e+","+e,radialGradient:!0,gradientUnits:"userSpaceOnUse",r:a}}):e={FCcolor:{color:t+","+t,alpha:e+","+e,ratio:"0,100"}},e},drawDoughnutCenterLabel:function(t,e,a,i,n,o,r){var s=this.components,l=s.dataset[0].config;o=o||l.lastCenterLabelConfig;var s=s.paper,c=this.linkedItems.smartLabel,d=this.graphics,h=d.datasetGroup,p=o.padding,u=2*o.textPadding,g={fontFamily:o.font,fontSize:o.fontSize+"px",lineHeight:1.2*o.fontSize+"px",fontWeight:o.bold?"bold":"",fontStyle:o.italic?"italic":""},f=1.414*(.5*i-p)-u;n=1.414*(.5*n-p)-u;var m;c.setStyle(g),c.useEllipsesOnOverflow(this.config.useEllipsesWhenOverflow),c=c.getSmartText(t,f,n),(n=d.doughnutCenterLabel)?(n.attr("text")!==t&&this.centerLabelChange(t),m=d.centerLabelOvalBg):(o.bgOval&&(d.centerLabelOvalBg=m=s.circle(e,a,.5*i-p,h)),n=d.doughnutCenterLabel=s.text(h).hover(this.centerLabelRollover,this.centerLabelRollout).click(this.centerLabelClick),n.chart=this),t?(n.css(g).attr({x:e,y:a,text:c.text,visibility:L,direction:l.textDirection,fill:b({FCcolor:{color:o.color,alpha:o.alpha}}),"text-bound":o.bgOval?"none":[b({FCcolor:{color:o.bgColor,alpha:o.bgAlpha}}),b({FCcolor:{color:o.borderColor,alpha:o.borderAlpha}}),o.borderThickness,o.textPadding,o.borderRadius]}).tooltip(o.toolText||c.tooltext),o.bgOval&&m&&m.attr({visibility:L,fill:y(o.bgColor),"fill-opacity":o.bgAlpha/100,stroke:y(o.borderColor),"stroke-width":o.borderThickness,"stroke-opacity":o.borderAlpha/100})):(n.attr("visibility","hidden"),m&&m.attr("visibility","hidden")),r&&(l.lastCenterLabelConfig=o,l.centerLabelConfig=o)},centerLabelRollover:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,e={height:e.height,width:e.width,pixelHeight:i.offsetHeight,
pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelRollover",e,a,this,t.hoverOnCenterLabel)},centerLabelRollout:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,e={height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelRollout",e,a,this,t.hoverOffCenterLabel)},centerLabelClick:function(){var t=this.chart,e=t.config,a=t.chartInstance,i=a.ref,o=t.components.dataset[0].config.lastCenterLabelConfig,t={height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:t.linkedItems.container,centerLabelText:o&&o.label};this.attr("text")&&n.raiseEvent("centerLabelClick",t,a)},centerLabelChange:function(t){var e=this.config,a=this.chartInstance,i=a.ref;n.raiseEvent("centerLabelChanged",{height:e.height,width:e.width,pixelHeight:i.offsetHeight,pixelWidth:i.offsetWidth,id:a.id,renderer:a.args.renderer,container:this.linkedItems.container,centerLabelText:t},a)},hoverOnCenterLabel:function(){var t=this.chart.components.dataset[0].config.lastCenterLabelConfig;(t.hoverColor||t.hoverAlpha)&&this.attr({fill:b({FCcolor:{color:t.hoverColor||t.color,alpha:t.hoverAlpha||t.alpha}})})},hoverOffCenterLabel:function(){var t=this.chart.components.dataset[0].config.lastCenterLabelConfig;(t.hoverColor||t.hoverAlpha)&&this.attr({fill:b({FCcolor:{color:t.color,alpha:t.alpha}})})}},q.pie2d,{singletonPlaceValue:!1}),q("doughnut3d",{friendlyName:"3D Doughnut Chart",defaultDatasetType:"Doughnut3D",creditLabel:!1,applicableDSList:{Doughnut3D:!0},_configureManager:function(){var t=this.components.dataset[0],e=t.config,a=t.components,t=a.Pie3DManager,a=a.data;t&&t.configure(e.pieSliceDepth,1===a.length,e.use3DLighting,!0)}},q.pie3d),q("mscolumn2d",{standaloneInit:!0,friendlyName:"Multi-series Column Chart",creditLabel:!1,defaultDatasetType:"column",applicableDSList:{column:!0},eiMethods:{}},q.mscartesian),q("mscolumn3d",{standaloneInit:!0,defaultDatasetType:"column3d",friendlyName:"Multi-series 3D Column Chart",applicableDSList:{column3d:!0},defaultPlotShadow:1,fireGroupEvent:!0,is3D:!0,creditLabel:!1,defaultZeroPlaneHighlighted:!1},q.mscartesian3d,{showplotborder:0}),q("msbar2d",{standaloneInit:!0,friendlyName:"Multi-series Bar Chart",isBar:!0,hasLegend:!0,creditLabel:!1,defaultDatasetType:"bar2d",applicableDSList:{bar2d:!0}},q.msbarcartesian),q("msbar3d",{standaloneInit:!0,defaultSeriesType:"bar3d",friendlyName:"Multi-series 3D Bar Chart",fireGroupEvent:!0,defaultPlotShadow:1,is3D:!0,isBar:!0,hasLegend:!0,creditLabel:!1,defaultZeroPlaneHighlighted:!1,defaultDatasetType:"bar3d",applicableDSList:{bar3d:!0}},q.msbarcartesian3d,{showplotborder:0}),q("msarea",{standaloneInit:!0,friendlyName:"Multi-series Area Chart",creditLabel:!1,defaultDatasetType:"area",defaultPlotShadow:0,applicableDSList:{area:!0}},q.areabase),q("msline",{standaloneInit:!0,friendlyName:"Multi-series Line Chart",creditLabel:!1,defaultDatasetType:"line",defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,applicableDSList:{line:!0}},q.areabase,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),q("stackedarea2d",{friendlyName:"Stacked Area Chart",showsum:0,creditLabel:!1},q.msarea,{plotfillalpha:u,isstacked:1}),q("stackedcolumn2d",{friendlyName:"Stacked Column Chart",creditLabel:!1},q.mscolumn2d,{isstacked:!0}),q("stackedcolumn3d",{friendlyName:"3D Stacked Column Chart",creditLabel:!1},q.mscolumn3d,{showplotborder:0},q.stackedcolumn2d),q("stackedbar2d",{friendlyName:"Stacked Bar Chart",creditLabel:!1},q.msbar2d,{maxbarheight:50},q.stackedcolumn2d),q("stackedbar3d",{friendlyName:"3D Stacked Bar Chart",creditLabel:!1},q.msbar3d,{showplotborder:0},q.stackedcolumn2d),q("marimekko",{standaloneInit:!0,friendlyName:"Marimekko Chart",isValueAbs:!0,distributedColumns:!0,stack100percent:!0,defaultDatasetType:"marimekko",applicableDSList:{marimekko:!0},isStacked:!0,showsum:1,creditLabel:!1,_setAxisLimits:function(){var t,e,a,i,n=this.components,o=n.dataset,r=n.yAxis,n=n.xAxis,s=o.length,l=-1/0,c=1/0,d=1/0,h=-1/0,p={};a=this.config.categories;var u=[],g=function(t){l=T(l,t.max),c=O(c,t.min),h=T(h,t.xMax||-1/0),d=O(d,t.xMin||1/0)};for(e=0;e<s;e++)t=o[e],(i=t.groupManager)?p[t.type]=i:u.push(t);for(i in p)o=p[i].getDataLimits(),g(o);for(s=u.length,e=0;e<s;e++)o=u[e].getDataLimits(),g(o);for(-1/0===l&&(l=0),1/0===c&&(c=0),r[0].setAxisConfig({isPercent:this.config.isstacked?this.config.stack100percent:0}),r[0].setDataLimit(l,c),-1/0===h&&1/0===d||(n[0].config.xaxisrange={max:h,min:d},n[0].setDataLimit(h,d)),r=p[i].getStackSumPercent(),e=r.length,i=n[0].getCategoryLen(),i>e&&a.splice(e,i-e),this._setCategories(),e=n[0].getLimit(),d=e.min,h=e.max,a=d,i=h-d,e=0;e<r.length;e++)o=r[e],s=i*o/100,o=a+s/2,n[0].updateCategory(e,{x:o}),a+=s}},q.mscartesian,{isstacked:!0,showpercentvalues:0,usepercentdistribution:1,showsum:1}),q("msstackedcolumn2d",{standaloneInit:!0,defaultDatasetType:"column",applicableDSList:{column:!0},friendlyName:"Multi-series Stacked Column Chart",_createDatasets:function(){var t,e,a,i,n,o,r,s,l,c=this.components,d=this.jsonData,h=d.dataset,p=h&&h.length||0,u=this.defaultDatasetType,f=this.applicableDSList,m=d.lineset||[],v=this.config,b=v.dataSetMap,x=v.lineSetMap,y=b&&b.length,P=c.legend,C=[],S=[],w=0;o=0;var L,k,D,A,I=-1,F=this.config.catLen,O=c.xAxis[0],T=c.dataset;if(h||0!==m.length){for(this.config.categories=d.categories&&d.categories[0].category,e=c.dataset=[],d=0;d<p;d++){if(s=h[d],I++,s.dataset)for(A=!0,l=s.dataset&&s.dataset.length||0,C[d]=[],t=0;t<l;t++)o=s.dataset[t],i=(i=g(o.renderas,u))&&i.toLowerCase(),f[i]||(i=u),(a=FusionCharts.get("component",["dataset",i]))&&(r="datasetGroup_"+i,n=FusionCharts.register("component",["datasetGroup",i]),i=c[r],n&&!i?(i=c[r]=new n,i.chart=this,i.init()):i&&b&&0!==b.length&&!L&&(i.init(),L=!0),b&&b[d]&&b[d][t]?(a=b[d][t],a.index=w,r=a.JSONData,n=r.data.length,r=o.data&&o.data.length||0,k=O.getCategoryLen(),D=F-k,n-=r,n=this._getDiff(n,r,D,k),r=n.diff,n=n.startIndex,0<r&&a.removeData(n,r,!1),a.JSONData=o,a.configure()):(a=new a,a.chart=this,a.index=w,a.init(o)),w++,C[d].push(a),e.push(a),i&&i.addDataSet(a,I,t));else l=t=0,I--;if((s=b&&b[d]&&b[d].length)>l)for(o=t,s=s-l+t;o<s;o++)i=b[d][o],P.removeItem(i.legendItemId),_.call(i)}if(y>p)for(o=d,s=y-p+d;o<s;o++)for(l=b[o].length,t=0;t<l;t++)i=b[o][t],P.removeItem(i.legendItemId),_.call(i);if(v.dataSetMap=C,this.lineset){for(d=0,p=m.length;d<p;d++)h=m[d],a=FusionCharts.get("component",["dataset","line"]),a=new a,x&&x[d]?(a=x[d],a.index=w,r=a.JSONData,n=r.data.length,r=h.data&&h.data.length||0,n>r&&a.removeData(r,n-r,!1),a.JSONData=h,a.configure()):(a.chart=this,a.index=w,a.init(h)),S.push(a),e.push(a),w++;if((m=x&&x.length)>p)for(o=d,s=m-p+d;o<s;o++)i=x[o],P.removeItem(i.legendItemId),_.call(i);v.lineSetMap=S}A?this.config.catLen=O.getCategoryLen():(c.dataset=T,this.setChartMessage())}else this.setChartMessage()},creditLabel:!1},q.mscartesian,{isstacked:!0}),q("mscombi2d",{friendlyName:"Multi-series Combination Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"column",applicableDSList:{line:!0,area:!0,column:!0},_createDatasets:function(){var t,e,a=this.components,i=this.jsonData,n=i.dataset,o=n&&n.length,r=this.defaultDatasetType,s=this.applicableDSList;t=this.components.legend;var l,c,d,h,p,u,f,m=a.xAxis[0],v=this.config.isstacked,b=[],x={},y=this.config,P=this.config.catLen,C=y.datasetMap||(y.datasetMap={line:[],area:[],column:[],column3d:[],scrollcolumn2d:[]}),S={line:[],area:[],column:[],column3d:[],scrollcolumn2d:[]};for(n||this.setChartMessage(),this.config.categories=i.categories&&i.categories[0].category,i=a.dataset=[],t&&t.emptyItems(),t=0;t<o;t++)p=n[t],h=p.parentyaxis||"",c=(c=this.config.isdual&&"s"===h.toLowerCase()?"line"===this.defaultSecondaryDataset?this.sDefaultDatasetType:g(p.renderas,this.sDefaultDatasetType):g(p.renderas,r))&&c.toLowerCase(),s[c]||(c=r),(d=FusionCharts.get("component",["dataset",c]))&&(void 0===x[c]?x[c]=0:x[c]++,e="datasetGroup_"+c,h=FusionCharts.register("component",["datasetGroup",c]),(l=a[e])&&b.push(l),h&&!l&&(l=a[e]=new h,l.chart=this,l.init()),h=C[c],(e=h[0])?(delete e.legendItemId,l=m.getCategoryLen(),d=P-l,f=e.JSONData,u=f.data&&f.data.length,f=p.data&&p.data.length||0,u-=f,d=this._getDiff(u,f,d,l),l=d.diff,d=d.startIndex,0<l&&e.removeData(d,l,!1),e.index=t,e.JSONData=p,e.configure(),h.splice(0,1)):(e=new d,e.chart=this,e.index=t,l&&(v?l.addDataSet(e,0,x[c]):l.addDataSet(e,x[c],0)),e.init(p)),S[c].push(e),i.push(e));for(n in C)if(h=C[n],r=h[0]&&h[0].groupManager,o=h.length,s=void 0===x[n]?0:x[n]+1,o)for(v&&r&&r.removeDataSet(0,s,o),a=0;a<o;a++)r&&!v&&r.removeDataSet(s,0,1),"column"===h[a].type&&!0===this.is3D?(h[a].visible=!1,h[a].draw()):_.call(h[a]);y.datasetMap=S,this.config.catLen=m.getCategoryLen()}},q.areabase),q("mscombi3d",{standaloneInit:!0,friendlyName:"Multi-series 3D Combination Chart",defaultDatasetType:"column3d",is3D:!0,creditLabel:!1,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0,area:!0},_createDatasets:q.mscombi2d},q.mscartesian3d,{showplotborder:0},q.areabase),q("mscolumnline3d",{friendlyName:"Multi-series Column and Line Chart",is3D:!0,creditLabel:!1,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0}},q.mscombi3d,{use3dlineshift:1,showplotborder:0},q.msarea),q("stackedcolumn2dline",{friendlyName:"Stacked Column and Line Chart",defaultDatasetType:"column",creditLabel:!1,applicableDSList:{line:!0,column:!0}},q.mscombi2d,{isstacked:!0,stack100percent:0},q.msarea),q("stackedcolumn3dline",{friendlyName:"Stacked 3D Column and Line Chart",is3D:!0,creditLabel:!1,applicableDSList:{column3d:!0,line:!0}},q.mscombi3d,{use3dlineshift:1,isstacked:!0,stack100percent:0,showplotborder:0},q.msarea),q("mscombidy2d",{standaloneInit:!0,friendlyName:"Multi-series Dual Y-Axis Combination Chart",defaultDatasetType:"column",sDefaultDatasetType:"line",_createDatasets:q.mscombi2d,creditLabel:!1,applicableDSList:{column:!0,line:!0,area:!0}},q.msdybasecartesian,{isdual:1},q.msarea),q("mscolumn3dlinedy",{standaloneInit:!0,friendlyName:"Multi-series 3D Column and Line Chart",defaultDatasetType:"column3d",sDefaultDatasetType:"line",is3D:!0,creditLabel:!1,_createDatasets:q.mscombi2d,defaultPlotShadow:1,applicableDSList:{column3d:!0,line:!0}},q.msdybasecartesian3d,{use3dlineshift:1,isdual:!0,showplotborder:0},q.msarea),q("stackedcolumn3dlinedy",{standaloneInit:!0,friendlyName:"Stacked 3D Column and Line Chart",is3D:!0,defaultDatasetType:"column3d",creditLabel:!1,sDefaultDatasetType:"line",defaultSecondaryDataset:"line",_createDatasets:q.mscombi2d,applicableDSList:{column3d:!0,line:!0}},q.msdybasecartesian3d,{use3dlineshift:1,isdual:!0,isstacked:!0,showplotborder:0},q.msarea),q("msstackedcolumn2dlinedy",{standaloneInit:!0,friendlyName:"Multi-series Dual Y-Axis Stacked Column and Line Chart",stack100percent:0,defaultDatasetType:"column",sDefaultDatasetType:"line",hasLineSet:!0,creditLabel:!1,applicableDSList:{column:!0},lineset:!0,_createDatasets:q.msstackedcolumn2d},q.msdybasecartesian,{isdual:!0,haslineset:!0,isstacked:!0},q.msarea),q("scrollcolumn2d",{standaloneInit:!0,friendlyName:"Scrollable Multi-series Column Chart",tooltipConstraint:"plot",canvasborderthickness:1,creditLabel:!1,defaultDatasetType:"scrollcolumn2d",applicableDSList:{scrollcolumn2d:!0},avgScrollPointWidth:40,hasScroll:!0,defaultPlotShadow:1,_manageScrollerPosition:function(){var t,e=this.config;t=this._scrollBar.get;var a,i=this.components.scrollBar;t=t()[0],i.setConfiguaration(t.conf),t=e.scrollEnabled,a=i.getLogicalSpace(),this._allocateSpace({bottom:e.shift=!1===t?0:a.height+i.conf.padding})},_resetViewPortConfig:function(){this.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}},updateManager:function(t){var e=this.config,a=this.config.viewPortConfig,i=a.scaleX,n=this.graphics.datasetGroup,o=this.graphics.datalabelsGroup,r=this.graphics.trackerGroup,s=e.canvasWidth*(i-1)*t,l=this.components.xAxis[0],c=this.graphics.sumLabelsLayer;a.x=s/i,a="t"+-F(s)+",0",e.lastScrollPosition=t,n.attr({transform:a}),o.attr({transform:a}),r.attr({transform:a}),c&&c.attr({transform:a}),t=l.getAxisConfig("animateAxis"),e=l.getAxisConfig("drawAxisName"),l.setAxisConfig({animateAxis:!1,drawAxisName:!1}),l.draw(),l.setAxisConfig({animateAxis:t,drawAxisName:e})},_createToolBox:function(){var t,e,a=this.components,i=this._scrollBar,n=i.get,o=i.add,r=a.scrollBar;q.mscartesian._createToolBox.call(this),t=a.tb,e=(a.toolBoxAPI||t.getAPIInstances(t.ALIGNMENT_HORIZONTAL)).Scroller,i.clear(),o({isHorizontal:!0},{scroll:function(t){return function(){t.updateManager.apply(t,arguments)}}(this)}),i=n()[0],r||(a.scrollBar=new e(i.conf,t.idCount,t.pId).attachEventHandlers(i.handler))},_setAxisScale:function(){var t,e,a,i=this.config,n=this.components.xAxis[0].getCategoryLen(),o=this.jsonData,r=i.scrollOptions||(i.scrollOptions={}),s=this.components.dataset,l=s.length,c=0;a=i.canvasWidth;var d=i.scrollToEnd,h=i.lastScrollPosition,o=f(o.chart.numvisibleplot,R(i.width/this.avgScrollPointWidth));for(e=0;e<l;e++)t=s[e],"column"===t.type&&c++;this.config.isstacked&&(c=1),n*=c||1,2<=o&&o<n?(i.viewPortConfig.scaleX=n/=o,a=a*(n-1)*(void 0!==h?h:d?1:0),i.viewPortConfig.x=a/n,r.vxLength=o/l,i.scrollEnabled=!0):i.scrollEnabled=!1},drawScrollBar:function(){var t,e,a,i,o,r=this,s=r.config,l=s.viewPortConfig,d=r.components,h=r.graphics,p=d.paper,u=d.xAxis[0],g=u.config,m=u.config.axisRange,v=s.scrollOptions||(s.scrollOptions={}),b=m.max,x=m.min,y=v.vxLength,P=d.scrollBar,m=P.node,C=s.scrollToEnd,S=s.lastScrollPosition,w=l.scaleX;i=void 0!==S?S:C?1:0,l=s.canvasLeft,C=s.canvasTop,S=s.canvasHeight,t=s.canvasWidth,d=d.canvas.config,e=d.canvasBorderWidth,a=g.showAxisLine?g.axisLineThickness||0:0,o=f(e,g.lineStartExtension),g=f(e,g.lineEndExtension),v.viewPortMin=x,v.viewPortMax=b,w=v.scrollRatio=1/w,y=v.windowedCanvasWidth=u.getAxisPosition(y),u=v.fullCanvasWidth=u.getAxisPosition(b-x)-y,v=h.scrollBarParentGroup,v||(v=h.scrollBarParentGroup=p.group("scrollBarParentGroup",h.parentGroup).insertBefore(h.datalabelsGroup)),!1!==s.scrollEnabled?(P.draw(l-o,C+S+e+a-2,{width:t+o+g,scrollRatio:w,roundEdges:d.isRoundEdges,fullCanvasWidth:u,windowedCanvasWidth:y,scrollPosition:i,parentLayer:v}),!m&&function(){var t;c.eve.on("raphael.scroll.start."+P.node.id,function(e){t=e,n.raiseEvent("scrollstart",{scrollPosition:e},r.chartInstance)}),c.eve.on("raphael.scroll.end."+P.node.id,function(e){n.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:e},r.chartInstance)})}()):P&&P.node&&P.node.hide()},_drawDataset:function(){this._setClipping(),q.mscartesian._drawDataset.call(this)},_setClipping:function(){var t=this.config,e=this.graphics.datasetGroup,a=this.graphics.datalabelsGroup,i=this.graphics.trackerGroup,n=t.viewPortConfig,o=this.graphics.sumLabelsLayer,r=n.scaleX,s=this.get("config","animationObj"),l=s.duration,c=s.dummyObj,d=s.animObj,s=s.animType,n=n.x,t=t.height,h=this.components.canvas.config.clip["clip-canvas"],h=h&&h.slice(0)||[];this.config.clipSet?(e.animateWith(c,d,{"clip-rect":h},l,s),a.animateWith(c,d,{"clip-rect":h},l,s),i.attr({"clip-rect":h}),h[3]=t,h[1]=0,o&&o.animateWith(c,d,{"clip-rect":h},l,s)):(e.attr({"clip-rect":h}),a.attr({"clip-rect":h}),i.attr({"clip-rect":h}),h[3]=t,h[1]=0,o&&o.attr({"clip-rect":h})),e.attr({transform:"T"+-n*r+",0"}),a.attr({transform:"T"+-n*r+",0"}),i.attr({transform:"T"+-n*r+",0"}),o&&o.attr({transform:"T"+-n*r+",0"}),this.config.clipSet=!0},configure:function(){var t,e=this.jsonData.chart;q.mscolumn2d.configure.call(this),t=this.config,t.scrollToEnd=f(e.scrolltoend,0),t.lastScrollPosition=void 0}},q.scrollbase),q("scrollarea2d",{friendlyName:"Scrollable Multi-series Area Chart",tooltipConstraint:"plot",canvasborderthickness:1,creditLabel:!1,hasScroll:!0,defaultDatasetType:"scrollarea2d",applicableDSList:{scrollarea2d:!0},avgScrollPointWidth:75,defaultPlotShadow:0,_setAxisScale:function(){var t,e=this.config,a=this.components.xAxis[0].getCategoryLen(),i=this.jsonData,n=e.scrollOptions||(e.scrollOptions={});t=e.lastScrollPosition;var o=e.scrollToEnd,r=e.canvasWidth,i=f(i.chart.numvisibleplot,R(e.width/this.avgScrollPointWidth));2<=i&&i<a?(e.viewPortConfig.scaleX=a/=i,t=r*(a-1)*(void 0!==t?t:o?1:0),e.viewPortConfig.x=t/a,n.vxLength=i,e.scrollEnabled=!0):e.scrollEnabled=!1}},q.scrollcolumn2d,{},q.areabase),q("scrollline2d",{friendlyName:"Scrollable Multi-series Line Chart",tooltipConstraint:"plot",canvasborderthickness:1,defaultDatasetType:"line",creditLabel:!1,avgScrollPointWidth:75,defaultPlotShadow:1},q.scrollarea2d,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},q.areabase),q("scrollstackedcolumn2d",{friendlyName:"Scrollable Stacked Column Chart",canvasborderthickness:1,tooltipConstraint:"plot",avgScrollPointWidth:75,creditLabel:!1},q.scrollcolumn2d,{},q.stackedcolumn2d),q("scrollcombi2d",{friendlyName:"Scrollable Combination Chart",tooltipConstraint:"plot",hasScroll:!0,canvasborderthickness:1,avgScrollPointWidth:40,applicableDSList:{area:!0,line:!0,column:!0},creditLabel:!1,_createDatasets:q.mscombi2d},q.scrollcolumn2d,{},q.msarea),q("scrollcombidy2d",{friendlyName:"Scrollable Dual Y-Axis Combination Chart",tooltipConstraint:"plot",canvasborderthickness:1,avgScrollPointWidth:40,hasScroll:!0,_drawDataset:q.scrollcolumn2d,updateManager:q.scrollcolumn2d,_setAxisScale:q.scrollcolumn2d,_createToolBox:q.scrollcolumn2d,_scrollBar:q.scrollcolumn2d,_manageScrollerPosition:q.scrollcolumn2d,drawScrollBar:q.scrollcolumn2d,_setClipping:q.scrollcolumn2d,creditLabel:!1,configure:q.scrollcolumn2d},q.mscombidy2d,{isdual:!0},q.areabase),q("scatter",{friendlyName:"Scatter Chart",isXY:!0,standaloneInit:!0,hasLegend:!0,defaultZeroPlaneHighlighted:!1,creditLabel:!1,defaultDatasetType:"Scatter",applicableDSList:{Scatter:!0}},q.scatterBase),v(o.eventList,{zoomedOut:"FC_ZoomedOut"}),q("bubble",{friendlyName:"Bubble Chart",standaloneInit:!0,defaultDatasetType:"bubble",creditLabel:!1,applicableDSList:{bubble:!0},getDataLimits:function(){var t,e,a,i=this.components.dataset,n=-1/0,o=1/0;for(t=0,a=i.length;t<a;t++)e=i[t],e=e.getDataLimits(),n=T(n,e.zMax||-1/0),o=O(o,e.zMin||1/0);return n=-1/0===n?0:n,o=1/0===o?0:o,{zMax:n,zMin:o}}},q.scatter),c._availableAnimAttrs&&c._availableAnimAttrs.cx&&(c._availableAnimAttrs.innerR=c._availableAnimAttrs.depth=c._availableAnimAttrs.radiusYFactor=c._availableAnimAttrs.start=c._availableAnimAttrs.end=c._availableAnimAttrs.cx),i.prototype={configure:function(t,e,a,i){var n=this.linkedItems.chart,o=n.get("components","paper"),n=n.get("graphics","datasetGroup");"object"==typeof t&&(t=t.depth,e=t.hasOnePoint,a=t.use3DLighting,i=t.isDoughnut),this.renderer||(this.renderer=o),this.hasOnePoint=e,this.use3DLighting=a,this.isDoughnut=i,this.depth=t,!this.bottomBorderGroup&&(this.bottomBorderGroup=o.group("bottom-border",n)),this.bottomBorderGroup.attr({transform:"t0,"+t}),!this.slicingWallsBackGroup&&(this.slicingWallsBackGroup=o.group("slicingWalls-back-Side",n)),!this.slicingWallsFrontGroup&&(this.slicingWallsFrontGroup=o.group("slicingWalls-front-Side",n)),!this.topGroup&&(this.topGroup=o.group("top-Side",n)),!this.pointElemStore&&(this.pointElemStore=[]),!this.slicingWallsArr&&(this.slicingWallsArr=[]),this.moveCmdArr=["M"],this.lineCmdArr=["L"],this.closeCmdArr=["Z"],this.colorObjs=[]},getArcPath:function(t,e,a,i,n,o,r,s,l,c){return a==n&&i==o?[]:["A",r,s,0,c,l,n,o]},_parseSliceColor:function(t,e,a){var i,n,o,r,s,l,c,d,h,p,u,g,f,m,v;v=3;var y=(i=this.use3DLighting)?et:at,P=a.radiusYFactor,C=a.cx,S=a.cy,w=a.r,_=w*P,L=a.innerR||0,k=C+w,D=C-w,A=C+L,I=C-L;return e=e||100,a=e/2,y[t]&&y[t][e]?y=y[t][e]:(y[t]||(y[t]={}),y[t][e]||(y[t][e]={}),y=y[t][e],i?(i=Y(t,80),n=Y(t,75),l=X(t,85),c=X(t,70),d=X(t,40),h=X(t,50),X(t,30),p=X(t,65),Y(t,85),o=Y(t,69),r=Y(t,75),s=Y(t,95)):(v=10,i=Y(t,90),n=Y(t,87),l=X(t,93),c=X(t,87),d=X(t,80),p=h=X(t,85),X(t,80),s=Y(t,85),o=Y(t,75),r=Y(t,80)),u=n+K+l+K+c+K+l+K+n,f=e+K+e+K+e+K+e+K+e,g=n+K+t+K+l+K+t+K+n,m=a+K+a+K+a+K+a+K+a,d=n+K+t+K+d+K+t+K+n,o=r+K+l+K+h+K+l+K+o,r="FFFFFF"+K+"FFFFFF"+K+"FFFFFF"+K+"FFFFFF"+K+"FFFFFF",v=0+K+a/v+K+e/v+K+a/v+K+0,y.top=x?{FCcolor:{gradientUnits:"userSpaceOnUse",radialGradient:!0,color:p+K+s,alpha:e+K+e,ratio:"0,100"}}:{FCcolor:{gradientUnits:"objectBoundingBox",color:c+K+c+K+l+K+n,alpha:e+K+e+K+e+K+e,angle:-72,ratio:"0,8,15,77"}},y.frontOuter={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:o,alpha:f,angle:0,ratio:"0,20,15,15,50"}},y.backOuter={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:d,alpha:m,angle:0,ratio:"0,62,8,8,22"}},y.frontInner={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:g,alpha:m,angle:0,ratio:"0,25,5,5,65"}},y.backInner={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:u,alpha:f,angle:0,ratio:"0,62,8,8,22"}},y.topBorder={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:r,alpha:v,angle:0,ratio:"0,20,15,15,50"}},y.topInnerBorder={FCcolor:{gradientUnits:"userSpaceOnUse",y1:0,y2:0,color:r,alpha:v,angle:0,ratio:"0,50,15,15,20"}},y.bottom=b(U(t,a)),y.startSlice=b(U(i,e)),y.endSlice=b(U(i,e))),y.cx===C&&y.cy===S&&y.rx===w&&y.radiusYFactor===P&&y.innerRx===L||(x&&(y.top.FCcolor.cx=C,y.top.FCcolor.cy=S,y.top.FCcolor.r=w,y.top.FCcolor.fx=C-.3*w,y.top.FCcolor.fy=S+1.2*_),y.topBorder.FCcolor.x1=y.backOuter.FCcolor.x1=y.frontOuter.FCcolor.x1=D,y.topBorder.FCcolor.x2=y.backOuter.FCcolor.x2=y.frontOuter.FCcolor.x2=k,y.topInnerBorder.FCcolor.x1=y.backInner.FCcolor.x1=y.frontInner.FCcolor.x1=I,y.topInnerBorder.FCcolor.x2=y.backInner.FCcolor.x2=y.frontInner.FCcolor.x2=A,y.cx=C,y.cy=S,y.rx=w,y.radiusYFactor=P,y.innerRx=L),y},rotate:function(t){var e,a=this.pointElemStore,i=0,n=a.length;if(!this.hasOnePoint){for(;i<n;i+=1)e=a[i],e=e._confObject,e.start+=t,e.end+=t,this._setSliceShape(e);this.refreshDrawing()}},removeSlice:function(t){var e,a=this.pointElemStore,i=t._confObject.elements,n=this.slicingWallsArr;e=a.length;for(--e;0<=e;--e)a[e]===t&&a.splice(e,1);for(e=n.length,--e;0<=e;--e)(a=n[e])!==i.startSlice&&a!==i.frontOuter1&&a!==i.frontOuter&&a!==i.backInner&&a!==i.endSlice||n.splice(e,1);t.hide&&t.hide(),this._slicePool||(this._slicePool=[]),this._slicePool.push(t),this.refreshDrawing()},useSliceFromPool:function(){var t=this._slicePool||(this._slicePool=[]),e=this.slicingWallsArr,a=!1;return t.length&&(a=t.shift(),this.pointElemStore.push(a),a.show(),t=a._confObject.elements,e.push(t.startSlice,t.frontOuter1,t.frontOuter),t.backInner&&e.push(t.backInner),e.push(t.endSlice)),a},refreshDrawing:function(){var t=function(t,e){return t._conf.index-e._conf.index||t._conf.cIndex-e._conf.cIndex||t._conf.isStart-e._conf.isStart||t._conf.si-e._conf.si};return function(){var e,a,i,n,o,r=this.slicingWallsArr,s=0,l=r.length,c=this.slicingWallsFrontGroup,d=this.slicingWallsBackGroup;r.sort(t);t:{var h,p=r[0]&&r[0]._conf.index;for(o=p<=W,a=1,e=r.length;a<e;a+=1)if(h=r[a]._conf.index,h<=W!=o||h<p)break t;a=0}for(;s<l;s+=1,a+=1)a===l&&(a=0),e=r[a],o=e._conf.index,o<G?c.appendChild(e):o<=W?(i?e.insertBefore(i):c.appendChild(e),i=e):o<=j?(n?e.insertBefore(n):d.appendChild(e),n=e):d.appendChild(e)}}(),_setSliceShape:function(t,a){var i,n,o,r,s,l,c,d,h,p,u,g,f,m,v,b,y,P,C,S,w,_,L=this.getArcPath,k=t.start,I=t.end,F=e(k),O=e(I),T=this.isDoughnut,B=t.radiusYFactor,E=t.cx,M=t.cy,R=t.r,N=R*B,z=R+(x?-1:2),V=N+(x?-1:2),Z=t.innerR||0,Y=Z*B,X=this.depth,U=X+M,J=E+R,Q=E-R,q=E+Z,K=E-Z,$=M-N,tt=["M",K,$,"L",K,U+N,"Z"],B=t.elements,et="path",at=(F+O)/2,it=F>O;n=A(F),o=D(F),r=A(O),s=D(O),l=E+R*n,c=M+N*o,d=E+z*n,h=M+V*o,P=c+X,C=E+R*r,S=M+N*s,p=E+z*r,u=M+V*s,w=S+X,T?(g=E+Z*n,f=M+Y*o,b=f+X,m=E+Z*r,v=M+Y*s,y=v+X,t.startSlice=["M",l,c,"L",l,P,g,b,g,f,"Z"],t.endSlice=["M",C,S,"L",C,w,m,y,m,v,"Z"]):(t.startSlice=["M",l,c,"L",l,P,E,U,E,M,"Z"],t.endSlice=["M",C,S,"L",C,w,E,U,E,M,"Z"]),x?(i=(F>O?H:0)+O-F,t.clipTopPath=T?[["M",l,c,"A",R,N,0,i>W?1:0,1,C,S,"L",m,v,"A",Z,Y,0,i>W?1:0,0,g,f,"Z"]]:[["M",l,c,"A",R,N,0,i>W?1:0,1,C,S,"L",E,M,"Z"]],t.clipOuterFrontPath1=[tt],t.clipTopBorderPath=[["M",d,h,"A",z,V,0,i>W?1:0,1,p,u,"L",C,S,C,S+1,"A",R,N,0,i>W?1:0,0,l,c+1,"L",l,c,"Z"]],k!=I?F>O?F<W?(t.clipOuterFrontPath=[["M",J,M,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,J,M+X,"Z"]],t.clipOuterFrontPath1=[["M",Q,M,"A",R,N,0,0,0,l,c,"v",X,"A",R,N,0,0,1,Q,M+X,"Z"]],t.clipOuterBackPath=[["M",J,M,"A",R,N,0,1,0,Q,M,"v",X,"A",R,N,0,1,1,J,M+X,"Z"]],T&&(t.clipInnerBackPath=[["M",q,M,"A",Z,Y,0,1,0,K,M,"v",X,"A",Z,Y,0,1,1,q,M+X,"Z"]],t.clipInnerFrontPath=[["M",q,M,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,q,M+X,"Z","M",K,M,"A",Z,Y,0,0,0,g,f,"v",X,"A",Z,Y,0,0,1,K,M+X,"Z"]])):O>W?(t.clipOuterFrontPath=[["M",J,M,"A",R,N,0,1,1,Q,M,"v",X,"A",R,N,0,1,0,J,M+X,"Z"]],t.clipOuterBackPath=[["M",Q,M,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,Q,M+X,"Z","M",J,M,"A",R,N,0,0,0,l,c,"v",X,"A",R,N,0,0,1,J,M+X,"Z"]],T&&(t.clipInnerFrontPath=[["M",q,M,"A",Z,Y,0,1,1,K,M,"v",X,"A",Z,Y,0,1,0,q,M+X,"Z"]],t.clipInnerBackPath=[["M",K,M,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,K,M+X,"Z","M",q,M,"A",Z,Y,0,0,0,g,f,"v",X,"A",Z,Y,0,0,1,q,M+X,"Z"]])):(t.clipOuterFrontPath=[["M",J,M,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,J,M+X,"Z"]],t.clipOuterBackPath=[["M",l,c,"A",R,N,0,0,1,J,M,"v",X,"A",R,N,0,0,0,l,P,"Z"]],T&&(t.clipInnerFrontPath=[["M",q,M,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,q,M+X,"Z"]],t.clipInnerBackPath=[["M",g,f,"A",Z,Y,0,0,1,q,M,"v",X,"A",Z,Y,0,0,0,g,b,"Z"]])):F<W?O>W?(t.clipOuterFrontPath=[["M",l,c,"A",R,N,0,0,1,Q,M,"v",X,"A",R,N,0,0,0,l,P,"Z"]],t.clipOuterBackPath=[["M",Q,M,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,Q,M+X,"Z"]],T&&(t.clipInnerFrontPath=[["M",g,f,"A",Z,Y,0,0,1,K,M,"v",X,"A",Z,Y,0,0,0,g,b,"Z"]],t.clipInnerBackPath=[["M",K,M,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,K,M+X,"Z"]])):(t.clipOuterFrontPath=[["M",l,c,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,l,P,"Z"]],t.clipOuterBackPath=[tt],T&&(t.clipInnerFrontPath=[["M",g,f,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,g,b,"Z"]],t.clipInnerBackPath=[tt])):(t.clipOuterFrontPath=[tt],t.clipOuterBackPath=[["M",l,c,"A",R,N,0,0,1,C,S,"v",X,"A",R,N,0,0,0,l,P,"Z"]],T&&(t.clipInnerFrontPath=[tt],t.clipInnerBackPath=[["M",g,f,"A",Z,Y,0,0,1,m,v,"v",X,"A",Z,Y,0,0,0,g,b,"Z"]])):t.clipOuterFrontPath=t.clipOuterBackPath=t.clipInnerBackPath=t.clipInnerFrontPath=[tt],et="litepath",t.clipBottomBorderPath=t.clipTopPath,t.startSlice=[t.startSlice],t.endSlice=[t.endSlice]):(z=this.moveCmdArr,V=this.lineCmdArr,n=this.closeCmdArr,X=[E,M],o=[Q,M],$=[E,$],r=[J,M],s=[E,M+N],tt=[Q,U],_=[J,U],d=[K,M],h=[q,M],p=[K,U],u=[q,U],t.clipOuterFrontPath1=[],k!=I?(F>O?F<W?(k=L(E,M,l,c,Q,M,R,N,1,0),I=L(E,M,Q,M,J,M,R,N,1,0),S=L(E,M,J,M,C,S,R,N,1,0),t.clipOuterBackPath=z.concat(o,I,V,_,L(E,U,J,U,Q,U,R,N,0,0),n),t.clipOuterFrontPath1=z.concat([l,c],k,V,tt,L(E,U,Q,U,l,P,R,N,0,0),n),t.clipOuterFrontPath=z.concat(r,S,V,[C,w],L(E,U,C,w,J,U,R,N,0,0),n),t.clipTopBorderPath=z.concat([l,c],k,I,S),T?(R=L(E,M,m,v,q,M,Z,Y,0,0),N=L(E,M,q,M,K,M,Z,Y,0,0),f=L(E,M,K,M,g,f,Z,Y,0,0),t.clipInnerBackPath=z.concat(h,N,V,p,L(E,U,K,U,q,U,Z,Y,1,0),n),t.clipInnerFrontPath=z.concat(d,f,V,[g,b],L(E,U,g,b,K,U,Z,Y,1,0),n,z,[m,v],R,V,u,L(E,U,q,U,m,y,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,N,f,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(z,[m,v],R,N,f)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):O>W?(k=L(E,M,l,c,J,M,R,N,1,0),I=L(E,M,J,M,Q,M,R,N,1,0),S=L(E,M,Q,M,C,S,R,N,1,0),t.clipOuterFrontPath=z.concat(r,I,V,tt,L(E,U,Q,U,J,U,R,N,0,0),n),t.clipOuterBackPath=z.concat([l,c],k,V,_,L(E,U,J,U,l,P,R,N,0,0),n,z,o,S,V,[C,w],L(E,U,C,w,Q,U,R,N,0,0),n),t.clipTopBorderPath=z.concat([l,c],k,I,S),T?(R=L(E,M,m,v,K,M,Z,Y,0,0),N=L(E,M,K,M,q,M,Z,Y,0,0),f=L(E,M,q,M,g,f,Z,Y,0,0),t.clipInnerFrontPath=z.concat(d,N,V,u,L(E,U,q,U,K,U,Z,Y,1,0),n),t.clipInnerBackPath=z.concat(h,f,V,[g,b],L(E,U,g,b,q,U,Z,Y,1,0),n,z,[m,v],R,V,p,L(E,U,K,U,m,y,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,N,f,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(z,[m,v],R,N,f)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(k=L(E,M,l,c,J,M,R,N,1,0),I=L(E,M,J,M,C,S,R,N,1,0),t.clipOuterFrontPath=z.concat(r,I,V,[C,w],L(E,U,C,w,J,U,R,N,0,0),n),t.clipOuterBackPath=z.concat([l,c],k,V,_,L(E,U,J,U,l,P,R,N,0,0),n),t.clipTopBorderPath=z.concat([l,c],k,I),T?(R=L(E,M,m,v,q,M,Z,Y,0,0),N=L(E,M,q,M,g,f,Z,Y,0,0),t.clipInnerFrontPath=z.concat([m,v],R,V,u,L(E,U,q,U,m,y,Z,Y,1,0),n),t.clipInnerBackPath=z.concat(h,N,V,[g,b],L(E,U,g,b,q,U,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,N,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(z,[m,v],R,N)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):F<W?O>W?(k=L(E,M,l,c,Q,M,R,N,1,0),I=L(E,M,Q,M,C,S,R,N,1,0),t.clipOuterBackPath=z.concat(o,I,V,[C,w],L(E,U,C,w,Q,U,R,N,0,0),n),t.clipOuterFrontPath=z.concat([l,c],k,V,tt,L(E,U,Q,U,l,P,R,N,0,0),n),t.clipTopBorderPath=z.concat([l,c],k,I),T?(R=L(E,M,m,v,K,M,Z,Y,0,0),N=L(E,M,K,M,g,f,Z,Y,0,0),t.clipInnerBackPath=z.concat([m,v],R,V,p,L(E,U,K,U,m,y,Z,Y,1,0),n),t.clipInnerFrontPath=z.concat(d,N,V,[g,b],L(E,U,g,b,K,U,Z,Y,1,0),n),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,N,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(z,[m,v],R,N)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(k=L(E,M,l,c,C,S,R,N,1,0),t.clipOuterBackPath=z.concat([l,c]),t.clipTopBorderPath=t.clipOuterBackPath.concat(k),t.clipOuterFrontPath=t.clipTopBorderPath.concat(V,[C,w],L(E,U,C,w,l,P,R,N,0,0),n),T?(R=L(E,M,m,v,g,f,Z,Y,0,0),t.clipInnerBackPath=z.concat([m,v]),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(z,[m,v],R),t.clipInnerFrontPath=t.clipInnerBackPath.concat(R,V,[g,b],L(E,U,g,b,m,y,Z,Y,1,0),n)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)):(k=L(E,M,l,c,C,S,R,N,1,0),t.clipOuterFrontPath=z.concat([l,c]),t.clipTopBorderPath=t.clipOuterFrontPath.concat(k),t.clipOuterBackPath=t.clipTopBorderPath.concat(V,[C,w],L(E,U,C,w,l,P,R,N,0,0),n),T?(R=L(E,M,m,v,g,f,Z,Y,0,0),t.clipInnerFrontPath=z.concat([m,v]),t.clipTopPath=t.clipTopBorderPath.concat(V,[m,v],R,n),t.clipTopBorderPath=t.clipTopBorderPath.concat(t.clipInnerFrontPath,R),t.clipInnerBackPath=t.clipInnerFrontPath.concat(R,V,[g,b],L(E,U,g,b,m,y,Z,Y,1,0),n)):t.clipTopPath=t.clipTopBorderPath.concat(V,X,n)),k=z.concat(o,V,r),R=z.concat($,V,s),t.clipTopPath=t.clipTopPath.concat(k,R),t.clipOuterFrontPath=t.clipOuterFrontPath.concat(k),t.clipOuterFrontPath1=t.clipOuterFrontPath1.concat(k),t.clipOuterBackPath=t.clipOuterBackPath.concat(k),T&&(R=z.concat(d,V,h),t.clipInnerFrontPath=t.clipInnerFrontPath.concat(R),t.clipInnerBackPath=t.clipInnerBackPath.concat(R))):(t.clipTopPath=t.clipOuterFrontPath=t.clipOuterBackPath=[],T&&(t.clipInnerFrontPath=t.clipInnerBackPath=[])),t.clipBottomBorderPath=t.clipTopBorderPath),a||(B.startSlice._conf.index=F,B.endSlice._conf.index=O,B.backOuter._conf.index=g=it&&(F<=j||O>j)||F<=j&&O>j?j:F>W?F:O,B.frontOuter._conf.index=L=O<=G?O:F>O||F<=G?G:F,B.frontOuter1._conf.index=F,B.frontOuter1._conf.cIndex=W,F>O?(B.backOuter._conf.cIndex=F<j?j:H,B.startSlice._conf.cIndex=F<W?(F+W)/2:(F+H)/2,B.endSlice._conf.cIndex=B.frontOuter._conf.cIndex=0):B.backOuter._conf.cIndex=B.startSlice._conf.cIndex=B.endSlice._conf.cIndex=B.frontOuter._conf.cIndex=at,i>W?B.frontOuter1.show().attr(et,t.clipOuterFrontPath1):B.frontOuter1.hide(),t.thisElement._attr(et,t.clipTopPath),B.bottom.attr(et,t.clipTopPath),B.bottomBorder.attr(et,t.clipBottomBorderPath),B.topBorder&&B.topBorder.attr(et,t.clipTopBorderPath),B.frontOuter.attr(et,t.clipOuterFrontPath),B.backOuter.attr(et,t.clipOuterBackPath),T&&(B.backInner.attr(et,t.clipInnerBackPath),B.frontInner.attr(et,t.clipInnerFrontPath),B.backInner._conf.index=g,B.frontInner._conf.index=L,F>O?(B.backInner._conf.cIndex=H,B.frontInner._conf.cIndex=0):B.backInner._conf.cIndex=B.frontInner._conf.cIndex=at),this.hasOnePoint?(B.startSlice.hide(),B.endSlice.hide()):(B.startSlice.attr(et,t.startSlice).show(),
B.endSlice.attr(et,t.endSlice).show()))},_setSliceCosmetics:function(t){var e,a=t.thisElement,i=t.showBorderEffect,n=t.elements,o=U(t.borderColor,f(t.borderAlpha,t.alpha)),r=t.borderWidth;t.color&&(t=this._parseSliceColor(t.color,t.alpha,t),x?(e={fill:b(t.top),"stroke-width":0},i?n.topBorder.show().attr({fill:b(t.topBorder),"stroke-width":0}):(n.topBorder.hide(),e.stroke=o,e["stroke-width"]=r),a._attr(e)):(a._attr({fill:b(t.top),"stroke-width":0}),n.topBorder.attr({stroke:o,"stroke-width":r})),n.bottom.attr({fill:b(t.bottom)}),n.bottomBorder.attr({stroke:o,"stroke-width":r}),n.frontOuter.attr({fill:b(t.frontOuter)}),n.frontOuter1.attr({fill:b(t.frontOuter)}),n.backOuter.attr({fill:b(t.backOuter)}),n.startSlice.attr({fill:b(t.startSlice),stroke:o,"stroke-width":r}),n.endSlice.attr({fill:b(t.endSlice),stroke:o,"stroke-width":r}),this.isDoughnut&&(n.frontInner.attr({fill:b(t.frontInner)}),n.backInner.attr({fill:b(t.backInner)})))},createSlice:function(){var t={stroke:!0,strokeWidth:!0,"stroke-width":!0,dashstyle:!0,"stroke-dasharray":!0,translateX:!0,translateY:!0,"stroke-opacity":!0,fill:!0,opacity:!0,transform:!0,ishot:!0,cursor:!0,start:!0,end:!0,color:!0,alpha:!0,borderColor:!0,borderAlpha:!0,borderWidth:!0,rolloverProps:!0,showBorderEffect:!0,positionIndex:!0,cx:!0,cy:!0,radiusYFactor:!0,r:!0,innerR:!0},e=function(e,a){var i,n,o,r,s,l,c=this,d=c._confObject,h={},p=d.elements,u=d.Pie3DManager;if("string"==typeof e&&void 0!==a&&null!==a&&(i=e,e={},e[i]=a),e&&"string"!=typeof e){for(i in e)n=e[i],t[i]?(d[i]=n,"ishot"===i||"cursor"===i||"transform"===i?(h[i]=n,l=!0):"start"===i||"end"===i||"cx"===i||"cy"===i||"radiusYFactor"===i||"r"===i||"innerR"===i?r=!0:"color"!==i&&"alpha"!==i&&"borderColor"!==i&&"borderAlpha"!==i&&"borderWidth"!==i||(s=!0)):c._attr(i,n);if(r&&(u._setSliceShape(d),u.refreshDrawing()),(s||r)&&u._setSliceCosmetics(d),l){for(o in p)p[o].attr(h);c._attr(h)}}else c=t[e]?d[e]:c._attr(e);return c},a=function(t,e){var a,i=this._confObject.elements;for(a in i)i[a].on(t,e);return this._on(t,e)},i=function(t,e,a){var i,n=this._confObject.elements,o=-1<s.navigator.userAgent.toLowerCase().indexOf("android");for(i in n)o?"topBorder"!==i&&"frontOuter"!==i&&"startSlice"!==i&&"endSlice"!==i||n[i].drag(t,e,a):n[i].drag(t,e,a);return this._drag(t,e,a)},n=function(){var t,e=this._confObject.elements;for(t in e)e[t].hide();return this._hide()},o=function(){var t,e=this._confObject.elements;for(t in e)e[t].show();return this._show()},r=function(){var t,e=this._confObject,a=e.elements;for(t in a)a[t].destroy();return x&&(e.clipTop.destroy(),e.clipOuterFront.destroy(),e.clipOuterBack.destroy(),e.clipOuterFront1&&e.clipOuterFront1.destroy(),e.clipInnerFront&&e.clipInnerFront.destroy(),e.clipInnerBack&&e.clipInnerBack.destroy()),this._destroy()},l=function(t){var e,a=this._confObject.elements;for(e in a)a[e].tooltip(t);return this._tooltip(t)},c=function(t,e){var a,i=this._confObject.elements;if(void 0===e)return this._data(t);for(a in i)i[a].data(t,e);return this._data(t,e)},d=0;return function(){var t,s=this.renderer,h={elements:{},Pie3DManager:this},p=this.slicingWallsArr,u=h.elements,g=x?"litepath":"path";return t=s[g](this.topGroup),t._confObject=h,h.thisElement=t,t._destroy=t.destroy,t.destroy=r,t._show=t.show,t.show=o,t._hide=t.hide,t.hide=n,t._on=t.on,t.on=a,t._drag=t.drag,t.drag=i,t._attr=t.attr,t.attr=e,t._tooltip=t.tooltip,t.tooltip=l,t._data=t.data,t.data=c,this.pointElemStore.push(t),u.topBorder=s[g](this.topGroup),u.bottom=s[g](this.bottomBorderGroup).attr({"stroke-width":0}),u.bottomBorder=s[g](this.bottomBorderGroup),u.frontOuter=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backOuter=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.startSlice=s[g](this.slicingWallsFrontGroup),u.endSlice=s[g](this.slicingWallsFrontGroup),u.frontOuter1=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.frontOuter._conf={si:d,isStart:.5},u.frontOuter1._conf={si:d,isStart:.5},u.startSlice._conf={si:d,isStart:0},u.endSlice._conf={si:d,isStart:1},u.backOuter._conf={si:d,isStart:.4},p.push(u.startSlice,u.frontOuter1,u.frontOuter,u.backOuter,u.endSlice),this.isDoughnut&&(u.frontInner=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backInner=s[g](this.slicingWallsFrontGroup).attr({"stroke-width":0}),u.backInner._conf={si:d,isStart:.5},u.frontInner._conf={si:d,isStart:.4},p.push(u.frontInner,u.backInner)),d+=1,t}}()},i.prototype.constructor=i},[3,2,2,"sr4"]]),FusionCharts.register("module",["private","modules.renderer.js-zoomline",function(){var t,e=this,a=e.hcLib,i=a.hashify,n=e.window,o=n.document,r=n.Image,s=n.MouseEvent,l=/msie/i.test(n.navigator.userAgent)&&!n.opera,c=a.chartAPI,d=a.extend2,h=a.addEvent,p=a.pluck,u=a.pluckNumber,g=a.getFirstColor,f=a.graphics.convertColor,m=a.bindSelectionEvent,v=a.parseUnsafeString,b=a.componentDispose,x=a.Raphael,y=a.toRaphaelColor,P=a.hasTouch,C=a.plotEventHandler,S=a.getMouseCoordinate,w="rgba(192,192,192,"+(l?.002:1e-6)+")",_=Math,L=_.ceil,k=_.floor,D=_.round,A=_.max,I=_.min,F=_.cos,O=_.sin,T=n.parseFloat,B=n.parseInt;d(a.eventList,{zoomed:"FC_Zoomed",pinned:"FC_Pinned",resetzoomchart:"FC_ResetZoomChart"}),c("zoomline",{standaloneInit:!0,canvasborderthickness:1,defaultDatasetType:"zoomline",applicableDSList:{zoomline:!0},friendlyName:"Zoomable and Panable Multi-series Line Chart",creditLabel:!1,_drawAxis:function(){var t,e,a=this.components.yAxis||[];for(t=0,e=a.length;t<e;t++)a[t].draw()},_setCategories:function(){var t,e,a,i=this.config,n=this.jsonData,o=this.components.xAxis;e=i.cdmchar;var r=n.categories&&n.categories[0].category||[];if((i.cdm||"string"==typeof r)&&r.split){for(i=r.split(e),t=[],e=0,a=i.length;e<a;e+=1)t.push({label:i[e]});this.config.categories=n.categories[0].category=t}o[0].setAxisPadding(0,0),o[0].setCategory(t||r)},_createDatasets:function(){var t,e,a,i,n,o,r,s,l;n={};var c=this.config;t=this.components,s=this.jsonData;var d=s.dataset,h=d&&d.length,u=c.cdmchar,g=c.cdm,f=this.defaultDatasetType,m=this.applicableDSList,c=this.components.legend.components.items||[];for(s=s.categories&&s.categories[0].category,d&&s||this.setChartMessage(),this.config.categories=s,s=t.dataset||(t.dataset=[]),l=s.length,t=0;t<h;t++){if(r=d[t],g&&r.data&&r.data.split){for(o=r.data.split(u),i=[],e=0,a=o.length;e<a;e++)i.push({value:o[e]});r.data=i}e=r.parentyaxis||"",e=(e=this.isDual&&"s"===e.toLowerCase()?p(r.renderas,this.sDefaultDatasetType):p(r.renderas,f))&&e.toLowerCase(),m[e]||(e=f),(a=FusionCharts.get("component",["dataset",e]))&&(void 0===n[e]?n[e]=0:n[e]++,(e=s[t])?(a=(e.JSONData.data||[]).length,i=(r.data||[]).length,a>i&&e.removeData(i,a-i,!1),s[t].JSONData=r,s[t].configure(),s[t]._deleteGridImages&&s[t]._deleteGridImages()):(e=new a,s.push(e),e.chart=this,e.index=t,e.init(r)))}if(l>h){for(n=l-h,e=t,h=n+t;e<h;e++)b.call(s[e]);s.splice(t,n),c.splice(t,n)}},isWithinCanvas:function(t,e){var i=a.getMouseCoordinate(e.get("linkedItems","container"),t),n=i.chartX,o=i.chartY,r=e.get("config"),s=r.canvasLeft,l=r.canvasTop,c=r.canvasLeft+r.canvasWidth,r=r.canvasHeight+r.canvasTop;return i.insideCanvas=!1,i.originalEvent=t,n>s&&n<c&&o>l&&o<r&&(i.insideCanvas=!0),i},highlightPoint:function(t,e,i,n,o,r){var s=this,l=s.config,c=s.components,d=s.graphics,h=c.paper,p=d.tracker,u=(c=c.dataset[o])&&c.config;o=c&&u.zoomedRadius||0;var g=c&&u.hoverCosmetics,c=g&&g.fill,u=g&&g.borderColor,g=g&&g.borderThickness,f={},f=function(t){a.plotEventHandler.call(this,s,t)},m=function(t){a.plotEventHandler.call(this,s,t,"dataplotRollover")},v=function(t){a.plotEventHandler.call(this,s,t,"dataplotRollout")};p||(p=d.tracker=h.circle(0,0,0,d.trackerGroup).attr({"clip-rect":l.canvasLeft+","+l.canvasTop+","+l.canvasWidth+","+l.canvasHeight}).click(f).trackTooltip(!0).hover(m,v)),n&&p.data("eventArgs",{x:n.x,y:n.y,tooltip:n.tooltip,link:n.link}),l.lastHoveredPoint=n,f=Number(t)?{r:o,fill:c,stroke:u,"stroke-width":g}:{r:o,fill:w,stroke:w,"stroke-width":0},p.attr(f).tooltip(r).transform("t"+(e+l.canvasLeft)+","+(i+l.canvasTop)),n&&s.fireMouseEvent("mouseover",p&&p.node,l.lastMouseEvent)},fireMouseEvent:function(t,e,a){var i;e&&t&&(a||(a={}),a.originalEvent&&(a=a.originalEvent),a.touches&&(a=a.touches[0]),e.dispatchEvent?(s?i=new s(t,{bubbles:!!a.bubbles,cancelable:!!a.cancelable,clientX:a.clientX||a.pageX&&a.pageX-o.body.scrollLeft-o.documentElement.scrollLeft||0,clientY:a.clientY||a.pageY&&a.pageY-o.body.scrollTop-o.documentElement.scrollTop||0,screenX:a.screenX||0,screenY:a.screenY||0,pageX:a.pageX||0,pageY:a.pageY||0}):o.createEvent&&(i=o.createEvent("HTMLEvents"),i.initEvent(t,!!a.bubbles,!!a.cancelable)),i.eventName=t,i&&e.dispatchEvent(i)):o.createEventObject&&e.fireEvent&&(i=o.createEventObject(),i.eventType=t,i.eventName=t,e.fireEvent("on"+t,i)))},configure:function(){var t,e,a=this.jsonData.chart||{},i=this.components.colorManager,n=i.getColor("canvasBorderColor");a.animation=0,a.showvalues=0,c.msline.configure.call(this),e=this.config,t=e.style,d(e,{useRoundEdges:u(a.useroundedges,0),animation:!1,zoomType:"x",canvasPadding:u(a.canvaspadding,0),scrollColor:g(p(a.scrollcolor,i.getColor("altHGridColor"))),scrollShowButtons:!!u(a.scrollshowbuttons,1),scrollHeight:u(a.scrollheight,16)||16,scrollBarFlat:u(a.flatscrollbars,0),allowPinMode:u(a.allowpinmode,1),skipOverlapPoints:u(a.skipoverlappoints,1),showToolBarButtonTooltext:u(a.showtoolbarbuttontooltext,1),btnResetChartTooltext:p(a.btnresetcharttooltext,"Reset Chart"),btnZoomOutTooltext:p(a.btnzoomouttooltext,"Zoom out one level"),btnSwitchToZoomModeTooltext:p(a.btnswitchtozoommodetooltext,"<strong>Switch to Zoom Mode</strong><br/>Select a subset of data to zoom into it for detailed view"),btnSwitchToPinModeTooltext:p(a.btnswitchtopinmodetooltext,"<strong>Switch to Pin Mode</strong><br/>Select a subset of data and compare with the rest of the view"),pinPaneFill:f(p(a.pinpanebgcolor,n),u(a.pinpanebgalpha,15)),zoomPaneFill:f(p(a.zoompanebgcolor,"#b9d5f1"),u(a.zoompanebgalpha,30)),zoomPaneStroke:f(p(a.zoompanebordercolor,"#3399ff"),u(a.zoompaneborderalpha,80)),showPeakData:u(a.showpeakdata,0),maxPeakDataLimit:u(a.maxpeakdatalimit,a.maxpeaklimit,null),minPeakDataLimit:u(a.minpeakdatalimit,a.minpeaklimit,null),crossline:{enabled:u(a.showcrossline,1),line:{"stroke-width":u(a.crosslinethickness,1),stroke:g(p(a.crosslinecolor,"#000000")),"stroke-opacity":u(a.crosslinealpha,20)/100},labelEnabled:u(a.showcrosslinelabel,a.showcrossline,1),labelstyle:{fontSize:T(a.crosslinelabelsize)?T(a.crosslinelabelsize)+"px":t.outCanfontSize,fontFamily:p(a.crosslinelabelfont,t.outCanfontFamily)},valueEnabled:u(a.showcrosslinevalues,a.showcrossline,1),valuestyle:{fontSize:T(a.crosslinevaluesize)?T(a.crosslinevaluesize)+"px":t.inCanfontSize,fontFamily:p(a.crosslinevaluefont,t.inCanvasStyle.fontFamily)}},useCrossline:u(a.usecrossline,1),tooltipSepChar:p(a.tooltipsepchar,", "),showTerminalValidData:u(a.showterminalvaliddata,0),cdmchar:p(a.dataseparator,"|"),cdm:u(a.compactdatamode,0)})},getValuePixel:function(t){var e=this.config.viewPortConfig;return e.ddsi+k(t/e.ppp)},__toolbar:function(){var t,e,a,i,n,o,r=this,s=r.components,l=s.tb=new(FusionCharts.register("component",["toolbox","toolbox"])),c=l.getDefaultConfiguration();return l.init({iAPI:{chart:r},graphics:r.graphics,chart:r,components:s}),t=s.toolBoxAPI||l.getAPIInstances(l.ALIGNMENT_HORIZONTAL),e=t.SymbolStore,a=t.ComponentGroup,i=t.Toolbar,n=t.Symbol,o=t.Scroller,l.graphics={},{reInit:function(){l.init({iAPI:{chart:r},graphics:r.graphics,chart:r,components:s})},addSymbol:function(t,e,a,i){return t=new n(t),a&&i.setConfiguaration({buttons:d(d({},c),a)}),e.tooltext=a.tooltip,e&&t.attachEventHandlers(e),i.addSymbol(t),t},addScroll:function(t,e){var a=new o(t);return e&&a.attachEventHandlers(e),a},addComponentGroup:function(t,e){var i;return i=new a,i.setConfiguaration({group:{fill:e?e.fill:f("EBEBEB",0),borderThickness:e?u(e.borderThickness,0):0}}),i},addToolBox:function(t){var e,a=new i;for(e=0;e<t.length;e+=1)a.addComponent(t[e]);return a},setDrawingArea:function(t,e){return t.drawingArea=e,t},draw:function(t){var e,a,i;for(e=0;e<t.length;e+=1)a=t[e],i=a.drawingArea,a.draw(i.x,i.y)},registerSymbol:function(t,a){e.register(t,a)},getLogicalSpace:function(t){return t.getLogicalSpace()},getNode:function(t){return t.node}}},__preDraw:function(){var e,a,i,n,o,r,s,l,c,h,p=this,g=p.components,f=g.paper,v=p.graphics;a=v.imageContainer;var b=p.config,y=b.canvasLeft,P=b.canvasWidth;e=p.jsonData.chart;var C=b.cdm;i=g.xAxis[0];var S=b.viewPortConfig,_=p.components.canvas.config,L=A(_.canvasPadding,_.canvasPaddingLeft,_.canvasPaddingRight);h=g.yAxis[0],l=v.datasetGroup;var _=b.canvasHeight,k=b.canvasTop,D=p.jsonData.chart,D=b.borderWidth||(b.borderWidth=u(D.showborder,1)?u(D.borderthickness,1):0),I=b.allowPinMode,F=b.crossline,S=i.getCategoryLen(),O=B(u(e.displaystartindex,1),10)-1,T=B(u(e.displayendindex,S||2),10)-1,E=0,M=g.dataset,R=M.length,g=v.crossline;if(b.updateAnimDuration=500,a.transform("t"+y+","+k),a.attr({"clip-rect":y+","+k+","+P+","+_}),b.status="zoom",b.maxZoomLimit=u(e.maxzoomlimit,1e3),b.viewPortHistory=[],1>(a=u(e.pixelsperpoint,15))&&(a=1),(i=u(e.pixelsperlabel,e.xaxisminlabelwidth,i.getAxisConfig("labels").rotation?20:60))<a&&(i=a),(0>O||O>=(S-1||1))&&(O=0),(T<=O||T>(S-1||1))&&(T=S-1||1),S=b.viewPortConfig=d(b.viewPortConfig,{amrd:u(e.anchorminrenderdistance,20),nvl:u(e.numvisiblelabels,0),cdm:C,oppp:a,oppl:i,dsi:O,dei:T,vdl:T-O,clen:S,offset:0,step:1,llen:0,alen:0,ddsi:O,ddei:T,ppc:0}),S.clen){for(;R--;)e=M[R].config,E=A(E,e.drawanchors&&(e.anchorradius||0)+(Number(e.anchorborderthickness)||0)||0);b.overFlowingMarkerWidth=E,L=b.canvasPadding=A(E,L),b._prezoomed=S.dei-S.dsi<S.clen-1,n=b._visw=b.canvasWidth-2*L,o=b._visx=b.canvasLeft+L,b._visout=-(b.height+_+1e3),b._ypvr=h&&h.getPVR()||0,e=b._yminValue=h.getLimit().min,r=b._ymin=h.getPixel(e),h=l.attr("clip-rect",[o-E,k,n+2*E,_]),v.scroll||(v.scroll=f.group("scroll").insertAfter(v.datasetGroup)),I&&(l=x.crispBound(0,k-r,0,_,D),s=b["clip-pinrect"]=[l.x,k,l.width,l.height],c=(v.zoompin=f.group("zoompin")).insertBefore(h).transform(b._pingrouptransform=["T",o,r]).hide(),v.pinrect=f.rect(0,k-r,n,_,c).attr({"stroke-width":0,stroke:"none",fill:b.pinPaneFill,"shape-rendering":"crisp",ishot:!0}),v.pintracker=f.rect(v.trackerGroup).attr({transform:c.transform(),x:0,y:k-r,width:0,height:_,stroke:"none",fill:w,ishot:!0,cursor:x.svg&&"ew-resize"||"e-resize"}).hide().drag(function(t){var e=o+t+this.__pindragdelta,a=this.__pinboundleft,i=this.__pinboundright,n=this.data("cliprect").slice(0);e<a?e=a:e>i&&(e=i),c.transform(["T",e,r]),v.pintracker.transform(c.transform()),x.svg||(n[0]=n[0]+e-o-this.__pindragdelta,c.attr("clip-rect",n)),this.__pindragoffset=t},function(){this.__pinboundleft=0-s[0]+o+y,this.__pinboundright=this.__pinboundleft+n-s[2],this.data("cliprect",c.attr("clip-rect")),c._.clipispath=!0},function(){c._.clipispath=!1,this.__pindragdelta=this.__pindragoffset,delete this.__pindragoffset,delete this.__pinboundleft,delete this.__pinboundright})),D++,l=x.crispBound(y-D,k+_+D,P+D+D,b.scrollHeight,D),D--,m(p,{attr:{stroke:b.zoomPaneStroke,fill:b.zoomPaneFill,strokeWidth:0},selectionStart:function(){},selectionEnd:function(t){var e=t.selectionLeft-y;t=e+t.selectionWidth,v.crossline&&v.crossline.hide(),p[b.viewPortConfig.pinned?"pinRangePixels":"zoomRangePixels"](e,t)}}),F&&0!==F.enabled&&1===b.useCrossline?(g||(g=v.crossline=new t),g.configure(p,F)):(F&&(F.enabled=0),g&&g.hide())}},resetZoom:function(){var t=this.config.viewPortHistory,a=t[0];return!!t.length&&(t.length=0,this.zoomTo(a.dsi,a.dei,a)&&e.raiseEvent("zoomReset",this._zoomargs,this.chartInstance,[this.chartInstance.id]),!0)},eiMethods:{zoomOut:function(){var t;if(t=this.apiInstance)return t.zoomOut&&t.zoomOut()},zoomTo:function(t,e){var a;if(a=this.apiInstance)return a.zoomRange&&a.zoomRange(t,e)},resetChart:function(){var t;(t=this.apiInstance)&&(t.pinRangePixels&&t.pinRangePixels(),t.resetZoom&&t.resetZoom())},setZoomMode:function(t){var e;(e=this.apiInstance)&&e.activatePin&&e.activatePin(!t)},getViewStartIndex:function(){var t;if(this.apiInstance&&(t=this.apiInstance.config.viewPortConfig))return t.ddsi},getViewEndIndex:function(){var t,e;if(this.apiInstance&&(t=this.apiInstance.config.viewPortConfig))return e=t.ddei-1,(e>=t.clen?t.clen:e)-1}},zoomOut:function(){var t,a,i=this.config;a=i.viewPortHistory;var n,o,r;return t=a.pop(),a=a[0]||i.viewPortConfig,t?(n=t.dsi,o=t.dei):i._prezoomed&&(n=0,o=a.clen-1),(r=this.zoomTo(n,o,t))&&e.raiseEvent("zoomedout",r,this.chartInstance),!0},zoomRangePixels:function(t,a){var i,n=this.config,o=n.viewPortHistory,n=n.viewPortConfig,r=n.ppp,s=n.ddsi;o.push(n),(i=this.zoomTo(s+k(t/r),s+k(a/r)))?e.raiseEvent("zoomedin",i,this.chartInstance):o.pop()},zoomRange:function(t,a){var i,n,o=this.config,r=o.viewPortConfig;n=this.components.xAxis[0];var s,l=o.viewPortHistory;l.push(r),i=n.getPixel(t),n=n.getPixel(a),r.x=i,r.scaleX=o.canvasWidth/(i-n),(s=this.zoomTo(+t,+a))?e.raiseEvent("zoomedin",s,this.chartInstance):l.pop()},zoomTo:function(t,a,i){var n,o;n=this.config;var r=this.components,s=n.viewPortConfig,l=n.canvasHeight;o=n.canvasLeft;var c=n.canvasTop,h=n.canvasBottom,p=n.viewPortHistory,u=s.clen,g=this.components.xAxis[0];return 0>t&&(t=0),t>=u-1&&(t=u-1),a<=t&&(a=t+1),a>u-1&&(a=u-1),t!==a&&(t!==s.dsi||a!==s.dei)&&(this.pinRangePixels(),s=d({},s),s.dsi=t,s.dei=a,s=n.viewPortConfig=s,i?this.updateVisual(i.x,i.y,i.scaleX,i.scaleY):(i=g.getPixel(t),n=g.getPixel(a),o=this.getOriginalPositions(i-o,c,n-o,h-c),this.zoomSelection(o[0],0,o[2],l)),r.scrollBar.node.attr({"scroll-ratio":s.vdl/(u-!!u),"scroll-position":[s.dsi/(u-s.vdl-1),!0]}),r={level:p.length+1,startIndex:t,startLabel:g.getLabel(t).label,endIndex:a,endLabel:g.getLabel(a).label},e.raiseEvent("zoomed",r,this.chartInstance,[this.chartInstance.id,t,a,r.startLabel,r.endLabel,r.level]),r)},activatePin:function(t){var a=this.config.viewPortConfig,i=this.components.tb.graphics.pinButton;if(a.pinned^(t=!!t))return t||this.pinRangePixels(),e.raiseEvent("zoomModeChanged",{pinModeActive:t},this.chartInstance,[]),this.updateButtonVisual(i.node,t?"pressed":"enable"),a.pinned=t},updateButtonVisual:function(t,e){return t.attr({disable:{config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"},normal:{fill:"#FFFFFF",stroke:"#E3E3E3","stroke-width":1,cursor:"default"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"default"},pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3",cursor:"default"}},"button-disabled":!1,stroke:"#E3E3E3","stroke-opacity":1},enable:{config:{hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:"#FFFFFF",stroke:"#C2C2C2","stroke-width":1,cursor:"pointer"},disable:{fill:"#FFFFFF","stroke-width":1,stroke:"#E3E3E3","stroke-opacity":1,cursor:"pointer"},pressed:{fill:"#EFEFEF","stroke-width":1,stroke:"#C2C2C2",cursor:"pointer"}},"button-disabled":!1,fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#C2C2C2","stroke-opacity":1},pressed:{config:{pressed:{fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0]}},fill:["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF",!0],stroke:"#E3E3E3"}}[e])},pinRangePixels:function(t,e){var a,i=this.components,n=i.paper,o=this.graphics,r=this.config,s=r.canvasLeft,l=r.viewPortConfig,c=o.zoompin;a=o.pinrect;var d,h,p,u=r["clip-pinrect"],g=r._pingrouptransform,i=i.dataset,f=e-t,o=o.pintracker;if(l&&c&&a){if(t===e)return c.hide(),o.hide(),l.pinned=!1;for(p=i.length;p--;)d=i[p],a=d.graphics,h=a.pinline,h||(h=a.pinline=n.path(c)),h.attr({path:a.lineElement.attrs.path,transform:["T",-r._visx,-r._ymin]}).attr(d.config.pin);return u[0]=t+s,u[2]=f,c.attr({"clip-rect":u,transform:g}).show(),o.__pindragdelta=0,o.show().attr({transform:g,x:t,width:f}),this.getValuePixel(t),this.getValuePixel(e),l.pinned=!0}},_createLayers:function(){var t,e=this.components.paper;c.scatter._createLayers.call(this),t=this.graphics,t.imageContainer=e.group("dataset-orphan",t.dataSetGroup),this.__preDraw(),this.toogleDragPan(!0)},getValue:function(t){var e=this.config,a=this.components,i=e.viewPortConfig;t=this.getOriginalPositions(t.x,t.y,t.x,t.y);var n=a.xAxis[0].config.axisRange,a=a.yAxis[0].config.axisRange,o=n.min,r=a.max;return{x:o+(t[0]-e.canvasLeft)/(e.canvasWidth*i.scaleX/(n.max-o)),y:r-(t[1]-e.canvasTop)/(e.canvasHeight*i.scaleY/(r-a.min))}},getOriginalPositions:function(t,e,a,i){var n=this.config,o=n.viewPortConfig,r=o.scaleX,s=o.scaleY,l=o.x,o=o.y,c=I(t,a);return t=A(t,a),a=I(e,i),e=A(e,i),t=t>n.canvasWidth?n.canvasWidth:t,e=e>n.canvasHeight?n.canvasHeight:e,c=0>c?0:c,a=0>a?0:a,[l+c/r,o+a/s,(t-c)/r,(e-a)/s]},zoomSelection:function(t,e,a,i){var n=this.config;a&&i&&(a=Math.abs(n.canvasWidth/a),i=Math.abs(n.canvasHeight/i),this.updateVisual(t,e,a,i))},updateVisual:function(t,e,a,i,n){var o=this.config,r=o.viewPortConfig,s=o.canvasWidth,l=o.canvasHeight,c=o.viewPortHistory.slice(-1)[0]||r,o=o.maxZoomLimit;r.x=isNaN(t)?t=c.x:t,r.y=isNaN(e)?e=c.y:e,r.scaleX=a||(a=c.scaleX),r.scaleY=i||(i=c.scaleY),a>o&&(r.x=I(t,s-s/o),r.scaleX=o),i>o&&(r.y=I(e,l-l/o),r.scaleY=o),this.updateManager(n)},toogleDragPan:function(t){var e=this.config.viewPortConfig,a=e.status;t&&(e.status="zoom"===a?"pan":"zoom")},resize:function(){var t=this.config,e=this.graphics,a=this.components.canvas,i=a.graphics,n=i.canvasBorderElement,i=i.canvasElement,a=a.config.canvasBorderThickness,o=a/2,r=t.canvasHeight-=a,s=t.canvasWidth-=2*a,l=t.canvasLeft+=a;t.canvasBottom-=a,t.canvasRight-=a,i?i.attr({x:l,y:t.canvasTop,height:r,width:s}):this.drawCanvas(),n&&n.attr({x:l-o,y:t.canvasTop-o,height:r+a,width:s+a,"stroke-width":a}),e.imageContainer.attr({"clip-rect":t.canvasLeft+","+t.canvasTop+","+t.canvasWidth+","+t.canvasHeight}).transform("t"+t.canvasLeft+","+t.canvasTop),e.trackerElem.attr({x:t.canvasLeft,y:t.canvasTop,width:t.canvasWidth,height:t.canvasHeight}),e.tracker&&e.tracker.attr({"clip-rect":t.canvasLeft+","+t.canvasTop+","+t.canvasWidth+","+t.canvasHeight})},updateManager:function(t){var e,a;a=this.components;var i=a.dataset,o=i.length;e=this.config;var r,s,l,c,d,h=e.viewPortConfig,p=e._ypvr,u=e._visw,g=this.components.xAxis[0],f=function(){return g.getPixel.apply(g,arguments)},m=g.getAxisConfig("labels").style,v=this.updateButtonVisual,b=a.tb.graphics,x=b.zoomOutButton,b=b.resetButton,y=e.viewPortHistory;if(e.legendClicked)for(t=0;t<o;t+=1)i[t].draw();else{for(!h&&(h=e.viewPortConfig),r=h.oppp,d=l=h.nvl,s=h.dsi,l=h.dei,s=h.vdl=l-s,l=h.ppl=d?u/d:h.oppl,u=h.step=(c=h.ppp=u/s)<r?L(r/c):1,m=h.lskip=L(A(l,T(m.lineHeight))/c/u),void 0!==t?(r=(h.clen-s-1)*t,h.offset=(r-(r=B(r)))*c,s=r+s):(r=h.dsi,s=h.dei,h.offset=0),c=h.norm=r%u,h.ddsi=r-=c,h.ddei=s=s+2*u-c,h.pvr=p,h._ymin=e._ymin,h._yminValue=e._yminValue,h.x=(f(r)-f(g.getLimit().min)+h.offset)/h.scaleX,s-r>g.getCategoryLen()?h.scaleX=1:h.scaleX=g.getCategoryLen()/Math.abs(s-r-u-.9),void 0!==t&&a.scrollBar.node&&a.scrollBar.node.attr({"scroll-position":h._pos=t}),a=g._getVisibleConfig(),a=Math.ceil((a.maxValue-a.minValue+1)/d),e=e.viewPortConfig&&e.viewPortConfig.scaleX,e=Math.max(Math.round(g.getAxisConfig("labelStep")/e),d?a:m*u),g.setLabelConfig({step:e}),e=g.getAxisConfig("animateAxis"),d=g.getAxisConfig("drawAxisName"),t&&g.setAxisConfig({animateAxis:!1,drawAxisName:!1}),g.draw(),g.setAxisConfig({animateAxis:e,drawAxisName:d}),t=0;t<o;t+=1)i[t].draw();v(x.node,h.vdl===h.clen-1?"disable":"enable"),v(b.node,0<y.length?"enable":"disable"),n.FC_DEV_ENVIRONMENT&&n.jQuery&&(FusionCharts.debugger.enable()?(this.debug=this.debug||(n.jQuery("#fc-zoominfo").length||n.jQuery("body").append('<pre id="fc-zoominfo">'),n.jQuery("#fc-zoominfo").css({position:"absolute",left:"10px",top:"0","pointer-events":"none",opacity:.7,width:"250px",zIndex:"999",border:"1px solid #cccccc","box-shadow":"1px 1px 3px #cccccc",background:"#ffffff"})),this.debug.text(JSON.stringify(h,0,2))):(this.debug&&n.jQuery("#fc-zoominfo").remove(),delete this.debug))}},_drawDataset:function(){c.zoomline.updateManager.call(this)},getParsedLabel:function(t){var e=this.xlabels;return e.parsed[t]||(e.parsed[t]=v(e.data[t]||""))},_createToolBox:function(){var t,e,a,i,n,o,r,s=this,l=s.config;r=l.allowPinMode,i=s.components;var d=l.showToolBarButtonTooltext;t=i.chartMenuBar,e=i.actionBar,t&&t.drawn||e&&e.drawn||(c.scrollcolumn2d._createToolBox.call(s),t=i.tb,e=t.graphics||(t.graphics={}),a=i.toolBoxAPI||t.getAPIInstances(t.ALIGNMENT_HORIZONTAL),a=a.Symbol,i=(i.chartMenuBar||i.actionBar).componentGroups[0],n=e.zoomOutButton=new a("zoomOutIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.zoomOut()},tooltext:d&&l.btnZoomOutTooltext||""}),o=e.resetButton=new a("resetIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.resetZoom()},tooltext:d&&l.btnResetChartTooltext||""}),r&&(r=e.pinButton=new a("pinModeIcon",void 0,t.idCount++,t.pId).attachEventHandlers({click:function(){s.activatePin(!l.viewPortConfig.pinned)},tooltext:d&&l.btnSwitchToPinModeTooltext||""}),i.addSymbol(r,!0)),i.addSymbol(o,!0),i.addSymbol(n,!0))},_scrollBar:c.scrollcolumn2d,_manageScrollerPosition:c.scrollcolumn2d,draw:function(){var t,a,i,n,o,r,s,l,d,h,p=this,u=p.config,g=p.graphics||(p.graphics={});r=p.components,t=p.jsonData,n=t.dataset;var f,m=t.categories&&t.categories[0].category;c.msline.draw.call(p),s=u.canvasLeft,l=u.canvasTop,d=u.canvasHeight,h=u.canvasWidth,t=u.borderWidth,a=u.useRoundEdges,i=u.viewPortConfig,(f=g.toolboxParentGroup)||(f=g.toolboxParentGroup=r.paper.group("toolbarParentGroup",g.parentGroup)),n&&m&&(t++,n=x.crispBound(s-t,l+d+t,h+t+t,u.scrollHeight,t),t--,r=(o=r.scrollBar)&&o.node,o.draw(n.x+(a&&-1||t%2),n.y-(a&&4||2),{isHorizontal:!0,width:n.width-(!a&&2||0),height:n.height,showButtons:u.scrollShowButtons,scrollRatio:i.vdl/(i.clen-!!i.clen),scrollPosition:[i.dsi/(i.clen-i.vdl-1),!1],r:a&&2||0,parentLayer:f.insertBefore(g.datalabelsGroup)}),!r&&function(){var t;x.eve.on("raphael.scroll.start."+o.node.id,function(a){t=a,p.graphics.crossline&&p.graphics.crossline.disable(!0),e.raiseEvent("scrollstart",{scrollPosition:a},p.chartInstance)}),x.eve.on("raphael.scroll.end."+o.node.id,function(a){p.graphics.crossline&&p.graphics.crossline.disable(!1),e.raiseEvent("scrollend",{prevScrollPosition:t,scrollPosition:a},p.chartInstance)})}())}},c.msline,{showValues:0,zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0}),c("zoomlinedy",{standaloneInit:!0,defaultDatasetType:"zoomline",applicableDSList:{zoomline:!0},creditLabel:!1,friendlyName:"Zoomable and Panable Multi-series Dual-axis Line Chart",_spaceManager:c.msdybasecartesian._spaceManager,_setAxisLimits:c.msdybasecartesian._setAxisLimits,_createAxes:c.msdybasecartesian._createAxes,_feedAxesRawData:c.msdybasecartesian._feedAxesRawData},c.zoomline,{isdual:!0}),FusionCharts.register("component",["dataset","zoomline",{_setConfigure:function(){var t=this.config,e=this.chart.jsonData.chart,a=this.JSONData;t.drawanchors=u(e.drawanchors,e.showanchors,1),t.anchorradius=u(a.anchorradius,e.anchorradius,t.linethickness+2),this.__base__._setConfigure.apply(this,arguments)},configure:function(){var t,e,i={};t=this.chart.jsonData.chart,t.animation=0,t.showvalues=u(t.showvalues,0),this.__base__.configure.call(this),e=this.config,t=e.linethickness+u(t.pinlinethicknessdelta,1),i["stroke-width"]=0<t&&t||0,i["stroke-dasharray"]=[3,2],i.stroke=a.hashify(e.linecolor),i["stroke-opacity"]=e.alpha/100,i["stroke-linejoin"]=e["stroke-linejoin"]="round",i["stroke-linecap"]=e["stroke-linecap"]="round",e.pin=i,e.animation=!1,e.transposeanimduration=0},draw:function(){var t,e,i,n,o,s,l,c,d,h,g,f,m,v,b,x,P,_,L,k,D,F,O,T,B,E,M=!1,R=!1,N=this,z=N.JSONData,W=N.chart,G=W.components,H=N.config,j=N.index||N.positionIndex,V=W.config,Z=W.jsonData.chart,Y=N.components,X=Y.data,U=X.length,J=G.paper,Q=G.xAxis[0],q=N.yAxis,K=W.graphics,$=K.datalabelsGroup,tt=a.parseUnsafeString,et=a.getValidValue,at=H.linethickness,it=N.graphics.container,nt=N.graphics.trackerContainer,ot=function(t){C.call(this,W,t)},rt=function(t){var e=this.data("dataObj");e.config.hoverEffects&&e&&e.graphics&&e.graphics.element&&N._hoverPlotAnchor(e,"DataPlotRollOver",Z),C.call(this,W,t,"DataPlotRollOver")},st=function(t){var e=this.data("dataObj");e.config.hoverEffects&&e&&e.graphics&&e.graphics.element&&N._hoverPlotAnchor(e,"DataPlotRollOut",Z),C.call(this,W,t,"DataPlotRollOut")},lt=V.viewPortConfig,ct=V.showtooltip,dt=K.datasetGroup,ht=H.shadow,pt=N.graphics.dataLabelContainer,ut={},gt=W.is3D,ft=H.use3dlineshift,mt=q.getAxisBase(),vt=q.yBasePos=q.getAxisPosition(mt),bt=Q.getAxisPosition(0),xt=Q.getAxisPosition(1)-bt,yt=gt?10:0,Pt=gt&&ft?10:0,Ct=[A(0,V.canvasLeft-yt),A(0,V.canvasTop-Pt),A(1,V.canvasWidth+2*yt),A(1,V.canvasHeight+Pt)],St=[A(0,V.canvasLeft-yt),A(0,V.canvasTop-Pt),1,A(1,V.canvasHeight+2*Pt)],wt={},_t=W.hasScroll||!1,Lt=H.lineDashStyle,kt={color:H.linecolor,alpha:H.alpha};[y(kt),Lt].join(":");var Dt,At,It,Ft,Ot,Tt,Bt,Et,Mt,Rt,Nt,zt,Wt=N.graphics.lineElement,Gt=N.visible,Ht=N.pool||(N.pool={element:[]}),jt={},Vt={},Zt={},Yt=H.anchorradius,Xt=[],Ut=V.showTerminalValidData,Jt=V.viewPortConfig,Qt=V.showPeakData,qt=V.maxPeakDataLimit,Kt=V.minPeakDataLimit,$t=u(V.useCrossline,0),te=Jt.step,ee=Q.getPixel(Jt.step)-bt<Jt.amrd,ae=function(e,a){var i=e.graphics;D=e.config,g=D.setValue,h=D.setLink,Ft=D.x||a,O=et(tt(p(D.setLevelTooltext,z.plottooltext,Z.plottooltext))),F=D.showValue,ut=D.anchorProps,L=ut.shadow,m=D.displayValue,Ot=D.dip||0,e||(e=X[a]={graphics:{}}),It={color:D.color,alpha:D.alpha},T=D.dashStyle,o=D.xPos||Q.getAxisPosition(Ft)-yt,s=N.visible?q.getAxisPosition(g)+Pt:vt,_=D.hoverEffects,ut.isAnchorHoverRadius=_.anchorRadius,Tt=Q.getLabel(a),l=$t?"":D.toolText+(O?"":D.toolTipValue),f={index:a,link:h,value:g,displayValue:m,categoryLabel:Tt,toolText:l,id:H.userID,datasetIndex:j,datasetName:z.seriesname,visible:Gt},null===D.setValue||ee||(ut.imageUrl?(k=new r,k.onload=N._onAnchorImageLoad(N,a,f,o,s),k.onerror=N._onErrorSetter(o,s,a,N),k.src=ut.imageUrl):(c=i.element,c||(c=Ht.element&&Ht.element.length?i.element=Ht.element.shift():i.element=J.polypath(it.anchorGroup)),c.attr({polypath:[ut.symbol[1]||2,o,s,ut.radius,ut.startAngle,Ot],fill:y({color:ut.bgColor,alpha:ut.bgAlpha}),stroke:y({color:ut.borderColor,alpha:ut.borderAlpha}),"stroke-width":ut.borderThickness,visibility:ut.radius?Gt:"hidden"}).shadow(L,it.anchorShadowGroup).data("anchorRadius",ut.radius).data("anchorHoverRadius",_.anchorRadius).data("setRolloverAttr",x).data("setRolloutAttr",b),c[g||0===g?"show":"hide"]()),x={polypath:[_.anchorSides||2,o,s,_.anchorRadius,_.startAngle,_.dip],fill:y({color:_.anchorColor,alpha:_.anchorBgAlpha}),stroke:y({color:_.anchorBorderColor,alpha:_.anchorBorderAlpha}),"stroke-width":_.anchorBorderThickness},b={polypath:[ut.sides,o,s,ut.radius,ut.startAngle,Ot],fill:y({color:ut.bgColor,alpha:ut.bgAlpha}),stroke:y({color:ut.borderColor,alpha:ut.borderAlpha}),"stroke-width":ut.borderThickness},c&&c.data("anchorRadius",ut.radius).data("anchorHoverRadius",_.anchorRadius).data("setRolloverAttr",x).data("setRolloutAttr",b),Yt=A(ut.radius,_&&_.anchorRadius||0),P={cx:o,cy:s,r:Yt,cursor:h?"pointer":"",stroke:w,"stroke-width":ut.borderThickness,fill:w,ishot:!0,visibility:Gt},ut.imageUrl||!h&&!ct||(d=i.hotElement,d||(Ht.hotElement&&Ht.hotElement.length?d=i.hotElement=Ht.hotElement.shift():(t=!0,d=i.hotElement=J.circle(nt))),d.show().attr(P),(d||c).data("eventArgs",f).data("groupId",void 0).data("dataObj",e),t&&(d||c).click(ot).hover(rt,st),t=!1)),e._xPos=o,e._yPos=s,[y(It||kt),T||Lt].join(":"),Zt=N.getLinePath([e],Zt),Dt=y(It||kt),At=T||Lt,p(D.setColor,D.setAlpha,D.setDashed),[Dt,At].join(":"),F&&!ut.imageUrl&&N.drawLabel(a),Xt.push(e)},ie=function(t,a){--t,a+=1;var i;for(n=t;n<a;n+=1)for(i in e=X[n]&&X[n].graphics||{},X[n]&&(X[n].config.isRemoving=!0),e)Ht[i]||(Ht[i]=[]),e[i]&&(Ht[i].push(e[i].hide()),e[i]=void 0)},ne=lt.ddsi||0,oe=lt.ddei||U,re=H._oldStartIndex,se=H._oldEndIndex,le=H._oldStep,ce=Y.removeDataArr,de=ce&&ce.length;for(dt.line=dt.line||J.group("line",dt),
dt.lineConnector=dt.lineConnector||J.group("line-connector",dt),it||(it=N.graphics.container={lineShadowGroup:J.group("connector-shadow",dt.line),anchorShadowGroup:J.group("anchor-shadow",dt.lineConnector),lineGroup:J.group("line",dt.line),anchorGroup:J.group("anchors",dt.lineConnector)},it.lineGroup.trackTooltip(!0),Gt||(it.lineShadowGroup.hide(),it.anchorShadowGroup.hide(),it.lineGroup.hide(),it.anchorGroup.hide())),nt||(nt=N.graphics.trackerContainer=J.group("line-hot",K.trackerGroup).toBack(),Gt||nt.hide()),X||(X=N.components.data=[]),pt||(pt=N.graphics.dataLabelContainer=N.graphics.dataLabelContainer||J.group("datalabel",$),Gt||pt.hide()),B=xt*U,ee&&!H._oldHideAnchors?ie(re,se):te!==le?ie(re,se):(ne>re&&ie(re,ne>se?se:ne),oe<se&&ie(oe<re?re:oe,se),(ne<re||oe>se)&&ie(re,se)),H._oldHideAnchors=ee,H._oldEndIndex=oe,H._oldStep=te,N.setVisibility(Gt),n=H._oldStartIndex=ne;n<=oe;n+=te){if(v=X[n]||{},D=v.config||{},D.isRemoving=!1,g=D.setValue||null,Mt=n,Ut)if(0===n&&null===g){for(Bt=0,Et=i=n;Et<U;)if(null!==X[Et].config.setValue||M?M=!0:Et++,null===X[i].config.setValue&&!R&&i<=U?(i+=te,Bt++):R=!0,M&&R){M=R=!1;break}0!=Et%te&&(D=X[Et].config,Mt=Et)}else if(n>=U&&null===g){for(Et=i=n;0<Et&&(void 0!==X[Et]||M?M=!0:Et--,void 0===X[i]&&!R&&0<=i?i-=te:R=!0,!M||!R););0!=Et%te&&(D=X[Et].config,Mt=Et)}(v=X[Mt])&&(ae(v,Mt),Qt&&1<te&&(Rt=I(n+1,oe),zt=I(Rt+te,oe),Nt=zt===oe?X.slice(Rt):X.slice(Rt,zt),Nt.length&&function(t,e){var a=t&&t.length,i=t.slice().sort(function(t,e){return t.config.setValue-e.config.setValue}),n=i&&i.pop().config.setValue,o=i.length&&i.shift().config.setValue||n,i=0;if(n>qt||o<Kt)for(;i<a;)c=t[i],n=c.config.setValue,(n>qt||n<Kt)&&(n=e+i,ae(c,n)),i+=1}(Nt,Rt)))}Vt=N.getLinePath(Xt,{}),jt=N.getLinePath(Xt,jt),H.lastPath=Vt,Wt||(Wt=Ht.lineElement&&Ht.lineElement.length?N.graphics.lineElement=Ht.lineElement.shift():N.graphics.lineElement=J.path(it.lineGroup)),$t||Wt.tooltipListenerAttached||(Wt.tooltipListenerAttached=!0,Wt.mousemove(function(t){Jt=V.viewPortConfig;var e,a=V._visx,i=Jt.step,n=Jt.ppp*i,a=S(W.linkedItems.container,t).chartX-a;t=V.tooltipSepChar,a=(a+=n/2+Jt.offset)-a%n,e=(e=W.getValuePixel(a))+e%i,i=Q.getLabel(e).label+t+N.components.data[e].config.formatedVal,i=H.seriesname&&H.seriesname+t+i||i,Wt.tooltip(0===V.crossline.enabled&&i)})),Wt.attr({path:Vt.getPathArr(),"stroke-dasharray":Lt,"stroke-width":at,stroke:y(kt),"stroke-linecap":"round","stroke-linejoin":2<=at?"round":"miter"}).shadow(ht,it.lineShadowGroup),_t&&(E=wt.startPercent,Ct[2]=B+St[0],1===E&&(St[0]=Ct[2],Ct[0]=0)),Ct[3]+=Pt,N.drawn=!0,de&&N.remove()},setVisibility:function(t,e){var a=this.graphics,i=a&&a.container,n=a&&a.trackerContainer,a=a&&a.dataLabelContainer,o=t?"show":"hide";i.lineGroup[o](),i.anchorGroup[o](),i.anchorShadowGroup[o](),i.lineShadowGroup[o](),n[o](),a[o](),e&&this.transposeLimits(t)},transposeLimits:function(t){var e=this.chart,a=e.config,i=this.yAxis;e._chartAnimation(),this.visible=t,this._conatinerHidden=!t,e._setAxisLimits(),i.draw(),a.legendClicked=!0,e._drawDataset(),delete a.legendClicked},hide:function(){this.setVisibility(!1,!0)},show:function(){this.setVisibility(!0,!0)}},"Line"]),t=function(){},t.prototype.configure=function(t,e){var a,n,o,r={},s=this,l=t.components,c=l.numberFormatter,p=l.paper,u=t.config;a=t.graphics,n=this.left=u._visx,o=this.top=u.canvasTop;var g,f,m=this.height=u.canvasHeight,v=this._visout=u._visout,b=this.plots=t.components.dataset,x=a.datalabelsGroup,y=e.labelstyle,P=e.valuestyle,C=l.yAxis[0],S=C.getLimit(),w=l.yAxis[1],_=w&&w.getLimit();f=this.tracker;var l=this.labels,L=this.positionLabel;g=t.get("linkedItems");var k=g.container,D=g.eventListeners||(g.eventListeners=[]);if(s.width=u._visw,g=this.group,g||(g=this.group=p.group("crossline-labels",x),this.container=k),g.attr({transform:["T",n,u._ymin]}).css(P),f||(f=s.tracker=k,D.push(h(k,"touchstart mousemove",function(e){var a=s.onMouseMove,i=s.onMouseOut;t.isWithinCanvas(e,t).insideCanvas?a.call(s,e):i.call(s,e)},s)),D.push(h(k,"mousedown",function(){s.onMouseDown()},s)),D.push(h(k,"mouseup",function(){s.onMouseUp()},s)),D.push(h(k,"mouseout",function(){s.onMouseOut()},s))),f=this.line,f||(f=this.line=p.path(x).toBack()),f.attr(d({path:["M",n,o,"l",0,m]},e.line)),l||(l=this.labels=e.valueEnabled&&p.set()),e.labelEnabled?(r.x=v,r.y=o+m+(u.scrollHeight||0)+2.5,r["vertical-align"]="top",r.direction=u.textDirection,r.text="",L?(L.attr(r),L.css(y)):L=this.positionLabel=p.text(r,y,a.datalabelsGroup).insertBefore(a.datasetGroup)):(L&&L.remove(),delete this.positionLabel),this.hide(),this.ppixelRatio=-C.getPVR(),this.spixelRatio=w&&-w.getPVR(),this.yminValue=u._yminValue,this.pyaxisminvalue=S.min,this.pyaxismaxvalue=S.max,this.syaxisminvalue=_&&_.min,this.syaxismaxvalue=_&&_.max,this.positionLabels=u.xlabels||{data:[],parsed:[]},this.chart=t,this.getZoomInfo=function(){return u.viewPortConfig},this.getDataIndexFromPixel=function(e){return Math.round(t.components.xAxis[0].getValue(e))},this.getPositionLabel=function(e){return(e=t.components.xAxis[0].getLabel(e))&&e.label||""},e.valueEnabled){for(a=0,n=b.length;a<n;a+=1)o=b[a],o=i(o.config.linecolor),r.x=0,r.y=v,r.fill=o,r.direction=u.textDirection,r.text="",r["text-bound"]=P["text-bound"],r.lineHeight=P.lineHeight,l[a]?l[a].attr(r):l[a]=l.items[a]=p.text(r,void 0,g);for(;a<l.items.length;a+=1)l[a].remove(),delete l[a],l.items.splice(a,1);this.numberFormatter=c}else if(l.items&&l.items.length){for(a=0;a<l.items.length;a+=1)l[a].remove(),delete l[a];l.length=0}},t.prototype.disable=function(t){return void 0!==t&&(this.disabled=!!t)&&this.visible&&this.hide(),this.disabled},t.prototype.onMouseOut=function(){this.hide(),this.position=void 0},t.prototype.onMouseDown=function(){!P&&this.hide(),this._mouseIsDown=!0},t.prototype.onMouseUp=function(){!P&&this.hide(),delete this._mouseIsDown},t.prototype.onMouseMove=function(t){if(!(this.disabled||this._mouseIsDown&&!P)){var e,a=this.getZoomInfo(),i=this.line,n=this.left,a=a.step,o=this.chart,r=o.components.xAxis[0],o=o.get("config"),s=o.canvasLeft,l=r.getAxisConfig("axisDimention");t=S(this.container,t).chartX-n;var c,n=r._getVisibleConfig(),l=l.x-s;c=(c=this.getDataIndexFromPixel(D(t)))+((e=c%a)>a/2?a-e:-e),t=r.getPixel(c)-l-s,i.transform(["T",D(t),0]),this.hidden&&0!==o.crossline.enabled&&this.show(),(c<n.minValue||c>n.maxValue)&&this.hide(),(c!==this.position||this.hidden)&&(this.position=c,this.lineX=t,this.updateLabels())}},t.prototype.updateLabels=function(){var t=this,e=t.labels,a=t.plots,i=t.width,n=t.position,o=t.lineX,r=k(o),s=t.ppixelRatio,l=t.spixelRatio,c=t.yminValue,d=t._visout,h=t.numberFormatter,p=t.pyaxisminvalue,u=t.pyaxismaxvalue,g=t.syaxisminvalue,f=t.syaxismaxvalue,m=function(){function e(){this.y=0,this.lRef=void 0,this.__index=this.__shift=0}function a(t){for(var e=0;e<t;)this.push(e++);return this}function i(t){var e,a,i,n={},o=Number.POSITIVE_INFINITY;for(e=0;e<this.length;e++)a=this[e]-t,i=0>a?m.NEG:m.POS,(a=g(a))<=o&&(o=a,n.absValue=a,n.noScaleSide=i);return n}function n(t){this.holes=a.call([],t)}var o,r,l=-1*t.height,h=c*s,p=0,u={},g=Math.abs,f=Math.floor,m={};"function"!=typeof Object.create&&(Object.create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(a){var i,n,o;if("object"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");if(t.prototype=a,o=new t,t.prototype=null,1<arguments.length)for(n in i=Object(arguments[1]))e.call(i,n)&&(o[n]=i[n]);return o}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var a,i,n;if(null==this)throw new TypeError('"this" is null or not defined');if(i=Object(this),0===(n=i.length>>>0))return-1;if(a=+e||0,1/0===Math.abs(a)&&(a=0),a>=n)return-1;for(a=Math.max(0<=a?a:n-Math.abs(a),0);a<n;){if(a in i&&i[a]===t)return a;a++}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var a,i,n,o,r;if(null==this)throw new TypeError(" this is null or not defined");if(n=Object(this),o=n.length>>>0,"function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(a=e),i=0;i<o;)i in n&&(r=n[i],t.call(a,r,i,n)),i++}),e.prototype.constructor=e,e.prototype.applyShift=function(t){this.__shift=t,this.lRef.calcY=this.y+=t*p},e.prototype.applyDirectIndex=function(t){this.__index=t,this.lRef.calcY=this.y=l-t*p*-1};try{Object.defineProperty(m,"POS",{enumerable:!1,configurable:!1,get:function(){return 1}}),Object.defineProperty(m,"NEG",{enumerable:!1,configurable:!1,get:function(){return-1}})}catch(t){m.POS=1,m.NEG=-1}n.prototype=Object.create(Array.prototype),n.prototype.constructor=n,n.prototype.repositionHoles=function(){var t,e=0;for(t=this.holes.length=0;t<this.length;t++)!this[t]&&(this.holes[e++]=t)},n.prototype.attachShift=function(t,a,n){var o,r=this.length;if(t===d)n.calcY=d;else if(r=a>r-1?r-1:a,o=this[r],a=new e,a.y=t,a.lRef=n,o){if(t=i.call(this.holes,r),n=r+t.absValue*t.noScaleSide,t.noScaleSide===m.POS)return a.applyDirectIndex(n),this.splice(n,1,a),this.holes.splice(this.holes.indexOf(n),1),n;if(t.noScaleSide===m.NEG){for(t=this.splice(n+1,this.length-1),this.pop(),t.forEach(function(t){t&&t.applyShift(-1)}),[].push.apply(this,t);this[n];)n++;return this.push(0),this.repositionHoles(),t=i.call(this.holes,n),n+=t.absValue*t.noScaleSide,a.applyDirectIndex(n),this.splice(n,1,a),this.repositionHoles(),this.length-1}}else a.applyDirectIndex(r),this.splice(r,1,a),this.holes.splice(this.holes.indexOf(r),1)};try{Object.defineProperty(u,"top",{enumerable:!1,configurable:!1,get:function(){return l}}),Object.defineProperty(u,"bottom",{enumerable:!1,configurable:!1,get:function(){return h}})}catch(t){u.top=l,u.bottom=h}return u.init=function(t,e){var a;for(p=t+2,l+=p/2,r=f(g(l)/p),o=new n(r),a=0;a<r;a++)o.push(0)},u.occupy=function(t,e){var a=f(g(l-t)/p);o&&o.attachShift(t,a,e)},u}();e&&(e[0]&&e[0].attr({text:h.yAxis("0")}),e[0]&&m.init(e[0].getBBox().height,e.length),e.forEach(function(t,e){var i=a[e],o=i.components.data[n]&&i.components.data[n].config.setValue,r=i.config.parentYAxis;m.occupy(void 0===o||!i.visible||(r?o>f||o<g:o>u||o<p)?d:r?(o-g)*l:(o-p)*s,t)})),e&&e.forEach(function(t,e){var s,l,c=a[e];(c=h[c.config.parentYAxis?"sYAxis":"yAxis"](c.components.data[n]&&c.components.data[n].config.setValue))?(t.attr({text:c}),c=(c=(c=(c=t.getBBox())&&c.width)&&.5*c)&&c+10,l=t.calcY,s=A(0,I(r,i)),void 0!==l&&void 0!==s&&t.attr({x:s,y:l,"text-anchor":o<=c&&"start"||o+c>=i&&"end"||"middle","text-bound":["rgba(255,255,255,0.8)","rgba(0,0,0,0.2)",1,2.5]})):t.attr({x:-i})}),t.positionLabel&&t.positionLabel.attr({x:o+t.left,text:t.getPositionLabel(n),"text-bound":["rgba(255,255,255,1)","rgba(0,0,0,1)",1,2.5]})},t.prototype.show=function(){this.disabled||(this.hidden=!1,this.group.attr("visibility","visible"),this.line.attr("visibility","visible"),this.positionLabel&&this.positionLabel.attr("visibility","visible"))},t.prototype.hide=function(){this.hidden=!0,this.group.attr("visibility","hidden"),this.line.attr("visibility","hidden"),this.positionLabel&&this.positionLabel.attr("visibility","hidden")},t.prototype.dispose=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},x.addSymbol({pinModeIcon:function(t,e,a){var i=.5*a,n=t-a,o=t+a,r=t-i,s=t+i,l=t+.5,c=l+1,d=l+1.5,h=e-a,p=e+i,u=e-i,i=e+(a-i);return["M",n,h,"L",r,u,r,i,n,p,t-.5,p,t,e+a+.5,l,p,o,p,s,i,s,u,o,h,d,h,d,u,d,i,c,i,c,u,d,u,d,h,"Z"]},zoomOutIcon:function(t,e,a){t-=.2*a,e-=.2*a;var i=.8*a,n=x.rad(43),o=x.rad(48),r=t+i*F(n),n=e+i*O(n),s=t+i*F(o),o=e+i*O(o),l=x.rad(45),c=r+a*F(l),d=n+a*O(l),h=s+a*F(l);return a=o+a*O(l),["M",r,n,"A",i,i,0,1,0,s,o,"Z","M",r+1,n+1,"L",c,d,h,a,s+1,o+1,"Z","M",t-2,e,"L",t+2,e,"Z"]},resetIcon:function(t,e,a){var i=t-a,n=(_.PI/2+_.PI)/2;t+=a*F(n);var n=e+a*O(n),o=2*a/3;return["M",i,e,"A",a,a,0,1,1,t,n,"L",t+o,n-1,t+2,n+o-.5,t,n]}})}]),e&&(t.FusionCharts=FusionCharts),FusionCharts});