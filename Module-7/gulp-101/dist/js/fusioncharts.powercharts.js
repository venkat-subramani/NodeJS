!function(e,t){"object"==typeof module&&module.exports?module.exports=e.document?t(e):function(e){if(!e.document)throw Error("Window with document not present");return t(e,!0)}:e.FusionCharts=t(e,!0)}("undefined"!=typeof window?window:this,function(e,t){return FusionCharts.register("module",["private","modules.renderer.js-gradientlegend",function(){function e(e,t){return function e(t,a){var o,r;for(r in t)F.call(t,r)&&(o=t[r],void 0===a[r]?a[r]=o:"object"==typeof o&&e(o,a[r]))}(e,t),t}function t(e){return E(e||O)||O}function a(e){var t=e.fontSize+"";return t?(t=t.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function o(e){return void 0===e||void 0===e||null===e||e!==e}function r(e,t){this.carpet=e,this._componentPool=t}function i(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this._lSpace=this.group=this.node=void 0,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}function n(){i.apply(this,arguments)}function s(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this._lSpace=this.bound=this.node=void 0}function l(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this._id="GL_BODY",this.bound=void 0,this.compositionsByCategory={},this._lSpace=void 0}function h(){l.apply(this,arguments)}function d(e){this.conf=e,this._id="GL_LABELS"}function c(){d.apply(this,arguments)}function p(){d.apply(this,arguments),this._id="GL_VALUES"}function g(){p.apply(this,arguments),this._id="GL_VALUES"}function u(e){this.conf=e,this._id="FL_AXIS",this.markerLine=this.shadow=this.node=void 0,this.compositionsByCategory={}}function m(){u.apply(this,arguments)}function f(e){var t={};this._id="GL_SG1",this.conf=e,t.conf=e,this.extremes=[],this.sliders={},t.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[!1]=new x(!1,t,this._id+"_0"),this.sliders[!0]=new x(!0,t,this._id+"_1")}function x(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.tracker=this.node=void 0,this.currPos=0,this.swing=[]}function v(e,t,a){a=a.components.numberFormatter;var r,i,n,s,l,h;for(this.data=e,this.options=t||{},h=this.mapByPercent=!!e.mapByPercent,this.appender="",i=this.mapByPercent?0:t.min,t=this.mapByPercent?100:t.max,2===e.colorRange.length&&(r=e.colorRange[0],n=e.colorRange[1],s=r.value=o(r.value)?i:r.value,l=n.value=o(n.value)?t:n.value,s===l&&(s=r.value=i,l=n.value=t),r.displayValue=h?s+"%":a.legendValue(s),n.displayValue=h?l+"%":a.legendValue(l)),o(i)&&o(r.value)||o(t)&&o(r.value)||!e.gradient?this._preparationGoneWrong=!0:this._preparationGoneWrong=!1,a=this.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),this.valueRatio=void 0,this.values=[],e=0,r=a.length;e<r;e++)this.values.push(a[e].value)}function b(){r.apply(this,arguments)}var w,y,C=this,k=C.hcLib,A=k.pluckNumber,L=k.pluck,S=k.toRaphaelColor,D=k.graphics,T=k.dehashify,V=k.hashify,P=D.convertColor,I=D.RGBtoHex,B=D.HEXtoRGB,_=D.getLightColor,E=D.getValidColor,N="rgba(192,192,192,"+(k.isIE?.002:1e-6)+")",O=k.COLOR_BLACK,F={}.hasOwnProperty,M={};w=function(){function e(e){var t,o,r,i=a.numberFormatter;for(t=0,o=e.length;t<o;t++)(r=e[t].maxvalue)&&(e[t].maxvalue=i.getCleanValue(r))}var a,o,r={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return r.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:S({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},r.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:N,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:N,stroke:"#FFFFFF"}}},r.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){o=e.chart,a=o.components},setConf:function(e){},legacyDataParser:function(o,r){var i,n,s,l,h,d,c,p,g,u={},m=a.numberFormatter;if(!o)return!1;for(u.mapByPercent=g=!!A(o.mapbypercent,0),i=o.color||[],void 0===o.minvalue&&(o.minvalue=void 0!==r.min?g?0:r.min:0),void 0===o.maxvalue&&(o.maxvalue=void 0!==r.max?g?100:r.max:100),d=!1,s=0,l=i.length;s<l;s++)if(i[s].maxvalue){d=!0;break}for(d||(i=[]),s=o.code,d=u.colorRange=[],u.gradient=!!A(o.gradient,1),i.length?s=t(s):(s?(l=t(s),s=t()):(s=t(),l=_(s,1)),i.push({code:l,maxvalue:o.maxvalue,label:void 0})),e(i),i=i.sort(function(e,t){return e.maxvalue-t.maxvalue}),c=p=o.minvalue&&m.getCleanValue(o.minvalue),p=(void 0!==c||null!==c)&&(g?c+"%":m.legendValue(c)),d.push({code:T(s),value:c,displayValue:p,label:o.startlabel}),s=0,l=i.length;s<l;s++)n=i[s],h=t(n.code||n.color),c=p=n.maxvalue,isNaN(parseInt(c,10))||(p=(void 0!==c||null!==c)&&(g?c+"%":m.legendValue(c)),d.push(Object({code:T(h),value:c,displayValue:p,label:n.label||n.displayvalue})));return d[d.length-1].label=o.endlabel||n.label,u},getDefaultConf:function(e){return r[e]}}}(),y=function(e){var t=e.chartInstance.id,a=M[t]||(M[t]={});return function(){function o(){var e,t,o,r,i,n;for(e in a)for(t in o=a[e])if((r=o[t])instanceof Array)for(i=0,n=r.length;i<n;i++)r[i]&&r[i].hide();else r.hide()}var r,i,n={};return r={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",KEY_CIRCLE:"circle",KEY_PATH:"path"},n[r.KEY_RECT]=function(e){return i.rect(e)},n[r.KEY_TEXT]=function(e,t){return i.text(e,t)},n[r.KEY_GROUP]=function(e,t){return i.group(e,t)},n[r.KEY_CIRCLE]=function(e){return i.circle(e)},n[r.KEY_PATH]=function(e,t){return i.path(e,t)},{init:function(e){i=e,o()},emptyPool:function(){a=M[t]={}},getChart:function(){return e},getComponent:function(e,t,o){var r,i,s,l=a[e],h=0;return l||(l=a[e]={}),(i=l[t])&&!(i instanceof Array)||i instanceof Array&&0<i.length?function(){return o?(s=i[h++])?s.show():i[h]=n[t].apply(this,arguments):i.show()}:function(){return o?(r=l[t]||(l[t]=[]),i=n[t].apply(this,arguments),r.push(i),i.show()):l[t]=n[t].apply(this,arguments)}},hideAll:function(){o()},getKeys:function(){return r}}}()},r.prototype.constructor=r,r.prototype.draw=function(e){return e.componentPool=this._componentPool,this.carpet.draw(e)},r.prototype.getLogicalSpace=function(e,t){return e.componentPool=this._componentPool,this.carpet.getLogicalSpace(e,t)},r.prototype.dispose=function(){this.carpet&&this.carpet.group&&this.carpet.group.remove(),this._componentPool.emptyPool()},i.prototype.constructor=i,i.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},i.prototype.getBoundingBox=function(e){var t=this.conf,a=e.refSide,o=e.alignment,r=e.refOffset,i=e.x,n=e.y,t=t.width=a*t.spreadFactor;return!o||void 0!==i&&null!==i||(i=(r+a)/2-t/2),{width:t,height:e.maxOtherSide,x:i,y:n}},i.prototype.getPostCalcDecisions=function(e,t){var a,o=this.conf.padding,r=0;for(a in t)r+=t[a].height||0;e.height=r+2*o.v},i.prototype.getLogicalSpace=function(t,a){var r,i,n,s=this._lSpace,l=this.conf.padding,h=this.compositionsByCategory;n=0;var d,c={},p=0;if(s&&!a)return s.isImpure=!0,s;s=this._lSpace=i=this.getBoundingBox(t),(o(s.x)||o(s.y)||o(s.height)||o(s.width))&&(this.autoRecalculate=!0),s=e(i,{}),s.height-=2*l.v,s.width-=2*l.h,s.x+=l.h,s.y+=l.v;for(d in h)r=h[d],l=e(s,{}),l.y+=n,n=s.height*r.conf.spreadFactor,l.height=n+p,n=r.getLogicalSpace(e(l,{}),t,a),p=l.height-n.height,c[d]=n,n=n.height;return this.getPostCalcDecisions(i,c),this._lSpace=i},i.prototype.setupDragging=function(){var e=this.group,t=0,a=0,o=0,r=0;e.css({cursor:"move"}),e.drag(function(i,n){t=i,a=n,e.attr({transform:"t"+(o+t)+","+(r+a)})},function(){o+=t,r+=a},function(){})},i.prototype.draw=function(e){var t,a,o,r=this.conf,i=this.compositionsByCategory,n=e.paper,s=e.parentGroup,l=e.componentPool,h=l.getChart().get("config","animationObj").duration,d=l.getKeys();this.getLogicalSpace(e,this.autoRecalculate),a=this._lSpace,o=l.getComponent(this._id,d.KEY_GROUP),this.group=s=o(this.groupName,s),s.attr({opacity:0}),s.animate({opacity:1},h,"easeIn"),o=l.getComponent(this._id,d.KEY_RECT),this.node=o(s).attr(a).css(r.style);for(t in i)l=i[t],l.draw(r.captionAlignment,a,{colorRange:e.colorRange,numberFormatter:e.numberFormatter,paper:n,parentLayer:s,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[t],componentPool:e.componentPool});return r.allowDrag&&this.setupDragging(),this.node},n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.getBoundingBox=function(e){var t=this.conf,a=e.refSide,o=e.alignment,r=e.refOffset,i=e.x,n=e.y,t=t.height=a*t.spreadFactor;return!o||void 0!==n&&null!==n||(n=(r+a)/2-t/2),{width:e.maxOtherSide,height:t,x:i,y:n}},n.prototype.getPostCalcDecisions=function(e,t){var a,o,r=this.conf.padding,n=Number.NEGATIVE_INFINITY,s=this.moveInstructions;i.prototype.getPostCalcDecisions.apply(this,arguments);for(o in t)a=t[o].width,n=n<a?a:n;e.width=n+2*r.h;for(o in t)a=t[o].width,(r=n-a)&&(s[o]="t"+r/2+",0")},s.prototype.constructor=s,s.LEFT={x:function(e,t){return t.x+e.width/2+2}},s.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},s.CENTER={x:function(e,t){return t.x+t.width/2}},s.prototype.getLogicalSpace=function(t,o,r){var i=this.conf.padding,n=this._lSpace,s=this.rawText,l=o.componentPool.getChart();return n&&!r?(n.isImpure=!0,n):(n=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartText:void 0}},r=o.smartLabel,s?(o=e(t,{}),o.height-=2*i.v,o.width-=2*i.h,o.x+=i.h,o.y+=i.v,r.useEllipsesOnOverflow(l.config.useEllipsesWhenOverflow),l=e(this.conf.style,{}),a(l),r.setStyle(this._metaStyle=l),s=r.getSmartText(s,o.width,o.height),o.height=s.height,o.width=s.width,t.height=s.height+2*i.v,t.width=s.width+2*i.h,n.node.smartText=s,n.node.logicArea=o,n.bound=t):n.bound)},s.prototype.draw=function(){var e,t,a,o,r,i,n,l,h=this.conf,d=h.bound||{};return 3<=arguments.length?(o=arguments[0],r=arguments[1],i=arguments[2]):2<=arguments.length&&(o=arguments[0],i=arguments[1]),e=i.parentLayer,n=i.componentPool,l=n.getKeys(),t=n.getComponent(this._id,l.KEY_GROUP),this.group=e=t("legend-caption",e).css(h.style),this.getLogicalSpace(r,i),t=this._lSpace,i=t.node,a=t.bound,t=n.getComponent(this._id,l.KEY_RECT),this.bound=d=t(e).attr(a).css(d.style),o="string"==typeof o?s[o.toUpperCase()].x(i.smartText,r||i.logicArea):o,t=n.getComponent(this._id,l.KEY_TEXT),this.node=t({},e).attr({text:i.smartText.text,x:o,y:i.logicArea.y+i.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:h.style.fill}),{group:e,bound:d,node:this.node}},l.SC_STACK=["LEGEND_LABEL","LEGEND_AXIS","AXIS_VALUE"],l.DARW_STACK=["AXIS_VALUE","LEGEND_AXIS","LEGEND_LABEL"],l.prototype.constructor=l,l.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},l.prototype.getCompositionPlotAreaFor=function(t){var a;return a=e(t,{}),function(e,o){return e=e||{},a.y+=e.height||0,a.height=t.height*o,a}},l.prototype.getSpaceTaken=function(e){return e.height},l.prototype.updateEffectivePlotArea=function(e,t,a){var o=this.conf.padding;t.height=a,e.height=a+2*o.v},l.prototype.getLogicalSpace=function(t,a,o){var r,i,n,s,h,d=this._lSpace,c=this.conf.padding,p=this.compositionsByCategory,g=0;if(d&&!o)return d.isImpure=!0,d;for(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},i=e(t,{}),i.height-=2*c.v,i.width-=2*c.h,i.x+=c.h,i.y+=c.v,n=this.getCompositionPlotAreaFor(i),a.colorRange=this.colorRange,s=0,h=l.SC_STACK.length;s<h;s++)(c=p[l.SC_STACK[s]])&&(r=n(r,c.conf.spreadFactor),r=c.getLogicalSpace(e(r,{}),a,o),g+=this.getSpaceTaken(r));return this.updateEffectivePlotArea(t,i,g),d.node.logicArea=i,d.bound=t},l.prototype.draw=function(){var e,t,a,o,r,i,n,s=this.childTextConf,h=this.conf.bound.style||{},d=this.compositionsByCategory;for(3<=arguments.length?(a=arguments[1],r=arguments[2]):2<=arguments.length&&(r=arguments[1]),e=r.parentLayer,o=r.componentPool,i=o.getKeys(),this.getLogicalSpace(a,r),a=this._lSpace,n=o.getComponent(this._id,i.KEY_GROUP),s=n("legend-body",e).attr({transform:"t0,0"}).css(s.style),n=o.getComponent(this._id,i.KEY_RECT),this.bound=h=n(s).attr(a.bound).css(h),r.colorRange=this.colorRange,r.parentLayer=s,o=0,i=l.DARW_STACK.length;o<i;o++)(t=d[l.DARW_STACK[o]])&&t.draw(r);return r.moveInstructions&&s.attr({transform:r.moveInstructions}),{bound:h,group:s}},h.prototype=Object.create(l.prototype),h.prototype.constructor=h,h.prototype.getCompositionPlotAreaFor=function(t){var a;return a=e(t,{}),function(e,o){return e=e||{},a.x+=e.width||0,a.width=t.width*o,a}},h.prototype.updateEffectivePlotArea=function(e,t,a){var o=this.conf.padding;t.width=a,e.width=a+2*o.h},h.prototype.getSpaceTaken=function(e){return e.width},d.prototype.constructor=d,d.prototype.getEffectivePlotArea=function(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,this.node=[],e},d.prototype.getLogicalSpace=function(t,o,r){var i,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,x=f.padding,v=[],b=0;c=o.componentPool.getChart();var w=[];if(m&&!r)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,r=m.getCumulativeValueRatio(),i=m.colorRange,m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},d=m.node.smartTexts,s=e(t,{}),s=this.getEffectivePlotArea(s),o.useEllipsesOnOverflow(c.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(this._metaStyle=f),o.setStyle(f),c=o.getSmartText("W"),n=0,f=i.length;n<f;n++)(l=i[n].label)?(b++,w.push({oriIndex:n,label:l})):d[n]=void 0;if(0===(f=w.length))return{height:0,width:0};for(l=h=1<f?(r[w[f-1].oriIndex]-r[w[0].oriIndex])/2*s.width/100:Math.max(r[w[0].oriIndex],100-r[w[0].oriIndex])/2*s.width/100,b=o.getSmartText(w[0].label,l,s.height),b.x=r[w[0].oriIndex]*s.width/100,n=b.x+b.width,v.push(b.height),d[w[0].oriIndex]=b,b=o.getSmartText(w[f-1].label,l,s.height),b.x=r[w[f-1].oriIndex]*s.width/100,i=b.x-b.width,v.push(b.height),d[w[f-1].oriIndex]=b,g=n,n=1;n<f-1;n++)l=w[n].label,u=w[n].oriIndex,b=void 0,h=n+1===f-1?i:r[w[n+1].oriIndex]*s.width/100,p=r[w[n].oriIndex]*s.width/100,h=Math.min(p-g,h-p),h>2*c.width&&(b=o.getSmartText(l,h,s.height),b.x=r[u]*s.width/100,g=h,v.push(b.height)),d[w[n].oriIndex]=b;return v=Math.max.apply(Math,v),s.height=v,t.height=v+2*x.v,m.node.logicArea=s,m.bound=t},d.prototype.draw=function(){var e,t,a=this.conf;t=a.bound&&a.bound.style||{stroke:"none"};var o,r,i,n,s,l,h,d;for(2<=arguments.length?(r=arguments[0],n=arguments[1]):1<=arguments.length&&(n=arguments[0]),e=n.parentLayer,n.colorRange.getCumulativeValueRatio(),o=n.componentPool,s=o.getKeys(),this.getLogicalSpace(r,n),i=this._lSpace,r=i.node.logicArea,n=i.node.smartTexts,d=o.getComponent(this._id,s.KEY_GROUP),e=d("legend-labels",e),d=o.getComponent(this._id,s.KEY_RECT),this.bound=t=d(e).attr(i.bound).css(t),d=o.getComponent(this._id,s.KEY_TEXT,!0),s=0,i=n.length;s<i;s++)(o=n[s])&&(l=r.y+o.height/2,h=s===i-1?r.x+o.x-o.width/2:s?r.x+o.x:r.x+o.x+o.width/2,this.node.push(d({},e).attr({text:o.text,x:h,y:l,lineHeight:this._metaStyle.lineHeight,fill:a.style.fill}).transform("R0")));return{group:e,bound:t,node:this.node}},c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.prototype.getLogicalSpace=function(t,o,r){var i,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,x=f.padding,v=[],b=0;c=o.componentPool.getChart();var w=[];if(m&&!r)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,r=m.getCumulativeValueRatio(),i=m.colorRange,m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},d=m.node.smartTexts,s=e(t,{}),s=this.getEffectivePlotArea(s),o.useEllipsesOnOverflow(c.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(this._metaStyle=f),o.setStyle(f),c=o.getSmartText("W"),n=0,f=i.length;n<f;n++)(l=i[n].label)?(b++,w.push({oriIndex:n,label:l})):d[n]=void 0;if(0===(f=w.length))return{height:0,width:0};for(l=h=1<f?(r[w[f-1].oriIndex]-r[w[0].oriIndex])/2*s.height/100:Math.max(r[w[0].oriIndex],100-r[w[0].oriIndex])/2*s.height/100,b=o.getSmartText(w[0].label,l,s.width),b.y=r[w[0].oriIndex]*s.height/100,n=b.y+b.width,v.push(b.height),d[w[0].oriIndex]=b,b=o.getSmartText(w[f-1].label,l,s.width),b.y=r[w[f-1].oriIndex]*s.height/100,i=b.y-b.width,v.push(b.height),d[w[f-1].oriIndex]=b,g=n,n=1;n<f-1;n++)l=w[n].label,u=w[n].oriIndex,b=void 0,h=n+1===f-1?i:r[w[n+1].oriIndex]*s.height/100,p=r[w[n].oriIndex]*s.height/100,h=Math.min(p-g,h-p),h>2*c.width&&(b=o.getSmartText(l,h,s.width),b.y=r[u]*s.height/100,g=h,v.push(b.height)),d[w[n].oriIndex]=b;return v=Math.max.apply(Math,v),s.width=v,t.width=v+2*x.v,m.node.logicArea=s,m.bound=t},c.prototype.draw=function(){var e,t,a=this.conf;t=a.bound&&a.bound.style||{stroke:"none"};var o,r,i,n,s,l,h,d;for(2<=arguments.length?(r=arguments[0],n=arguments[1]):1<=arguments.length&&(n=arguments[0]),e=n.parentLayer,n.colorRange.getCumulativeValueRatio(),o=n.componentPool,s=o.getKeys(),this.getLogicalSpace(r,n),i=this._lSpace,r=i.node.logicArea,n=i.node.smartTexts,d=o.getComponent(this._id,s.KEY_GROUP),e=d("legend-labels",e),d=o.getComponent(this._id,s.KEY_RECT),this.bound=t=d(e).attr(i.bound).css(t),d=o.getComponent(this._id,s.KEY_TEXT,!0),s=0,i=n.length;s<i;s++)(o=n[s])&&(l=r.x+o.height/2,h=s===i-1?r.y+o.y-o.width/2:s?r.y+o.y:r.y+o.y+o.width/2,this.node.push(d({},e).attr({text:o.text,x:l,y:h,lineHeight:this._metaStyle.lineHeight,fill:a.style.fill}).transform("R270,"+l+","+h)));return{group:e,bound:t,node:this.node}},p.prototype=Object.create(d.prototype),p.prototype.constructor=p,p.prototype.getLogicalSpace=function(t,o,r){var i,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,x=f.padding,v=o.componentPool.getChart(),b=[];if(m&&!r)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,r=m.colorRange,s=m.getCumulativeValueRatio(),m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},u=m.node.smartTexts,p=e(t,{}),p.height-=2*x.v,p.width-=2*x.h,p.x+=x.h,p.y+=x.v,o.useEllipsesOnOverflow(v.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(this._metaStyle=f),o.setStyle(f),v=o.getSmartText("W"),f=r.length,d=(s[f-1]-s[0])/2*p.width/100,i=r[0].displayValue,i=o.getSmartText("string"!=typeof i&&void 0!==i&&i.toString()||i,d,p.height),i.x=s[0]*p.width/100,n=i.x+i.width,b.push(i.height),u[0]=i,i=o.getSmartText(r[f-1].displayValue,d,p.height),i.x=s[f-1]*p.width/100,d=i.x-i.width,b.push(i.height),u[f-1]=i,c=n,n=1;n<f-1;n++)i=void 0,g=r[n].displayValue,l=n+1===f-1?d:s[n+1]*p.width/100,h=s[n]*p.width/100,l=Math.min(h-c,l-h),l>1.5*v.width&&(i=o.getSmartText(g,2*l,p.height),i.x=s[n]*p.width/100,c=l,b.push(i.height)),u[n]=i;return b=Math.max.apply(Math,b),p.height=b,t.height=b+2*x.v,m.node.logicArea=p,m.bound=t},p.prototype.draw=function(){var e,t,a,o,r,i,n,s,l,h=this.conf,d=h.bound&&h.bound.style||{stroke:"none"};for(2<=arguments.length?(r=arguments[0],n=arguments[1]):1<=arguments.length&&(n=arguments[0]),o=n.parentLayer,t=n.colorRange.getCumulativeValueRatio(),a=n.componentPool,e=a.getKeys(),this.getLogicalSpace(r,n),i=this._lSpace,r=i.node.logicArea,n=i.node.smartTexts,l=a.getComponent(this._id,e.KEY_GROUP),o=l("legend-values",o),l=a.getComponent(this._id,e.KEY_RECT),this.bound=d=l(o).attr(i.bound).css(d),l=a.getComponent(this._id,e.KEY_TEXT,!0),e=0,i=t.length;e<i;e++)(s=n[e])&&(t=r.y+s.height/2,a=e===i-1?r.x+s.x-s.width/2:e?r.x+s.x:r.x+s.x+s.width/2,l({},o).attr({text:s.text,x:a,y:t,lineHeight:this._metaStyle.lineHeight,fill:h.style.fill}));return{group:o,bound:d}},g.prototype=Object.create(p.prototype),g.prototype.constructor=g,g.prototype.getLogicalSpace=function(t,o,r){var i,n,s,l,h,d,c,p,g,u,m=this._lSpace,f=this.conf,x=f.padding,v=o.componentPool.getChart(),b=[];if(m&&!r)return m.isImpure=!0,m;for(m=o.colorRange,o=o.smartLabel,r=m.colorRange,n=m.getCumulativeValueRatio(),m=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0,smartTexts:[]}},u=m.node.smartTexts,h=e(t,{}),h.height-=2*x.v,h.width-=2*x.h,h.x+=x.h,h.y+=x.v,o.useEllipsesOnOverflow(v.config.useEllipsesWhenOverflow),f=e(f.style,{}),a(f),o.setStyle(this._metaStyle=f),g=o.getSmartText("W"),v=r.length,d=(n[v-1]-n[0])/2*h.height/100,f=o.getSmartText(r[0].displayValue,h.width,d),f.y=n[0]*h.height/100,i=f.y+f.width,b.push(f.width),u[0]=f,f=o.getSmartText(r[v-1].displayValue,h.width,d),f.y=n[v-1]*h.height/100,d=f.y-f.height,b.push(f.width),u[v-1]=f,c=i,i=1;i<v-1;i++)f=void 0,p=r[i].displayValue,s=i+1===v-1?d:n[i+1]*h.height/100,l=n[i]*h.height/100,s=Math.min(l-c,s-l),s>2*g.height&&(f=o.getSmartText(p,h.width,2*s),f.y=n[i]*h.height/100,c=s,b.push(f.width)),u[i]=f;return b=Math.max.apply(Math,b),h.width=b,t.width=b+2*x.h,m.node.logicArea=h,m.bound=t},g.prototype.draw=function(){var e,t,a=this.conf;t=a.bound&&a.bound.style||{stroke:"none"};var o,r,i,n,s,l,h,d;for(2<=arguments.length?(o=arguments[0],i=arguments[1]):1<=arguments.length&&(i=arguments[0]),e=i.parentLayer,n=i.colorRange.getCumulativeValueRatio(),s=i.componentPool,l=s.getKeys(),this.getLogicalSpace(o,i),r=this._lSpace,o=r.node.logicArea,i=r.node.smartTexts,d=s.getComponent(this._id,l.KEY_GROUP),e=d("legend-values",e),d=s.getComponent(this._id,l.KEY_RECT),this.bound=t=d(e).attr(r.bound).css(t),d=s.getComponent(this._id,l.KEY_TEXT,!0),s=0,l=n.length;s<l;s++)(n=i[s])&&(r=o.x+n.width/2,h=s===l-1?o.y+n.y-n.height/2:s?o.y+n.y:o.y+n.y+n.height/2,d({},e).attr({text:n.text,x:r,y:h,lineHeight:this._metaStyle.lineHeight,fill:a.style.fill}));return{group:e,bound:t}},u.prototype.constructor=u,u.prototype.addCompositions=function(e,t){this.compositionsByCategory[t]=e},u.prototype.getLogicalSpace=function(t,a,o){a=this._lSpace;var r,i,n=this.conf,s=n.padding;i=n.legendAxisHeight;var l,h=this.compositionsByCategory;return l=0,a&&!o?(a.isImpure=!0,a):(a=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},o=e(t,{}),o.height-=2*s.v,o.width-=2*s.h,o.x+=s.h,o.y+=s.v,n=i/2+n.line.offset,r=i/2,(h=h.RANGE)&&(l=h.sliders[!1],l=l.conf.outerCircle.rFactor*i,r+=l=Math.max(l/2-i/2,0)),o.y+=l,o.height=i=r+n+l,t.height=i+2*s.v,a.node.logicArea=o,a.bound=t)},u.prototype.getDrawableAxisArea=function(e){var t=this.conf;return{x:e.x,y:e.y,width:e.width,height:t.legendAxisHeight,r:t.legendAxisHeight/2}},u.prototype.preDrawingRangeParam=function(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}},u.prototype.getScaleMarkerPathStr=function(t,a){var o,r,i,n,s=e(t,{}),l=this.conf.line,h="";for(s.x+=s.r,s.width-=2*s.r,n=s.y+s.height,o=0,r=a.length;o<r;o++)i=a[o],i=s.x+i*s.width/100,h+="M"+i+","+(n-l.grooveLength)+"L"+i+","+(n+l.offset);return s="M"+s.x+","+(n+l.offset)+"L"+(s.x+s.width)+","+(n+l.offset),h+s},u.prototype.getColorGradient=function(e){return{axis:e.getBoxFill(),shadow:S({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},u.prototype.draw=function(){var e,t,a,o,r,i,n,s,l,h=this.conf,d=h.line,c=(h.bound||{}).style||{},p=this.compositionsByCategory;2<=arguments.length?(t=arguments[0],s=arguments[1]):1<=arguments.length&&(s=arguments[0]),e=s.parentLayer,o=s.colorRange,r=o.getCumulativeValueRatio(),l=s.componentPool,i=l.getKeys(),this.getLogicalSpace(t,s),n=this._lSpace,t=l.getComponent(this._id,i.KEY_GROUP),e=t("legend-axis",e),t=l.getComponent(this._id,i.KEY_RECT,!0),this.bound=t(e).attr(n.bound).css(c),c=this.getDrawableAxisArea(n.node.logicArea),o=this.getColorGradient(o),h.style.fill=o.axis,h.shadow.style.fill=o.shadow,this.node=t(e).attr(c).css(h.style),this.shadow=t(e).attr(c).css(h.shadow.style),h=this.getScaleMarkerPathStr(c,r),t=l.getComponent(this._id,i.KEY_PATH),t("M0,0",e).attr({path:h}).css(d.style);for(a in p)switch(d=p[a],a){case"RANGE":i=this.preDrawingRangeParam(c),s[i.prop]=i[i.prop],s.key=i.prop,s.rCalcBase=i.calculationBase,s.parentLayer=e,d.draw(i.rangeStart,i.rangeEnd,s)}},m.prototype=Object.create(u.prototype),m.prototype.constructor=m,m.prototype.getLogicalSpace=function(t,a,o){a=this._lSpace;var r,i,n=this.conf,s=n.padding;i=n.legendAxisHeight;var l,h=this.compositionsByCategory;return l=0,a&&!o?(a.isImpure=!0,a):(a=this._lSpace={bound:{height:0,width:0},node:{logicArea:void 0}},o=e(t,{}),o.height-=2*s.v,o.width-=2*s.h,o.x+=s.h,o.y+=s.v,n=i/2+n.line.offset,r=i/2,(h=h.RANGE)&&(l=h.sliders[!1],l=l.conf.outerCircle.rFactor*i,r+=l=Math.max(l/2-i/2,0)),o.x+=l,o.width=i=r+n+l,t.width=i+2*s.v,a.node.logicArea=o,a.bound=t)},m.prototype.getDrawableAxisArea=function(e){var t=this.conf;return{x:e.x,y:e.y,width:t.legendAxisHeight,height:e.height,r:t.legendAxisHeight/2}},m.prototype.getScaleMarkerPathStr=function(t,a){var o,r,i,n,s=e(t,{}),l=this.conf.line,h="";for(s.y+=s.r,s.height-=2*s.r,n=s.x+s.width,o=0,i=a.length;o<i;o++)r=a[o],r=s.y+r*s.height/100,h+="M"+(n-l.grooveLength)+","+r+"L"+(n+l.offset)+","+r;return s="M"+(n+l.offset)+","+s.y+"L"+(n+l.offset)+","+(s.y+s.height),h+s},m.prototype.getColorGradient=function(e){return{axis:e.getBoxFill(!0),shadow:S({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},m.prototype.preDrawingRangeParam=function(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}},f.prototype.constructor=f,f.prototype.initRange=function(e,t){this.extremes[+e.sliderIndex]=t},f.prototype.updateRange=function(e,t){var a=e.sliderIndex;this.sliders[!a].updateSwingRange(a,t)},f.prototype.reset=function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.sliders[!1]=new x(!1,e,this._id+"_0"),this.sliders[!0]=new x(!0,e,this._id+"_1"),this.draw.apply(this,this._drawParams)},f.prototype.clearListeners=function(){this.callbacks.length=0},f.prototype.draw=function(e,t,a){var o=this.sliders,r=o[!1],o=o[!0],i=a.colorRange,n=i.colorRange,s=this._fcChart=a.componentPool.getChart();return this.getValueFormPixel=function(e,t,a,o){var r=(t-e)/(o-a);this.getValueFormPixel=function(t){return e+r*t}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(a,o){var r=this.extremes,r=this.getValueFormPixel(a.sliderIndex?r[1]-r[0]+o:o);return r=t?parseFloat(r).toFixed(2)+"%":e.legendValue(r)}},this._drawParams=[e,t,a],this.updateWhenInMove(s.components.numberFormatter,i.mapByPercent),e=r.draw(e,n[0].displayValue,a[a.key],a),e=o.draw(t,n[n.length-1].displayValue,a[a.key],a),r.swing=this.extremes.slice(0),o.swing=this.extremes.slice(0),this.getValueFormPixel(n[0].value,n[n.length-1].value,this.extremes[0],this.extremes[1]),e},f.prototype.registerListener=function(e,t,a){this.callbacks.push({fn:e,context:t,params:a||[]})},f.prototype.updateWhenInRest=function(e,t){var a,o,r,i=this.sliders,n=this.extremes,s=e.sliderIndex,l=this.callbacks;for(s?(a=i[!s].currPos,i=n[1]-n[0]+t):(a=t,i=n[1]-n[0]+i[!s].currPos),n=0,s=l.length;n<s;n++)o=l[n],r=o.params.slice(0),r.unshift(this.getValueFormPixel(i)),r.unshift(this.getValueFormPixel(a)),o.fn.apply(o.context,r)},f.prototype.dragStarted=function(e){var t=this.sliders,a=this.extremes,o=e.conf,r=this._fcChart;C.raiseEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t[!1].currPos)},{value:this.getValueFormPixel(a[1]-a[0]+t[!0].currPos)}],legendPointerHeight:o.outerRadius,legendPointerWidth:o.innerRadius,outerRadius:o.outerRadius,innerRadius:o.innerRadius},r.chartInstance,[r.id])},f.prototype.dragCompleted=function(e,t,a){var o,r=this.sliders,i=this.extremes,n=e.conf,s=this.getValueFormPixel(r[!1].currPos),r=this.getValueFormPixel(i[1]-i[0]+r[!0].currPos),l=this._fcChart;e.sliderIndex?(o=s,a=this.getValueFormPixel(i[1]-i[0]+a)):(o=this.getValueFormPixel(a),a=r),t&&C.raiseEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:r,minValue:o,maxValue:a},l.chartInstance,[l.id]),C.raiseEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:s},{value:r}],legendPointerHeight:n.outerRadius,legendPointerWidth:n.innerRadius,outerRadius:n.outerRadius,innerRadius:n.innerRadius},l.chartInstance,[l.id])},x.prototype.constructor=x,x.prototype.updateSwingRange=function(e,t){this.swing[+e]=t},x.prototype.draw=function(e,t,a,o){var r,i,n=o.parentLayer,s=this.conf,l=s.outerCircle,h=s.innerCircle,d=Math.ceil(l.rFactor*o.rCalcBase/2),c=Math.ceil(h.rFactor*o.rCalcBase/2),p=d-c,g=this.rangeGroup,u=this.sliderIndex,m=o.componentPool,f=m.getKeys();return s.outerRadius=d,s.innerRadius=c,this._scaleVal=t,h.style["stroke-width"]=p,p=Math.ceil(l.style["stroke-width"]/2),c+=p,i=m.getComponent(this._id,f.KEY_GROUP),n=this.node=i("fc-gl-slider",n).attr({cursor:"pointer",transform:"t0,0"}),"x"===o.key?e=r=e+(u?-c:+c):(r=a,e=a=e+(u?-c:+c)),g.initRange(this,e),i=m.getComponent(this._id,f.KEY_CIRCLE,!0),i(n).attr({cx:a,cy:r,r:d}).css(l.style),i(n).attr({cx:a,cy:r,r:c}).css(h.style),t=this.tracker=i(n).attr({cx:a,cy:r,r:d+5,ishot:!0,fill:N,stroke:0,cursor:"pointer"}).trackTooltip(!!s.showTooltip).tooltip(t,null,null,!0),this._dragAPI=o=this.getDragAPI("x"===o.key),t.undrag(),t.drag(o.dragging,o.dragStart,o.dragEnd),{translateAscending:d+p}},x.prototype.getDragAPI=function(e){var t,a,o,r,i=this,n=i.node,s=i.sliderIndex,l=i.rangeGroup,h=i.conf.innerRadius;return{dragging:function(d,c,p,g,u){var m;if(u.stopPropagation(),u.preventDefault(),m=e?c:d,s?(d=t[0]-t[1]+h,c=0):(d=0,c=t[1]-t[0]-h),!(i.currPos+m<d||i.currPos+m>c))return n.attr({transform:e?"t0,"+(i.currPos+m):"t"+(i.currPos+m)+",0"}),a=m,o&&clearTimeout(o),o=setTimeout(function(){l.updateWhenInRest(i,i.currPos+m)},100),i.tracker.tooltip(l.updateWhenInMove(i,i.currPos+m),null,null,!0),r=!0},dragStart:function(a,o,s){s.stopPropagation(),s.preventDefault(),n.attr({transform:e?"t0,"+i.currPos:"t"+i.currPos+",0"}),t=t||i.swing,r=!1,l.dragStarted(i)},dragEnd:function(){var e;l.dragCompleted(i,r,i.currPos+a),r&&(o&&clearTimeout(o),o=setTimeout(function(){l.updateWhenInRest(i,i.currPos)},100),i.currPos+=a,e=t[+s]+i.currPos,l.updateRange(i,e))}}},v.prototype.constructor=v,v.prototype.getValueRatio=function(){var e,t,a=this.colorRange,o=a.length,r=this.valueRatio,i=a[0].value,n=a[o-1].value-i,s=0;if(r)return r;for(r=this.valueRatio=[],t=0;t<o;t++)e=a[t],e=(e.value-i)/n,r.push(100*(e-s)),s=e;return r},v.prototype.getCumulativeValueRatio=function(){var e,t,a=this.colorRange,o=a.length,r=a[0].value,i=a[o-1].value,n=[];for(t=0;t<o;t++)e=a[t],n.push((e.value-r)/(i-r)*100);return n},v.prototype.getBoxFill=function(e){var t,a,o=this.colorRange,r=o.length,i=[];for(a=e?90:0,t=0;t<r;t++)e=o[t],i.push(e.code);return o={FCcolor:{alpha:"100,100,100",angle:a,color:i.join(","),ratio:this.getValueRatio().join(",")}},S(o)},v.prototype.getColorByValue=function(e){var t,a,o,r,i=this.values,n=this.colorRange;if(void 0!==e&&null!==e){for(a=0,t=i.length;a<t;a++){if(e===i[a]){r=n[a].code;break}if(!a&&e<i[a]){o=!0;break}if(a===t-1&&e>i[a]){o=!0;break}if(e>i[a]&&e<i[a+1]){i=n[a],t=n[a+1],n=i.value,a=B(i.code),i=t.value,t=B(t.code),r=r=void 0,r=i-n,r=[Math.round(a[0]+(t[0]-a[0])/r*(e-n)),Math.round(a[1]+(t[1]-a[1])/r*(e-n)),Math.round(a[2]+(t[2]-a[2])/r*(e-n))],r=I(r);break}}if(!o)return r}},b.prototype=Object.create(r.prototype),b.prototype.constructor=b,FusionCharts.register("component",["gradientLegend","gradientLegend",{pIndex:1,enabled:!1,init:function(e){function t(t){n.data=e.chart.jsonData.colorrange,(r=n.nData=w.legacyDataParser(n.data,t))?(n.drawOptions={smartLabel:s.linkedItems.smartLabel,colorRange:n.colorRange=o=new v(r,t,i),maxOtherSide:t.maxOtherSide},n._dontPlot=!1,o&&o._preparationGoneWrong&&(n._dontPlot=!0),n._recalculateLogicalSpace=!0,n._configure()):n._dontPlot=!0}var a,o,r,i,n=this,s=e.chart;if(w.init(e),i=n._chart=e.chart,n._cpool=y(i),!(a=e.dataExtremes))return t;t(a)},_configure:function(){var e,t,a,o,r,i,n,s=this._chart,l=s.jsonData.chart,h=this.conf={},d=l.outcnvbasefont,c=l.outcnvbasefontsize,p=l.outcnvbasefontcolor,s=s.config.dataLabelStyle;h.caption=L(l.legendcaption),h.legendPosition=L(l.legendposition,"bottom").toLowerCase(),
h.showLegend=A(l.showlegend,1),h.interactiveLegend=A(l.interactivelegend,1),h.showLegendLabels=A(l.showlegendlabels,1),e=l.legenditemfontcolor||p,t=l.legenditemfont||d,a=l.legenditemfontsize||c,o=A(l.legenditemfontbold,0),p=l.legendcaptionfontcolor||p,d=l.legendcaptionfont||d,c=l.legendcaptionfontsize||c,r=A(l.legendcaptionfontbold,1),n=(i=l.legendaxisbordercolor?V(T(l.legendaxisbordercolor)):void 0)?A(l.legendaxisborderalpha,100)/100:void 0,h.axisTextItemConf={style:{fill:e?P(L(e)):s.color,fontFamily:t?L(t):s.fontFamily,fontSize:a?A(a):s.fontSize.match(/\d+/)[0],fontWeight:o?"bold":s.fontWeight}},h.legendCaptionConf={style:{fill:p?P(L(p)):s.color,fontFamily:d?L(d):s.fontFamily,fontSize:c?A(c):s.fontSize.match(/\d+/)[0],fontWeight:r?"bold":s.fontWeight,fontStyle:"normal"}},h.legendAxisConf={legendAxisHeight:11,style:{stroke:i,"stroke-opacity":n},line:{style:{stroke:P(L(l.legendscalelinecolor,"FFF8E9"),A(l.legendscalelinealpha,100)),"stroke-width":A(l.legendscalelinethickness)}}},h.sliderGroupConf={showTooltip:A(l.showtooltip,1),outerCircle:{rFactor:A(l.sliderdiameterfactor),style:{stroke:P(L(l.legendpointerbordercolor,"757575"),A(l.legendpointerborderalpha,100))}},innerCircle:{rFactor:A(l.sliderholediameterfactor),style:{stroke:P(L(l.legendpointercolor,"FFFFFF"),A(l.legendpointeralpha,100))}}},h.legendCarpetConf={spreadFactor:A(l.legendspreadfactor),allowDrag:!!A(l.legendallowdrag,0),captionAlignment:L(l.legendcaptionalignment,"center"),style:{fill:P(L(l.legendbgcolor,"e4d9c1"),A(l.legendbgalpha,100)),stroke:P(L(l.legendbordercolor,"c4b89d"),A(l.legendborderalpha,100)),"stroke-width":A(l.legendborderthickness,1)}}},postConfigureInit:function(){var t,a,o,r,x,v,y,C=this.conf;this.elem={},C.caption&&(a=e(w.getDefaultConf("legendCaptionConf"),C.legendCaptionConf),t=new s(C.caption,a)),C.interactiveLegend&&(a=e(w.getDefaultConf("sliderGroupConf"),C.sliderGroupConf),this.elem.sGroup=r=new f(a),this.listeners&&0<this.listeners.length&&r.registerListener.apply(r,this.listeners)),a=e(w.getDefaultConf("legendCarpetConf"),C.legendCarpetConf),"bottom"===C.legendPosition?(this.drawOptions.refSideKey="canvasWidth",this.drawOptions.refOffsetKey="canvasLeft",a=new i(a),x=e(w.getDefaultConf("axisTextItemConf"),C.axisTextItemConf),v=new l(this.drawOptions.colorRange,w.getDefaultConf("legendBodyConf"),x),o=new u(e(w.getDefaultConf("legendAxisConf"),C.legendAxisConf)),C.showLegendLabels&&(y=new d(x)),C=new p(x)):(this.drawOptions.refSideKey="canvasHeight",this.drawOptions.refOffsetKey="canvasTop",x=e(w.getDefaultConf("axisTextItemConf"),C.axisTextItemConf),a=new n(a),v=new h(this.drawOptions.colorRange,w.getDefaultConf("legendBodyConf"),x),o=new m(e(w.getDefaultConf("legendAxisConf"),C.legendAxisConf)),C.showLegendLabels&&(y=new c(x)),C=new g(x)),r&&o.addCompositions(r,"RANGE"),y&&v.addCompositions(y,"LEGEND_LABEL"),v.addCompositions(o,"LEGEND_AXIS"),v.addCompositions(C,"AXIS_VALUE"),t&&a.addCompositions(t,"CAPTION"),a.addCompositions(v,"LEGEND_BODY"),this.elem.gl=new b(a,this._cpool)},notifyWhenUpdate:function(e,t,a){var o;(o=this.elem&&this.elem.sGroup)?o.registerListener(e,t,a):this.listeners=[e,t,a]},dispose:function(){this.elem&&this.elem.gl&&this.elem.gl.dispose(),this.elem={}},getLogicalSpace:function(e){var t=this.conf,a={height:0,width:0},o=this.drawOptions,r=this._chart;return this._recalculateLogicalSpace?this._dontPlot?a:(this._recalculateLogicalSpace=!1,this.postConfigureInit(),t.showLegend?(t=o.refSideKey,o=o.refOffsetKey,this.drawOptions.refSide=r.config[t],this.drawOptions.refOffset=r.config[o],this.drawOptions.maxOtherSide=e||this.drawOptions.maxOtherSide,this.elem.gl&&(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))):a):(t=o.refSideKey,o=o.refOffsetKey,this.drawOptions.refSide=r.config[t],this.drawOptions.refOffset=r.config[o],(this._logicalArea=this.elem.gl.getLogicalSpace(this.drawOptions,!0))||a)},resetLegend:function(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()},clearListeners:function(){var e;(e=this.elem&&this.elem.sGroup)&&e.clearListeners()},draw:function(e,t,a){var o=this.conf;this._dontPlot||(this._cpool.init(a.paper),o.showLegend?(this.drawOptions.paper=a.paper,this.drawOptions.parentGroup=a.parentGroup,this.drawOptions.x=e,this.drawOptions.y=t,this.drawOptions.maxOtherSide=this.drawOptions.maxOtherSide||a.maxOtherSide,e=this.elem.gl.draw(this.drawOptions),e=e.getBBox(),o.xPos=e.x,o.yPos=e.y,o.height=e.height,o.width=e.width,this.enabled=!0):this.enabled=!1)}}])}]),FusionCharts.register("module",["private","modules.renderer.js-msstepline",function(){var e=this.hcLib,t=e.chartAPI,a=e.pluckNumber,o=e.pluck,r=this.window.Image,i=e.preDefStr,n=e.schedular,s=i.line,l=e.toRaphaelColor,h=e.getFirstValue,d=i.configStr,c=i.animationObjStr,p=i.dataLabelStr,g=e.BLANKSTRING,u=i.hiddenStr,m=Math.max,f=e.TOUCH_THRESHOLD_PIXELS,x=e.CLICK_THRESHOLD_PIXELS,v=e.hasTouch?f:x,b=i.ROUND,w=i.miterStr;t("msstepline",{friendlyName:"Multi-series Step Line Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"msstepline",defaultPlotShadow:1,applicableDSList:{msstepline:!0}},t.mscartesian,{drawverticaljoins:1,useforwardsteps:1,zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},t.areabase),FusionCharts.register("component",["dataset","MSStepLine",{type:"stepline",_addLegend:function(){var e=this.config,t=this.chart.components.legend,r=a(e.drawanchors,1),e={enabled:e.includeinlegend,type:s,drawLine:o(e.drawLine,!0),fillColor:l({color:e.anchorbgcolor,alpha:e.anchorbgalpha}),strokeColor:l({color:e.anchorbordercolor,alpha:"100"}),rawFillColor:e.anchorbgcolor,rawStrokeColor:e.anchorbordercolor,anchorSide:r?e.anchorsides:0,strokeWidth:e.anchorborderthickness,label:h(this.JSONData.seriesname),lineWidth:e.linethickness};this.legendItemId=t.addItems(this,this.legendInteractivity,e)},draw:function(){var t,a,i,h,f=this,x=f.JSONData,y=f.chart,C=y.getJobList(),k=y.components,A=f.config,L=f.index||f.positionIndex,S=y.config,D=k.paper,T=k.xAxis[0],V=f.yAxis,P=y.graphics;t=P.datalabelsGroup;var I,B,_,E,N,O,F,M=f.components.data,R=f.components.removeDataArr||[],W=R.length,G=A.linethickness,z=f.graphics.container,j=f.graphics.trackerContainer;a=P.trackerGroup;var H,U,J,Y,q,X,K,Q,Z,$,ee,te,ae,oe=S.connectnulldata,re=P.datasetGroup,P=A.shadow,ie=f.graphics.dataLabelContainer,ne={},ne=y.get(d,c),se=ne.dummyObj,le=ne.animObj,he=ne.duration,de=f.components.pool||[],ce=function(){!1!==f.visible||!1!==f._conatinerHidden&&void 0!==f._conatinerHidden||(z.lineGroup.hide(),z.lineShadowGroup.hide(),z.anchorShadowGroup.hide(),z.anchorGroup.hide(),j.hide(),ie&&ie.hide(),f._conatinerHidden=!0)},pe=function(){re.lineConnector.attr({"clip-rect":null}),re.lineConnector.node&&re.lineConnector.node.removeAttribute("clip-path"),!1!==f.visible&&(z.lineShadowGroup.show(),z.anchorShadowGroup.show(),z.anchorGroup.show(),j.show(),ie&&ie.show())},ge=!0,ue=V.getAxisBase(),ue=V.yBasePos=V.getAxisPosition(ue),me=k.canvas.config.clip,k=me["clip-canvas-init"].slice(0),me=me["clip-canvas"].slice(0),fe=A.lineDashStyle,xe={color:A.linecolor,alpha:A.alpha},ve=[],be=0,we=[],ye=null,Ce=[],ke=!1,Ae=f.graphics.lineElement,Le=f.visible,Se=A.drawverticaljoins,De=A.useforwardsteps,Te=ne.animType,Ve=0,y=y.config.stepatmiddle?.5*T.getPVR():0;for(A.imagesLoaded=0,re.lineConnector=re.lineConnector||D.group("line-connector",re),z||(z=f.graphics.container={lineShadowGroup:D.group("connector-shadow",re.lineConnector),anchorShadowGroup:D.group("anchor-shadow",re.lineConnector),lineGroup:D.group(s,re.lineConnector),anchorGroup:D.group("anchors",re.lineConnector)},Le||(z.lineShadowGroup.hide(),z.anchorShadowGroup.hide(),z.lineGroup.hide(),z.anchorGroup.hide())),j||(j=f.graphics.trackerContainer=D.group("line-hot",a),Le||j.hide()),M||(M=f.components.data=[]),ie||(ie=f.graphics.dataLabelContainer=f.graphics.dataLabelContainer||D.group(p,t),Le||ie.hide()),Le&&(z.lineShadowGroup.show(),z.anchorShadowGroup.show(),z.lineGroup.show(),z.anchorGroup.show(),j.show(),ie.show()),t=T.getCategoryLen(),a=0;a<t;a++)(F=M[a])&&(Y=F.config,E=Y.setValue,_=Y.setLink,N=Y.setLevelTooltext,ne=Y.anchorProps,J=ne.symbol,U=ne.shadow,O=Y.displayValue,B=F.graphics.element,te=F.graphics.image,i=F.graphics.hotElement,h=F.graphics.label,F||(F=M[a]={graphics:{}}),null===E?(Ce.length=0,oe||(ye=null),B&&B.hide(),te&&te.hide(),h&&h.hide(),i&&i.hide()):(Z={color:Y.color,alpha:Y.alpha},q=Y.dashStyle,i=T.getAxisPosition(a),h=!f.visible&&he?ue:V.getAxisPosition(E),H=Y.hoverEffects,ne.isAnchorHoverRadius=H.anchorRadius,ae=T.getLabel(a),I=S.showtooltip?Y.toolText+(N?g:Y.toolTipValue):g,Y.finalTooltext=I,N=Y.eventArgs||(Y.eventArgs={}),N.index=a,N.link=_,N.value=E,N.displayValue=O,N.categoryLabel=ae,N.toolText=I,N.id=A.userID,N.datasetIndex=L,N.datasetName=x.seriesname,N.visible=Le,ne.imageUrl?(Y.anchorImageLoaded=!1,F._xPos=i,F._yPos=h,U=new r,U.onload=this._onAnchorImageLoad(f,a,N,i,h),U.onerror=this._onErrorSetter(f,a),U.src=ne.imageUrl,Ve++):(te&&te.hide(),E=[J[1]||2,i,h,ne.radius,ne.startAngle,ne.dip],_={fill:l({color:ne.bgColor,alpha:ne.bgAlpha}),stroke:l({color:ne.borderColor,alpha:ne.borderAlpha}),"stroke-width":ne.borderThickness,visibility:ne.radius?Le:u},B||(de.element&&de.element.length?B=F.graphics.element=de.element.shift():(B=F.graphics.element=D.polypath(z.anchorGroup),B.attr({polypath:E}))),B.show().animateWith(se,le,{polypath:E},he,Te,ge&&ce),B.attr(_).shadow(U,z.anchorShadowGroup),ge=!1),U=F.graphics.connector,H.enabled&&(E={polypath:[H.anchorSides||2,i,h,H.anchorRadius,H.startAngle,H.dip],fill:l({color:H.anchorColor,alpha:H.anchorBgAlpha}),stroke:l({color:H.anchorBorderColor,alpha:H.anchorBorderAlpha}),"stroke-width":H.anchorBorderThickness},_={polypath:[ne.sides,i,h,ne.radius,ne.startAngle,0],fill:l({color:ne.bgColor,alpha:ne.bgAlpha}),stroke:l({color:ne.borderColor,alpha:ne.borderAlpha}),"stroke-width":ne.borderThickness},B&&B.data("anchorRadius",ne.radius).data("anchorHoverRadius",H.anchorRadius).data("setRolloverAttr",E).data("setRolloutAttr",_)),Y.trackerConfig||(Y.trackerConfig={}),Y.trackerConfig.trackerRadius=m(ne.radius,H&&H.anchorRadius||0,v)+(ne.borderThickness||0)/2,Q=Q!==[l(Z||xe),q||fe].join(":"),null!==ye?(Ce.length&&(ve=ve.concat(Ce),Ce.length=0),ve.join(g)||ve.push("M",$,ye),De?(ve.push("H",i-y),Se?ve.push("V",h):ve.push("M",i-y,h),y&&ve.push("H",i)):(Se?ve.push("V",h):ve.push("M",$,h),ve.push("H",i)),Q&&(be?we=we.concat(ve):(U||(U=F.graphics.connector=D.path(ve,z.lineGroup),ke=!0),U.animateWith(se,le,{path:ve},he,Te,ge&&ce),U.attr({"stroke-dasharray":K,"stroke-width":G,stroke:X,"stroke-linecap":b,"stroke-linejoin":2<G?b:w}).shadow(ee,z.lineShadowGroup),ge=!1),ve=[]),Q||U&&U.hide()):Ce.push("M",i,h),$=i,ye=h,X=l(Z||xe),ee=Z?{opacity:Z&&Z.alpha/100}:P,K=q||fe,be=void 0===o(Y.color,Y.alpha,Y.dashed)?1:0,Q=[X,K].join(":"),F._xPos=i,F._yPos=h,!ne.imageUrl&&this.drawLabel(a)));for(A.noOfImages=A.totalImages=Ve,0===Ve&&(C.trackerDrawID.push(n.addJob(f.drawTracker,f,[],e.priorityList.tracker)),C.labelDrawID.push(n.addJob(f.drawLabel,f,[],e.priorityList.label))),ve.length&&(we=we.concat(ve)),x={path:we},_={"stroke-dasharray":fe,"stroke-width":G,stroke:l(xe),"stroke-linecap":b,"stroke-linejoin":2<=G?b:w},Ae||(Ae=f.graphics.lineElement=D.path({path:we},z.lineGroup),ke=!0),Ae.show().animateWith(se,le,x,he,Te,ge&&ce),Ae.attr(_).shadow(P,z.lineShadowGroup),ge=!1,he&&Le&&ke&&(z.anchorGroup.hide(),z.lineShadowGroup.hide(),z.anchorShadowGroup.hide(),ie.hide(),re.lineConnector.attr({"clip-rect":k}).animateWith(se,le,{"clip-rect":me},he,"normal",pe)),a=0;a<W;a++)f._removeDataVisuals(R.shift());f.drawn=!0}},s,{drawverticaljoins:void 0,useforwardsteps:void 0}])}]),FusionCharts.register("module",["private","modules.renderer.js-powercharts",function(){var e,t=this,a=t.hcLib,o=a.Raphael,r="VML"===o.type,i=t.window,n=i.Image,s=i.document,l=a.preDefStr,h=l.colors,d=h.B90000,c=h.FFFFFF,p=h.AAAAAA,g=h.c000000,u=l.defaultFontStr,m=l.divLineAlpha3DStr,f=l.divLineAlphaStr,x=l.altVGridColorStr,v=l.altVGridAlphaStr,b=l.altHGridColorStr,w=l.altHGridAlphaStr,y=l.configStr,C=l.animationObjStr,k=l.showHoverEffectStr,A=l.columnStr,L=l.colHotStr,S=l.shadowStr,D=l.errorBarStr,T=l.errorHotStr,V=l.errorShadowStr,P=l.dataLabelStr,I=l.miterStr,B=l.hiddenStr,_=l.visibleStr,E=l.visiblilityStr,N=l.ROUND,O=l.PERCENTAGESTRING,F=a.ZEROSTRING,M=l.pStr,R=l.sStr,W=l.POSITION_START,G=l.POSITION_TOP,z=l.POSITION_END,j=l.POSITION_BOTTOM,H=l.PLOTFILLCOLOR_STR,U=l.UNDERSCORE,J=l.NORMAL,Y=l.line,q=l.column,X=l.bar,K=l.volume,Q=a.BLANKSTRING,Z=a.BLANKSTRING,$=a.parseTooltext,ee=a.pluck,te=a.getValidValue,ae=a.pluckNumber,oe=a.getFirstValue,re=a.parseUnsafeString,ie=a.extend2,ne=a.getDashStyle,se=a.toRaphaelColor,le=a.toPrecision,he=a.hasSVG,de=a.isIE,ce=a.regex.dropHash,pe=a.HASHSTRING,ge=a.hashify,ue=a.setAttribDefs,me=a.parseConfiguration,fe=a.attrTypeNum,xe=function(e,t){var a;e||(e={});for(a in t)e[a]=t[a];return e},ve=a.COMMASPACE,be=a.schedular,we=a.chartPaletteStr={chart2D:{bgColor:"bgColor",bgAlpha:"bgAlpha",bgAngle:"bgAngle",bgRatio:"bgRatio",canvasBgColor:"canvasBgColor",canvasBaseColor:"canvasBaseColor",divLineColor:"divLineColor",legendBgColor:"legendBgColor",legendBorderColor:"legendBorderColor",toolTipbgColor:"toolTipbgColor",toolTipBorderColor:"toolTipBorderColor",baseFontColor:"baseFontColor",anchorBgColor:"anchorBgColor"},chart3D:{bgColor:"bgColor3D",bgAlpha:"bgAlpha3D",bgAngle:"bgAngle3D",bgRatio:"bgRatio3D",canvasBgColor:"canvasBgColor3D",canvasBaseColor:"canvasBaseColor3D",divLineColor:"divLineColor3D",divLineAlpha:m,legendBgColor:"legendBgColor3D",legendBorderColor:"legendBorderColor3D",toolTipbgColor:"toolTipbgColor3D",toolTipBorderColor:"toolTipBorderColor3D",baseFontColor:"baseFontColor3D",anchorBgColor:"anchorBgColor3D"}},ye=a.each,Ce=a.addEvent,ke=a.removeEvent,Ae=a.getTouchEvent,Le=a.componentDispose,Se=function(e){return void 0!==e&&null!==e},De="rgba(192,192,192,"+(de?.002:1e-6)+")",Te=a.TOUCH_THRESHOLD_PIXELS,Ve=a.CLICK_THRESHOLD_PIXELS,Pe=8===i.document.documentMode?_:Z,Ie=a.BGRATIOSTRING,Be=Math,_e=Be.sin,Ee=Be.cos,Ne=Be.round,Oe=Be.min,Fe=Be.max,Me=Be.abs,Re=Be.PI,We=Be.ceil,Ge=Be.floor,ze=Be.sqrt,je=Be.pow,He=Re/180,Ue=a.hasTouch,Je=Ue?Te:Ve,Ye=a.getFirstColor,qe=a.setLineHeight,Xe=a.pluckFontSize,Ke=a.getFirstAlpha,Qe=a.graphics.getDarkColor,Ze=a.graphics.getLightColor,$e=a.graphics.convertColor,et=a.POSITION_RIGHT,tt=a.POSITION_LEFT,at=a.bindSelectionEvent,ot=a.chartAPI,rt=a.graphics.mapSymbolName,it=a.COMMASTRING,nt=a.HUNDREDSTRING,st=a.getMouseCoordinate,lt=a.plotEventHandler,ht=t.xssEncode,dt=a.SHAPE_RECT,ct=a.graphics,pt=ct.parseColor,gt=ct.getValidColor,ut=function(){this.data("move",!1),clearTimeout(this._longpressactive),delete this._longpressactive},mt=a.createElement;a.eventList.chartupdated="FC_ChartUpdated",a.eventList.dataposted="FC_DataPosted",a.eventList.dataposterror="FC_DataPostError",a.eventList.datarestored="FC_DataRestored",t.addEventListener("rendered",function(e){e=e.sender;var t=e.__state,a=e.jsVars&&e.jsVars.instanceAPI;!t.listenersAdded&&a&&"function"==typeof a.getCollatedData&&(e.addEventListener(["chartupdated","dataupdated","rendered"],function(e){delete e.sender.__state.hasStaleData}),t.listenersAdded=!0)}),ot("spline",{friendlyName:"Spline Chart",standaloneInit:!0,singleseries:!0,creditLabel:!1,defaultDatasetType:"msspline",defaultPlotShadow:1,applicableDSList:{spline:!0},getSplineExtremities:function(e,t,a,o,r){var i=[],n=!1;for(o=o||0,r=r||{max:Number.MIN_VALUE,min:Number.MAX_VALUE};o<e.length;++o)if(n)if(isNaN(e[o].config.setValue)||null===e[o].config.setValue){if(!a)break}else i.push({index:o,y:e[o].config.setValue});else isNaN(e[o].config.setValue)||null===e[o].config.setValue||(n=!0,i.push({index:o,y:e[o].config.setValue}));return 2<i.length&&this.evalSplineExtremities(i,t,r),o<e.length&&!a&&this.getSplineExtremities(e,t,a,o,r),r},evalSplineExtremities:function(e,t,a){var o,r,i,n={};for(r=0;r<e.length;++r)o=e[r].index,n["D"+o]=0;for(o=0;10>o;++o)for(r=0;r<e.length;++r)i=0===r?(3*(e[r+1].y-e[r].y)-n["D"+e[r+1].index])/2:r===e.length-1?(3*(e[r].y-e[r-1].y)-n["D"+e[r-1].index])/2:(3*(e[r+1].y-e[r-1].y)-n["D"+e[r+1].index]-n["D"+e[r-1].index])/4,n["D"+e[r].index]=i;for(t=Ne(t/(e.length-1)),r=1;r<e.length;++r)this.getSegmentExtremities(r,e,n,a,t)},getSegmentExtremities:function(e,t,a,o,r){var i,n,s,l,h;for(i=a["D"+t[0].index],n=a["D"+t[e].index],a=t[0].y,s=3*(t[e].y-t[0].y)-2*i-n,e=2*(t[0].y-t[e].y)+i+n,t=o.max,n=o.min,l=0;l<=r;l++)h=l/r,h=a+i*h+s*h*h+e*h*h*h,h<n&&(n=h),h>t&&(t=h);o.max=t,o.min=n}},ot.sscartesian,{minimizetendency:0,zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),ot("splinearea",{friendlyName:"Spline Area Chart",standaloneInit:!0,hasLegend:!1,singleseries:!0,creditLabel:!1,defaultDatasetType:"mssplinearea",defaultPlotShadow:0},ot.spline,{anchoralpha:nt,minimizetendency:0},ot.areabase),ot("msspline",{standaloneInit:!0,friendlyName:"Multi-series Spline  Chart",creditLabel:!1,defaultDatasetType:"msspline",applicableDSList:{msspline:!0},defaultPlotShadow:1,getSplineExtremities:ot.spline.getSplineExtremities,evalSplineExtremities:ot.spline.evalSplineExtremities,getSegmentExtremities:ot.spline.getSegmentExtremities},ot.mscartesian,{minimizetendency:0,zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),ot("mssplinearea",{friendlyName:"Multi-series Spline Area Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"mssplinearea",defaultPlotShadow:0},ot.msspline,{minimizetendency:0},ot.areabase),ot("mssplinedy",{friendlyName:"Multi-series Dual Y-Axis Spline Chart",standaloneInit:!0,creditLabel:!1,isDual:!0,defaultDatasetType:"msspline",applicableDSList:{msspline:!0},getSplineExtremities:ot.spline.getSplineExtremities,evalSplineExtremities:ot.spline.evalSplineExtremities,getSegmentExtremities:ot.spline.getSegmentExtremities},ot.msdybasecartesian,{minimizetendency:0,zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.msspline),ot("multiaxisline",{friendlyName:"Multi-axis Line Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"multiaxisline",defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,applicableDSList:{LINE:!0},_createDatasets:function(){var e,t,a,o,r,i,n,s,l,h,d,c,p=this.components,g=this.config,u=this.jsonData,m=u.axis,f=0,x=this.defaultDatasetType,v=this.applicableDSList,b=p.legend.components.items||[],w=this.config.isstacked,y={},C=0;if(m){for(e=m.length,this.config.categories=u.categories&&u.categories[0].category,u=p.dataset||(p.dataset=[]),o=u.length,c=g.axisDataSetMap=[],t=0;t<e;t++)if(a=m[t].dataset,c[t]=[],a)for(i=a.length,f+=i,g=0;g<i;g++)h=a[g],h.seriesname&&(h.seriesname=re(h.seriesname)),r=h.parentyaxis||Z,s=(s=this.isDual&&r.toLowerCase()===R?ee(h.renderas,this.sDefaultDatasetType):ee(h.renderas,x))&&s.toLowerCase(),v[s]||(s=x),(r=FusionCharts.get("component",["dataset",s]))&&(void 0===y[s]?y[s]=0:y[s]++,d="datasetGroup_"+s,l=FusionCharts.register("component",["datasetGroup",s]),n=p[d],l&&!n&&(n=p[d]=new l,n.chart=this,n.init()),u[C]?(r=u[C],n=r.JSONData,n=n.data?n.data.length:0,s=h.data?h.data.length:0,n>s&&r.removeData(s-1,n-s,!1),r.JSONData=h,r.index=t,r.axisIndex=t,r.configure(),c[t].push(C),C+=1):(r=new r,u.push(r),r.chart=this,r.index=t,r.axisIndex=t,c[t].push(C),C+=1,n&&(w?n.addDataSet(r,0,y[s]):n.addDataSet(r,y[s],0)),r.init(h)));if(o>f){for(p=o-f,g=f;g<o;g++)Le.call(u[g]);u.splice(f,p),b.splice(f,p)}}else this.setChartMessage()},_createAxes:function(){var e=this.components,t=FusionCharts.register("component",["axis","cartesian"]);e.yAxis=[],e.xAxis=[],e.xAxis[0]=e=new t,e.chart=this,e.init(),this._setCategories()},_feedAxesRawData:function(){var e,t,a=this.components,o=this.config,r=a.colorManager,i=a.numberFormatter,n=this.jsonData,s=n.chart,l=this.is3d;t=l?we.chart3D:we.chart2D;var h,d,c,p,b,w,y,C,k,A,L,S,D=FusionCharts.register("component",["axis","cartesian"]);e=!1;var T=0;for(e={outCanfontFamily:ee(s.outcnvbasefont,s.basefont,u),outCanfontSize:Xe(s.outcnvbasefontsize,s.basefontsize,10),outCancolor:ee(s.outcnvbasefontcolor,s.basefontcolor,r.getColor(t.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:s.xaxisnamepadding,axisValuePadding:s.labelpadding,axisNameFont:s.xaxisnamefont,axisNameFontSize:s.xaxisnamefontsize,axisNameFontColor:s.xaxisnamefontcolor,axisNameFontBold:s.xaxisnamefontbold,axisNameFontItalic:s.xaxisnamefontitalic,axisNameBgColor:s.xaxisnamebgcolor,axisNameBorderColor:s.xaxisnamebordercolor,axisNameAlpha:s.xaxisnamealpha,axisNameFontAlpha:s.xaxisnamefontalpha,axisNameBgAlpha:s.xaxisnamebgalpha,axisNameBorderAlpha:s.xaxisnameborderalpha,axisNameBorderPadding:s.xaxisnameborderpadding,axisNameBorderRadius:s.xaxisnameborderradius,axisNameBorderThickness:s.xaxisnameborderthickness,axisNameBorderDashed:s.xaxisnameborderdashed,axisNameBorderDashLen:s.xaxisnameborderdashlen,axisNameBorderDashGap:s.xaxisnameborderdashgap,useEllipsesWhenOverflow:s.useellipseswhenoverflow,divLineColor:ee(s.vdivlinecolor,s.divlinecolor,r.getColor(t.divLineColor)),divLineAlpha:ee(s.vdivlinealpha,s.divlinealpha,l?r.getColor(m):r.getColor(f)),divLineThickness:ae(s.vdivlinethickness,s.divlinethickness,1),divLineIsDashed:!!ae(s.vdivlinedashed,s.vdivlineisdashed,s.divlinedashed,s.divlineisdashed,0),divLineDashLen:ae(s.vdivlinedashlen,s.divlinedashlen,4),divLineDashGap:ae(s.vdivlinedashgap,s.divlinedashgap,2),showAlternateGridColor:ae(s.showalternatevgridcolor,0),alternateGridColor:ee(s.alternatevgridcolor,r.getColor(x)),alternateGridAlpha:ee(s.alternatevgridalpha,r.getColor(v)),numDivLines:s.numvdivlines,labelFont:s.labelfont,labelFontSize:s.labelfontsize,labelFontColor:s.labelfontcolor,labelFontBold:s.labelfontbold,labelFontItalic:s.labelfontitalic,labelFontAlpha:s.labelalpha,maxLabelHeight:s.maxlabelheight,axisName:s.xaxisname,axisMinValue:s.xaxisminvalue,axisMaxValue:s.xaxismaxvalue,setAdaptiveMin:s.setadaptivexmin,adjustDiv:s.adjustvdiv,labelDisplay:s.labeldisplay,showLabels:s.showlabels,rotateLabels:s.rotatelabels,slantLabel:ae(s.slantlabels,s.slantlabel),labelStep:ae(s.labelstep,s.xaxisvaluesstep),showAxisValues:ae(s.showxaxisvalues,s.showxaxisvalue),showLimits:s.showvlimits,showDivLineValues:ae(s.showvdivlinevalues,s.showvdivlinevalues),showZeroPlane:s.showvzeroplane,zeroPlaneColor:s.vzeroplanecolor,zeroPlaneThickness:s.vzeroplanethickness,zeroPlaneAlpha:s.vzeroplanealpha,showZeroPlaneValue:s.showvzeroplanevalue,trendlineColor:s.trendlinecolor,trendlineToolText:s.trendlinetooltext,trendlineThickness:s.trendlinethickness,trendlineAlpha:s.trendlinealpha,showTrendlinesOnTop:s.showtrendlinesontop,showAxisLine:ae(s.showxaxisline,s.showaxislines,s.drawAxisLines,0),axisLineThickness:ae(s.xaxislinethickness,s.axislinethickness,1),axisLineAlpha:ae(s.xaxislinealpha,s.axislinealpha,100),axisLineColor:ee(s.xaxislinecolor,s.axislinecolor,g)},t={outCanfontFamily:ee(s.outcnvbasefont,s.basefont,u),outCanfontSize:Xe(s.outcnvbasefontsize,s.basefontsize,10),outCancolor:ee(s.outcnvbasefontcolor,s.basefontcolor,r.getColor(t.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),useEllipsesWhenOverflow:s.useellipseswhenoverflow,showAlternateGridColor:0,axisNameFont:s.yaxisnamefont,axisNameFontSize:s.yaxisnamefontsize,axisNameFontColor:s.yaxisnamefontcolor,axisNameFontBold:s.yaxisnamefontbold,axisNameFontItalic:s.yaxisnamefontitalic,axisNameBgColor:s.yaxisnamebgcolor,axisNameBorderColor:s.yaxisnamebordercolor,axisNameAlpha:s.yaxisnamealpha,axisNameFontAlpha:s.yaxisnamefontalpha,axisNameBgAlpha:s.yaxisnamebgalpha,axisNameBorderAlpha:s.yaxisnameborderalpha,axisNameBorderPadding:s.yaxisnameborderpadding,axisNameBorderRadius:s.yaxisnameborderradius,axisNameBorderThickness:s.yaxisnameborderthickness,axisNameBorderDashed:s.yaxisnameborderdashed,axisNameBorderDashLen:s.yaxisnameborderdashlen,axisNameBorderDashGap:s.yaxisnameborderdashgap},l=a.xAxis[0],l.setCommonConfigArr(e,!1,!1,!1),l.configure(),o.axesArr={leftAxes:[],rightAxes:[],axesMap:[],checkBox:[],leftSideSelected:!1},l=o.axesArr.leftAxes=[],w=o.axesArr.rightAxes=[],y=o.axesArr.axesMap=[],h=n.axis||[],d=0,c=h.length;d<c;d+=1){for(a.yAxis[d]?n=a.yAxis[d]:(n=a.yAxis[d]=new D,n.chart=this,n.init()),b=h[d],e=!1,S=0,p=b.dataset?b.dataset.length:0;S<p;S+=1)0!==Number(b.dataset[S].visible)&&(e=!0);S=ae(b.showaxis,1),p=r.getPlotColor(d),C=ee(b.color,s.axiscolor,p),$e(C,100),k=ae(b.divlinethickness,s.divlinethickness,1),A=ae(b.tickwidth,s.axistickwidth,2),L=ae(b.axislinethickness,s.axislinethickness,2),(p=!ae(b.axisonleft,1))?(y.push({side:"r",index:w.length,showAxis:S,checkBoxChecked:e}),w.push({index:d,showAxis:S,checkBoxChecked:e})):(S&&(o.axesArr.leftSideSelected=!0),y.push({side:"l",index:l.length,showAxis:S,checkBoxChecked:e}),l.push({index:d,showAxis:S,checkBoxChecked:e})),t.labelStep=ae(b.yaxisvaluesstep,b.yaxisvaluestep,s.yaxisvaluesstep,s.yaxisvaluestep),t.axisMaxValue=b.maxvalue,t.axisMinValue=b.minvalue,t.setAdaptiveMin=ae(b.setadaptiveymin,s.setadaptiveymin),t.numDivLines=ae(b.numdivlines,s.numdivlines,4),t.adjustDiv=ae(b.adjustdiv,s.adjustdiv),t.showAxisValues=ae(b.showyaxisvalues,b.showyaxisvalue,s.showyaxisvalues,s.showyaxisvalue,1),t.showLimits=ae(b.showlimits,s.showyaxislimits,s.showlimits,t.showAxisValues),t.showDivLineValues=ae(b.showdivlinevalue,s.showdivlinevalues,b.showdivlinevalues,t.showAxisValues),t.showZeroPlane=ae(b.showzeroplane,s.showzeroplane),t.showZeroPlaneValue=ae(b.showzeroplanevalue,s.showzeroplanevalue),t.zeroPlaneColor=b.zeroplanecolor,t.zeroPlaneThickness=ae(b.zeroplanethickness,b.divlinethickness,o.zeroplanethickness,2),t.zeroPlaneAlpha=ae(b.zeroplanealpha,b.divlinealpha,o.zeroplanealpha),t.showZeroPlaneOnTop=o.showzeroplaneontop,t.divLineColor=ee(b.divlinecolor,C),t.divLineAlpha=ae(b.divlinealpha,s.divlinealpha,r.getColor(f),100),t.divLineThickness=k,t.divLineIsDashed=!!ae(b.divlinedashed,b.divlineisdashed,s.divlinedashed,s.divlineisdashed,0),t.divLineDashLen=ae(b.divlinedashlen,s.divlinedashlen,4),t.divLineDashGap=ae(b.divlinedashgap,s.divlinedashgap,2),t.showAxisLine=1,t.axisLineThickness=L,t.axisLineAlpha=100,t.axisLineColor=C,t.tickLength=A,t.tickColor=C,t.tickAlpha=100,t.tickWidth=L,t.axisName=b.title,t.rotateAxisName=1,n.setCommonConfigArr(ie({},t),!0,!1,p),n.configure(),i.parseMLAxisConf(b,d),0===ae(b.showaxis)?(n.hide(),n.setAxisConfig({axisIndex:d,drawAxisLineWRTCanvas:!1,drawLabels:!1,drawPlotlines:!1,drawAxisLine:!1,drawPlotBands:!1,drawAxisName:!1,drawTrendLines:!1,drawTrendLabels:!1,drawTick:!1,drawTickMinor:!1})):(n.show(),n.setAxisConfig({axisIndex:d,drawAxisLineWRTCanvas:!1,drawLabels:!0,drawPlotlines:!0,drawAxisLine:!0,drawPlotBands:!0,drawAxisName:!0,drawTrendLines:!0,drawTrendLabels:!0,drawTick:!0,drawTickMinor:!0})),T+=1}for(d=T,c=a.yAxis.length;d<c;d+=1)a.yAxis[d].hide()},_setAxisLimits:function(){var e,t,a,o,r=this.components,i=this.config.axisDataSetMap,n=r.dataset,r=r.yAxis,s=i.length,l=-1/0,h=1/0;for(e=0;e<s;e+=1){for(t=0,a=i[e].length;t<a;t+=1)o=n[i[e][t]].getDataLimits(),l=Fe(l,o.max),h=Oe(h,o.min);1/0===h&&(h=0),-1/0===l&&(l=h+1),r[e].setDataLimit(l,h),l=-1/0,h=1/0}},_spaceManager:function(){var e,t,a,o=this.config,r=o.axesArr,i=this.components;a=o.legendPosition;var n=i.xAxis;e=i.yAxis;var s=this.hasLegend,l=o.yDepth;t=i.legend;var h,d,c,p=o.axesPadding,g=0,u=0,m=o.axisDataSetMap.length,f=this.jsonData.chart,x=ae(f.showborder,this.is3D?0:1),i=i.canvas.config.canvasBorderWidth;h=o.borderWidth=x?ae(f.borderthickness,1):0;var v=o.canvasMarginTop,b=o.canvasMarginBottom,w=o.canvasMarginLeft,f=o.canvasMarginRight,y=o.height,x=o.width;for(this._allocateSpace({top:h,bottom:h,left:h,right:h}),this._allocateSpace({left:o.canvasMarginLeft,right:o.canvasMarginRight}),h=r.axesMap,d=r.leftAxes,r=r.rightAxes,c="right"===a?.3*o.canvasWidth:.3*o.canvasHeight,!1!==s&&n&&this._allocateSpace(t._manageLegendPosition(c)),s=0;s<m;s+=1)0!==h[s].showaxis&&(t=.7*o.canvasWidth,t=e[s].placeAxis(t),e[s]&&this._allocateSpace(t),c=h[s],"r"===c.side?(r[c.index].width=t.right,g+=p):(d[c.index].width=t.left,u+=p));e=.225*o.availableHeight,e=this._manageActionBarSpace&&this._manageActionBarSpace(e)||{},this._allocateSpace(e),a=a===j?.6*o.canvasHeight:.6*o.canvasWidth,this._manageChartMenuBar(a),t=.7*o.canvasWidth,t>g+u&&this._allocateSpace({left:u,right:g}),a=.6*o.canvasHeight,n[0]&&this._allocateSpace(n[0].placeAxis(a)),a=.325*o.canvasHeight,this._getDSspace&&this._allocateSpace(this._getDSspace(a)),l&&this._allocateSpace({bottom:l}),this._allocateSpace({top:i,bottom:i,left:i,right:i}),n=v>o.canvasTop?v-o.canvasTop:0,l=b>y-o.canvasBottom?b+o.canvasBottom-y:0,g=w>o.canvasLeft?w-o.canvasLeft:0,u=f>x-o.canvasRight?f+o.canvasRight-x:0,this._allocateSpace({top:n,bottom:l,left:g,right:u}),o.actualCanvasMarginTop=n,o.actualCanvasMarginLeft=g,o.actualCanvasMarginRight=u,o.actualCanvasMarginBottom=l},_postSpaceManagement:function(){var e=this.config,t=this.components,a=t.xAxis&&t.xAxis[0],o=t.legend,r=e.xDepth,i=t.canvas.config,t=i.canvasBorderWidth,n=i.canvasPadding,s=i.canvasPaddingLeft,i=i.canvasPaddingRight;a&&a.setAxisDimention({x:e.canvasLeft+(r||0)+Fe(s,n),y:e.canvasBottom+(e.shift||0)+t,opposite:e.canvasTop-t,axisLength:e.canvasWidth-(r||0)-Fe(s,n)-Fe(i,n)}),a&&a.shiftLabels(-r,0),o.postSpaceManager()},_resuffelAxis:function(){var e,t,a,o,r,i=this.data("axisDetails"),n=i.iapi,s=n.config.axesArr;if(e=s.leftAxes,t=s.rightAxes,"l"===i.position){for(o=e.length-1;o>i.index;o--)if(e[o].showAxis){a=o,r=i.index;break}if(void 0!==a&&(i=ie({},e[r]),e[r]=ie({},e[a]),e[a]=ie({},i)),s.leftSideSelected&&void 0===a)return;s.leftSideSelected=!0}else{for(o=0;o<i.index;o++)if(t[o].showAxis){a=o,r=i.index;break}if(void 0!==a&&(i=ie({},t[r]),t[r]=ie({},t[a]),t[a]=ie({},i)),!s.leftSideSelected&&void 0===a)return;s.leftSideSelected=!1}n._drawAxis(!0)},_dolegendInteraction:function(e,t){var a,o=t.components.dataset,r=t.components.legend;if(this.checked)for(a in o)o.hasOwnProperty(a)&&(o[a].visible||o[a].axisIndex!==e||o[a].show());else for(a in o)o.hasOwnProperty(a)&&o[a].visible&&o[a].axisIndex===e&&o[a].hide();r.drawLegend()},_drawAxis:function(e){var t,a,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b=this.config,w=b.axesArr,k=this.components,A=k.yAxis||[],L=k.xAxis||[],S=k.paper,D=b.allowAxisShift,T=b.allowSelection,V=this.graphics.axisHotElement||[],P=this.graphics.trackerContainer,I=this.graphics.buttonGroup,B=k.canvas.config,_=B.canvasBorderWidth,E=B.canvasPaddingTop,B=B.canvasPaddingBottom,N=b.axesPadding,O=this.components.tb,F=0,M=0,R=0,W=!1,G=0;h=this.get(y,C),x=h.animObj,v=h.dummyObj,c=h.transposeAnimDuration,p=h.animType,h=k.tb||(k.tb=new(FusionCharts.register("component",["toolbox","toolbox"]))),h.init({iAPI:this,graphics:this.graphics,chart:this,components:k}),d=k.toolBoxAPI.CheckboxSymbol,i=w.leftAxes,k=w.rightAxes,u=w.checkBox;for(n in u)u.hasOwnProperty(n)&&u[n].checkbox.hide();for(l={cursor:"col-resize",stroke:De,fill:De,ishot:!0,visibility:!0},n=i.length-1;0<=n;--n)if(0!==i[n].showAxis&&(t=b.canvasLeft-_-F-N,a=b.canvasTop+E,o=b.canvasHeight-E-B,r=i[n].width,g=i[n].index,s=A[g],s.setAxisDimention({x:t,y:a,opposite:b.canvasRight+_,axisLength:o}),F+=r+N,!W&&w.leftSideSelected?(s.setAxisConfig({isActive:!0,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),W=!0):s.setAxisConfig({isActive:!1,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),T&&(u[g]?(s=u[g],m=t-r-u[g].checkboxPrePos.x,f=a+o+4-u[g].checkboxPrePos.y,s.checkbox.show(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),c?s.checkbox.node.animateWith(v,x,{transform:"t"+m+","+f},c,p):s.checkbox.node.attr({transform:"t"+m+","+f})):(s=u[g]={},s.checkbox=new d(Z,!0,G++,O.pId),s.checkbox.conf=h.getDefaultConfiguration(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),s.checkbox.draw(t-r,a+o+4,{parentLayer:I}),s.checkboxPrePos={x:t-r,y:a+o+4}),s.checkbox.node.attr({stroke:se({color:b.checkBoxColor,alpha:100})}),s.checkbox.node.attr({"stroke-width":[1,2]}),b.axisConfigured&&(i[n].checkBoxChecked?s.checkbox.check():s.checkbox.uncheck())),D)){if(l.x=t-r,l.y=a,l.width=r,l.height=o,V[R])for(o=V[R].attr(l),o.show(),t=0,
a=o.events.length;t<a;t++)o.events[t].unbind(),o.events.splice(t,1),--a;else o=V[R]=S.rect(l,P);o.data("axisDetails",{iapi:this,position:"l",index:n}),Ue?o.touchstart(this._resuffelAxis):o.mousedown(this._resuffelAxis),R+=1}for(n=0,F=k.length;n<F;n+=1)if(0!==k[n].showAxis&&(g=k[n].index,s=A[g],t=b.canvasRight+_+M+N,a=b.canvasTop+E,o=b.canvasHeight-E-B,r=k[n].width,s.setAxisDimention({x:t,y:a,opposite:b.canvasLeft-_,axisLength:o}),M+=k[n].width+N,W||w.leftSideSelected?s.setAxisConfig({isActive:!1,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}):(s.setAxisConfig({isActive:!0,axisNameAlignCanvas:!0,drawAxisNameFromBottom:!0}),W=!0),i=s.getAxisConfig("axisNamePadding"),T&&(u[g]?(s=u[g],m=t-r-s.checkboxPrePos.x,f=a+o+4-s.checkboxPrePos.y,s.checkbox.show(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),c?s.checkbox.node.animateWith(v,x,{transform:"t"+m+","+f},c,p):s.checkbox.node.attr({transform:"t"+m+","+f})):(s=u[g]={},s.checkbox=new d(Z,!0,G++,O.pId),s.checkbox.conf=h.getDefaultConfiguration(),s.checkbox.attachEventHandlers({click:{fn:this._dolegendInteraction,args:[g,this]}}),s.checkbox.draw(t+i,a+o+4,{parentLayer:I}),s.checkboxPrePos={x:t-r,y:a+o+4}),s.checkbox.node.attr({stroke:se({color:b.checkBoxColor,alpha:100})}),s.checkbox.node.attr({"stroke-width":[1,2]}),b.axisConfigured&&(k[n].checkBoxChecked?s.checkbox.check():s.checkbox.uncheck())),D)){if(l.x=t,l.y=a,l.width=r,l.height=o,V[R])for(o=V[R].attr(l),o.show(),t=0,a=o.events.length;t<a;t++)o.events[t].unbind(),o.events.splice(t,1),--a;else o=V[R]=S.rect(l,P);o.data("axisDetails",{iapi:this,position:"r",index:n}),Ue?o.touchstart(this._resuffelAxis):o.mousedown(this._resuffelAxis),R+=1}for(this.graphics.axisHotElement=V,n=R,F=V.length;n<F;n+=1)V[n].hide();if(!e)for(n=0,F=L.length;n<F;n++)L[n].draw();for(n=0,F=A.length;n<F;n++)A[n].draw();b.axisConfigured=!1}},ot.mscartesian,{},ot.areabase),ot("inversemsline",{friendlyName:"Inverted Y-Axis Multi-series Line Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:Y,defaultPlotShadow:1,applicableDSList:{LINE:!0}},ot.msinversecartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),ot("inversemsarea",{friendlyName:"Inverted Y-Axis Multi-series Area Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"area",applicableDSList:{area:!0}},ot.msinversecartesian,{},ot.areabase),ot("inversemscolumn2d",{friendlyName:"Inverted Y-Axis Multi-series Column Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:q,applicableDSList:{COLUMN:!0},isInverse:!0},ot.msinversecartesian),ot("logmsline",{standaloneInit:!0,friendlyName:"Multi-series Line Chart",creditLabel:!1,defaultDatasetType:Y,defaultPlotShadow:1,applicableDSList:{LINE:!0}},ot.mslog,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),ot("logmscolumn2d",{friendlyName:"Multi-series Log Column Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:q,applicableDSList:{COLUMN:!0}},ot.mslog),ot("logstackedcolumn2d",{friendlyName:"Stacked Log Column Chart",standaloneInit:!0,creditLabel:!1},ot.logmscolumn2d,{isstacked:!0}),ot("errorbar2d",{friendlyName:"Error Bar Chart",standaloneInit:!0,creditLabel:!1,showValues:0,isErrorChart:!0,fireGroupEvent:!0,hasLegend:!0,defaultDatasetType:"errorbar2d",applicableDSList:{errorbar2d:!0},eiMethods:{}},ot.mscartesian),FusionCharts.register("component",["dataset","ErrorBar2D",{configure:function(){var e,t,o,r,i,n,s,l,h,d,p,g,u,m,f,x,v,b,w,y,C,k,A,L,S,D,T,V,P,I=this.chart,B=this.config,_=this.JSONData,E=_.data,N=I.config.categories,F=Oe(N&&N.length,E&&E.length),W=I.jsonData.chart,G=I.components.colorManager,z=G.getPlotColor(this.index||this.positionIndex),j=ae(_.dashed,W.plotborderdashed),H=ae(W.useplotgradientcolor,1),U=a.parseUnsafeString,J=U(W.yaxisname),Y=U(W.xaxisname),q=U(ee(W.tooltipsepchar,ve)),X=ae(W.seriesnameintooltip,1),K=a.parseTooltext,Q=a.getDashStyle,$=this.components.data,re=I.components.numberFormatter,ie=I.isBar,ne=I.is3D;b=I.isStacked;var le,he,de;for(e={},e=e.dataObj||(e.dataObj={}),p=e.chart||(e.chart={}),B.legendSymbolColor=z,e=B.showplotborder=ae(W.showplotborder,ne?0:1),B.plotDashLen=l=ae(W.plotborderdashlen,5),B.plotDashGap=h=ae(W.plotborderdashgap,4),B.plotfillAngle=g=ae(360-W.plotfillangle,ie?180:90),B.plotFillAlpha=u=ee(_.alpha,W.plotfillalpha,nt),B.plotColor=ee(_.color,z),B.legendSymbolColor=B.plotColor,B.isRoundEdges=d=ae(W.useroundedges,0),B.plotRadius=ae(W.useRoundEdges,B.isRoundEdges?1:0),B.plotFillRatio=m=ee(_.ratio,W.plotfillratio),B.plotgradientcolor=f=a.getDefinedColor(W.plotgradientcolor,G.getColor("plotGradientColor")),!H&&(f=Z),B.plotBorderAlpha=x=e?ee(W.plotborderalpha,u,nt):0,B.plotBorderColor=v=ee(W.plotbordercolor,ne?c:G.getColor("plotBorderColor")),B.plotBorderThickness=H=ae(W.plotborderthickness,1),B.plotBorderDashStyle=j=j?Q(l,h,H):"none",B.showValues=ae(_.showvalues,W.showvalues,1),B.valuePadding=ae(W.valuepadding,2),B.enableAnimation=le=ae(W.animation,W.defaultanimation,1),B.animation=!!le&&{duration:1e3*ae(W.animationduration,1)},p.transposeAnimation=B.transposeAnimation=ae(W.transposeanimation,p.transposeAnimation,le),B.transposeAnimDuration=1e3*ae(W.transposeanimduration,.2),B.showShadow=d||ne?ae(W.showshadow,1):ae(W.showshadow,G.getColor("showShadow")),B.showHoverEffect=p=ae(W.plothovereffect,W.showhovereffect,void 0),B.showTooltip=G=ae(W.showtooltip,1),B.stack100Percent=le=ae(I.stack100percent,W.stack100percent,0),B.definedGroupPadding=Fe(ae(W.plotspacepercent),0),B.plotSpacePercent=Fe(ae(W.plotspacepercent,20)%100,0),B.maxColWidth=ae(ie?W.maxbarheight:W.maxcolwidth,50),B.showPercentValues=ae(W.showpercentvalues,b&&le?1:0),B.showPercentInToolTip=ae(W.showpercentintooltip,b&&le?1:0),B.plotPaddingPercent=ae(W.plotpaddingpercent),B.rotateValues=ae(W.rotatevalues)?270:0,B.placeValuesInside=ae(W.placevaluesinside,0),B.includeInLegend=ae(_.includeinlegend,1),B.errorInPercent=he=ae(_.errorinpercent,W.errorinpercent),B.use3DLighting=ae(W.use3dlighting,1),B.parentYAxis=le=ee(_.parentyaxis&&_.parentyaxis.toLowerCase(),M)===R?1:0,$||($=this.components.data=[]),de=0;de<F;de++)s=E&&E[de],b=(i=$[de])&&i.config,i||(i=$[de]={graphics:{}}),i.config||(b=$[de].config={}),b.showValue=ae(s.showvalue,B.showValues),b.setValue=i=re.getCleanValue(s.value),b.setLink=ee(s.link),b.toolTipValue=o=re.dataLabels(i,le),b.setDisplayValue=z=U(s.displayvalue),b.displayValue=ee(z,o),o=ae(s.dashed),z=ae(s.dashlen,l),t=h=ae(s.dashgap,h),b.plotBorderDashStyle=t=1===o?Q(z,t,H):0===o?"none":j,z=ee(s.color,B.plotColor),u=ee(s.alpha,B.plotFillAlpha),0>i&&!d&&(n=g,g=ie?180-g:360-g),b.colorArr=w=a.graphics.getColumnColor(z+","+f,u,m,g,d,v,x.toString(),ie?1:0,!!ne),b.label=o=te(U(ee(N[de].tooltext,N[de].label))),0!==p&&(y=ee(s.hovercolor,_.hovercolor,W.plotfillhovercolor,W.columnhovercolor,z),C=ee(s.hoveralpha,_.hoveralpha,W.plotfillhoveralpha,W.columnhoveralpha,u),k=ee(s.hovergradientcolor,_.hovergradientcolor,W.plothovergradientcolor,f),!k&&(k=Z),A=ee(s.hoverratio,_.hoverratio,W.plothoverratio,m),L=ae(360-s.hoverangle,360-_.hoverangle,360-W.plothoverangle,g),S=ee(s.borderhovercolor,_.borderhovercolor,W.plotborderhovercolor,v),D=ee(s.borderhoveralpha,_.borderhoveralpha,W.plotborderhoveralpha,W.plotfillhoveralpha,x,u),u=ae(s.borderhoverthickness,_.borderhoverthickness,W.plotborderhoverthickness,H),T=ae(s.borderhoverdashed,_.borderhoverdashed,W.plotborderhoverdashed),V=ae(s.borderhoverdashgap,_.borderhoverdashgap,W.plotborderhoverdashgap,l),P=ae(s.borderhoverdashlen,_.borderhoverdashlen,W.plotborderhoverdashlen,h),T=T?Q(P,V,u):t,1==p&&y===z&&(y=Ze(y,70)),z=a.graphics.getColumnColor(y+","+k,C,A,L,d,S,D.toString(),ie?1:0,!!ne),b.setRolloutAttr={fill:ne?[se(w[0]),!B.use3DLighting]:se(w[0]),stroke:e&&se(w[1]),"stroke-width":H,"stroke-dasharray":t},b.setRolloverAttr={fill:ne?[se(z[0]),!B.use3DLighting]:se(z[0]),stroke:e&&se(z[1]),"stroke-width":u,"stroke-dasharray":T}),t=b.toolTipValue,z=te(U(ee(s.tooltext,_.plottooltext,W.plottooltext))),b.setErrorValue=w=re.getCleanValue(s.errorvalue),b.errorInPercent=ae(s.errorinpercent,he,0),b.errorInPercent&&(b.setErrorValue=w=ae((w/100*i).toFixed(2))),b.positiveErrorValue=re.getCleanValue(s.positiveerrorvalue),b.errorInPercent&&b.positiveErrorValue&&(b.positiveErrorValue=ae((b.positiveErrorValue/100*i).toFixed(2))),b.negativeErrorValue=re.getCleanValue(s.negativeerrorvalue),b.errorInPercent&&b.negativeErrorValue&&(b.negativeErrorValue=ae((b.negativeErrorValue/100*i).toFixed(2))),b.errorToolTipValue=y=re.dataLabels(w,le),b.negativeErrorToolTipValue=re.dataLabels(b.negativeErrorValue,le),b.positiveErrorToolTipValue=re.dataLabels(b.positiveErrorValue,le),b.errorPercentValue=C=Ne(w/i*nt*nt)/nt+O,G?null===t?s=!1:void 0!==z?(i=[1,2,3,4,5,6,7,99,100,101,102,120,121],o={yaxisName:J,xaxisName:Y,formattedValue:t,errorValue:w,errorDataValue:y,errorPercentValue:C,errorPercentDataValue:C,positiveErrorValue:b.positiveErrorToolTipValue,negativeErrorValue:b.negativeErrorToolTipValue,label:o},s=K(z,i,o,s,W,_)):(X&&(r=oe(_&&_.seriesname)),s=r?r+q:Z,s+=o?o+q:Z):s=!1,b.toolText=s,b.setTooltext=s,n&&(g=n);B=this.config.includeInLegend,!1!==I.hasLegend&&B&&this._addLegend(),this.ErrorValueConfigure()},ErrorValueConfigure:function(){var e,t,o,r,i,n,s,l,h,d,c,g,u,m,f,x,v=this.chart,b=this.config,w=this.JSONData,y=w.data,C=v.config.categories,C=Oe(C&&C.length,y&&y.length),k=v.jsonData.chart,v=a.parseUnsafeString,A=this.components.data,L=v(k.yaxisname),S=v(k.xaxisname),D=ae(k.seriesnameintooltip,1),T=v(ee(k.tooltipsepchar,ve)),V=-1/0,P=1/0,I=function(t){return b.showTooltip?null===h?t=!1:void 0!==t?(i=[1,2,3,4,5,6,7,99,100,101,102,120,121],n={yaxisName:L,xaxisName:S,formattedValue:o.toolTipValue,errorValue:l,errorDataValue:o.errorToolTipValue,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue,positiveErrorValue:o.positiveErrorToolTipValue,negativeErrorValue:o.negativeErrorToolTipValue,label:o.label},t=$(t,i,n,e,k,w)):(D&&(r=oe(w&&w.seriesname)),t=r?r+T:Z,t+=o.label?o.label+T:Z):t=!1,t};for(b.showValues=ae(w.showvalues,k.showvalues,0),b.errorBarShadow=c=ae(k.errorbarshadow,k.showshadow,1),b.ignoreEmptyDatasets=ae(w.ignoreemptydatasets,0),u=ae(k.halferrorbar,1),b.notHalfErrorBar=!ae(k.halferrorbar,1),s=Ke(ee(w.errorbaralpha,k.errorbaralpha,b.plotFillAlpha)),b.errorBarWidthPercent=ae(w.errorbarwidthpercent,k.errorbarwidthpercent,70),b.errorBarColor=$e(Ye(ee(w.errorbarcolor,k.errorbarcolor,p)),s),b.errorBarThickness=ae(w.errorbarthickness,k.errorbarthickness,1),b.shadowOpacity=c?s/250:0,x=0;x<C;x++)e=y&&y[x],o=(t=A[x])&&t.config,c=s=void 0,void 0!==ae(e.value)&&(t||(t=A[x]={graphics:{}}),t.config||(o=A[x].config={}),o.notHalfErrorBar=b.notHalfErrorBar,o.halfErrorBar=u,g=o.setValue,o.showValue=ae(e.showvalue,b.showValues),o.hasErrorValue=void 0!==ae(e.errorvalue)?1:0,l=o.setErrorValue,o.errorValue=l,h=t=o.errorToolTipValue,d=te(v(ee(e.errorplottooltext,w.errorplottooltext,k.errorplottooltext,h))),t=I(d),(d=te(v(ee(e.errorplottooltext,w.errorplottooltext,k.errorplottooltext,o.positiveErrorToolTipValue))))&&o.positiveErrorToolTipValue&&(s=I(d)),(d=te(v(ee(e.errorplottooltext,w.errorplottooltext,k.errorplottooltext,o.negativeErrorToolTipValue))))&&o.negativeErrorToolTipValue&&(c=I(d)),m=o.positiveErrorValue,f=o.negativeErrorValue,(m||f)&&(o.halfErrorBar=0,o.notHalfErrorBar=!0),d=g+(null!==m?m:l),g-=o.halfErrorBar?0:0>f&&0>g?0:null!=f?f:l,V=Fe(V,d,g),P=Oe(P,d,g),null==l&&(l=void 0),o.errorValueArr=[],o.errorValueArr.push({errorValue:null!=f?f:null!==m?l:-l,tooltext:c||t}),o.notHalfErrorBar&&o.errorValueArr.push({errorValue:null!==m?-m:null!=f?-l:l,tooltext:s||t}));b.maxValue=V,b.minValue=P},init:function(e){var t=this.chart,a=t.components,a=t.isDual?a.yAxis[this.yAxis||0]:a.yAxis[0];if(!e)return!1;this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},this.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},draw:function(){var e,t,o,r,i=this,n=i.JSONData,s=i.chart.jsonData.chart,l=i.config,h=i.groupManager,d=i.index,c=i.chart.config.categories,p=n.data,g=i.visible,u=i.chart,m=u.getJobList(),f=u.components.paper,x=u.components.xAxis[0],v=u.components.yAxis[0];e=u.graphics.columnGroup;var b,w,k,D,T,V,P,B,_,E,N=u.graphics,O=a.parseUnsafeString,F=a.getValidValue,M=a.Raphael,R=l.showTooltip,W=x.getAxisPosition(0),G=x.getAxisPosition(1),z=l.groupMaxWidth=G-W,j=l.definedGroupPadding,H=l.plotSpacePercent/200,U=h.getDataSetPosition(i),W=h.manageClip,J=l.maxColWidth,Y=u.get(y,C),u=Y.animType,G=Y.animObj,q=Y.dummyObj,Y=Y.duration,z=(1-.01*j)*z||Oe(z*(1-2*H),1*J),z=ae(U.columnWidth,z/1),j=U.xPosOffset||0,U=U.height,H=i.components.data,J=v.getLimit(),X=J.min,J=0<J.max&&0>X,X=v.getAxisBase(),K=v.yBasePos=v.getAxisPosition(X),Q=0,$=l.showShadow,te=l.plotBorderThickness,l=l.plotRadius,oe=i.graphics.container,re=i.graphics.trackerContainer,ie=i.graphics.dataLabelContainer,ne=i.graphics.shadowContainer,le=i.graphics.errorGroupContainer,he=i.graphics.errorTrackerContainer,de=i.graphics.errorShadowContainer;r=N.trackerGroup;var ce,pe,N=!0,ge=!1,ue=!1,me=(i.components.removeDataArr||[]).length,fe=i.components.pool||[],xe=function(){!1!==i.visible||!1!==i._conatinerHidden&&void 0!==i._conatinerHidden||(oe.hide(),re.hide(),ne.hide(),ie&&ie.hide(),le&&le.hide(),he&&he.hide(),de&&de.hide(),i._conatinerHidden=!0)},ve=function(){i.drawLabel(),i.drawErrorValue()};for(oe||(oe=i.graphics.container=f.group(A,e),g||oe.hide()),re||(re=i.graphics.trackerContainer=f.group(L,r),g||re.hide()),ne||(ne=i.graphics.shadowContainer=f.group(S,e).toBack(),g||ne.hide()),e=x.getCategoryLen(),r=0;r<e;r++)t=p&&p[r],(V=H[r])&&(pe=V.trackerConfig={},o=(E=V&&V.config)&&E.setValue,void 0!==V&&void 0!==o&&null!==o&&(b=0<=o,B=E.setLink,ce=E.colorArr,V.graphics||(H[r].graphics={}),_=E.displayValue,b=b?E.previousPositiveY:E.previousNegativeY,P=F(O(ee(t.tooltext,n.plottooltext,s.plottooltext))),k=v.getAxisPosition(b||X),t=x.getAxisPosition(r)+j,0!==U?(b=v.getAxisPosition(o+(b||0)),D=Me(k-b)):(D=0,b=k),b=Oe(b,k),!J&&W&&g&&0<te&&(D+=te,h.manageClip=!1),V._oriXPos=t,V._oriYPos=b,V._oriHeight=D,V._oriWidth=z,h.isCrisp?(w=M.crispBound(t,b,z,D,te),t=w.x,b=w.y,k=w.width,D=w.height):k=z,T=!1!==E.toolText&&E.toolText+(P?"":E.toolTipValue),P=E.plotBorderDashStyle,pe.eventArgs={index:r,link:B,value:o,displayValue:_,categoryLabel:c[r].label,toolText:T||"",id:Z,datasetIndex:d,datasetName:n.seriesname,visible:g},Y||(K=b,Q=D),o={x:t,y:K,width:k,height:Q||1,r:l,ishot:!R,fill:se(ce[0]),stroke:se(ce[1]),"stroke-width":te,"stroke-dasharray":P,"stroke-linejoin":I,visibility:g},V._xPos=t,V._yPos=b,V._height=D,V._width=k,V.graphics.element?(ge=ue=!0,V=V.graphics.element,o={x:t,y:b,width:k,height:D||1},V.animateWith(q,G,o,Y,u,N&&xe),V.attr({r:l,ishot:!R,fill:se(ce[0]),stroke:se(ce[1]),"stroke-width":te,"stroke-dasharray":P,"stroke-linejoin":I,visibility:g}),E.elemCreated=!1):(fe.element&&fe.element.length?(V=V.graphics.element=fe.element.shift(),V.show()):V=V.graphics.element=f.rect(o,oe),V.attr(o),V.animateWith(q,G,{y:b,height:D||1},Y,u,N&&ve),N=!1,E.elemCreated=!0),V.shadow({opacity:$},ne).data("BBox",w),B||R)&&(D<Je&&(b-=(Je-D)/2,D=Je),pe.attr={x:t,y:b,width:k,height:D,r:l,cursor:B?"pointer":Z,stroke:De,"stroke-width":te,fill:De,ishot:!0,visibility:g}));m.trackerDrawID.push(be.addJob(i.drawTracker,i,[],a.priorityList.tracker)),me&&i.remove(),ge&&i.drawLabel(),ue&&i.drawErrorValue()},show:function(){var e=this.graphics&&this.graphics.container,t=this.graphics&&this.graphics.trackerContainer,a=this.graphics&&this.graphics.dataLabelContainer,o=this.graphics&&this.graphics.shadowContainer,r=this.graphics&&this.graphics.errorGroupContainer,i=this.graphics&&this.graphics.errorTrackerContainer,n=this.graphics&&this.graphics.errorShadowContainer,s=this.chart.is3D,l=this.components.data,h=this.chart.config.categories,d=this.yAxis,c=this.chart,h=Oe(this.JSONData.data&&this.JSONData.data.length,h&&h.length);if(c._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,s)for(e=0;e<h;e++)l[e].graphics.element&&l[e].graphics.element.attr(E,_),l[e].graphics.hotElement&&l[e].graphics.hotElement.attr(E,_);else e.show(),t.show();o.show(),a&&a.show(),r&&r.show(),i&&i.show(),n&&n.show(),c._setAxisLimits(),d.draw(),c._drawDataset()},hide:function(){var e=this.yAxis,t=this.chart;t._chartAnimation(),this.visible=!1,t._setAxisLimits(),e.draw(),t._drawDataset()},drawErrorValue:function(){var e,t,o,r,i,n,s,l,h,d,c,p=this.config,g=this.chart.config.categories,u=this.JSONData.data,m=g&&g.length,f=u&&u.length,x=this.visible,v=this.chart,u=v.getJobList(),b=v.graphics.columnGroup,g=v.components.paper,w=v.components.yAxis[0],k=this.components.data,A=this.groupManager.getDataSetPosition(this).height,L=v.get(y,C),S=L.animType,P=L.animObj,I=L.dummyObj,L=L.duration,B=p.errorBarThickness,_=p.errorBarWidthPercent,E=p.errorBarColor,O=p.showTooltip,p=p.shadowOpacity,F=this.graphics.errorGroupContainer,M=this.graphics.errorTrackerContainer,R=this.graphics.errorShadowContainer,v=v.graphics.trackerGroup;for(F||(F=this.graphics.errorGroupContainer=g.group(D,b),x||F.hide()),M||(M=this.graphics.errorTrackerContainer=g.group(T,v),x||M.hide()),R||(R=this.graphics.errorShadowContainer=g.group(V,b).toBack(),x||R.hide()),m=Oe(m,f),f=0;f<m;f++)if(x=k[f],M=x.errorTrackerConfig={},M.errorTrackerArr=[],r=(t=x&&x.config)&&t.setValue,!x||void 0!==r&&null!==r||(x.graphics.element&&(x.graphics.element.hide(),x.graphics.element.shadow(!1)),x.graphics.hotElement&&x.graphics.hotElement.hide(),x.graphics.error&&x.graphics.error[0]&&(x.graphics.error[0].hide(),x.graphics.error[0].shadow({opacity:0})),x.graphics.error&&x.graphics.error[1]&&(x.graphics.error[1].hide(),x.graphics.error[1].shadow({opacity:0})),x.graphics.errorTracker&&x.graphics.errorTracker[0]&&(x.graphics.errorTracker[0].hide(),x.graphics.errorTracker[0].shadow({opacity:0})),x.graphics.errorTracker&&x.graphics.errorTracker[1]&&(x.graphics.errorTracker[1].hide(),x.graphics.errorTracker[1].shadow({opacity:0}))),void 0!==x&&void 0!==r&&null!==r)if(b=t.errorValueArr,M.errorLen=v=b.length,!x.graphics.error&&(x.graphics.error=[]),!x.graphics.errorTracker&&(x.graphics.errorTracker=[]),t.errorValue===Z||void 0===t.errorValue||null===t.errorValue&&null===t.positiveErrorValue&&null===t.negativeErrorValue)x.graphics.error&&x.graphics.error[0]&&(x.graphics.error[0].hide(),x.graphics.error[0].shadow({opacity:0})),x.graphics.error&&x.graphics.error[1]&&(x.graphics.error[1].hide(),x.graphics.error[1].shadow({opacity:0})),x.graphics.errorTracker&&x.graphics.errorTracker[0]&&(x.graphics.errorTracker[0].hide(),x.graphics.errorTracker[0].shadow({opacity:0})),x.graphics.errorTracker&&x.graphics.errorTracker[1]&&(x.graphics.errorTracker[1].hide(),x.graphics.errorTracker[1].shadow({opacity:0}));else for(t=t.setLink,l=0>r,o=x._oriXPos,h=x._oriYPos,d=x._oriWidth,c=x._oriHeight,r=l?h+c:h,o+=d/2;v--;)M.errorTrackerArr[v]={},s=b[v],M.errorTrackerArr[v].tooltext=s.tooltext,e=r,i=s.errorValue,null===i||isNaN(i)?(x.graphics.error&&x.graphics.error[v]&&(x.graphics.error[v].hide(),x.graphics.error[v].shadow({opacity:v})),x.graphics.errorTracker&&x.graphics.errorTracker[v]&&(x.graphics.errorTracker[v].hide(),x.graphics.errorTracker[v].shadow({opacity:v}))):(s=_/100*d,s/=2,n=0===A?0:1,i=h+(w.getAxisPosition(0)-w.getAxisPosition(1))*i*n,l&&(i+=c),i=Ne(i)+B%2/2,n=Ne(o)+B%2/2,s=["M",n,e,"V",i,"M",n-s,i,"H",n+s],x.graphics.error[v]?(e={path:s},i=x.graphics.error[v],i.animateWith(I,P,e,L,S),i.attr({stroke:E,ishot:!O,"stroke-width":B,cursor:t?"pointer":Z,"stroke-linecap":N})):i=x.graphics.error[v]=g.path(s,F).attr({stroke:E,ishot:!O,"stroke-width":B,cursor:t?"pointer":Z,"stroke-linecap":N}),i.show(),i.shadow({opacity:p},R),M.errorTrackerArr[v].attr={path:s,stroke:De,"stroke-width":B<Je?Je:B,cursor:t?"pointer":Z,ishot:!!t});u.trackerDrawID.push(be.addJob(this.drawErrorTracker,this,[],a.priorityList.tracker))},drawErrorTracker:function(){var e,t,a,o,r,i,n,s,l,h=this.config,d=this.chart,c=this.components.data,p=d.components,g=p.paper,p=p.xAxis[0].getCategoryLen(),u=this.graphics.errorTrackerContainer,m=function(e){lt.call(this,d,e)},f=function(e){lt.call(this,d,e,"DataPlotRollOver")},x=function(e){lt.call(this,d,e,"DataPlotRollOut")};for(r=0;r<p;r++)if(i=c[r]){for(o=i&&i.config,t=i.trackerConfig,e=i.errorTrackerConfig,a=e.errorTrackerArr,e=e.errorLen;e--;)a[e]&&(l=a[e].attr)&&(i.graphics.errorTracker[e]?(i.graphics.errorTracker[e].show(),i.graphics.errorTracker[e].attr(l)):(o.setLink||h.showTooltip)&&(n=i.graphics.errorTracker[e]=g.path(u).attr(l)),s=t.eventArgs,(n=i.graphics.errorTracker[e])&&n.data("eventArgs",s),n&&n.click(m).data("groupId",void 0).hover(f,x),h.showTooltip?n&&n.tooltip(a[e].tooltext):n&&n.tooltip(!1),(o.setLink||h.showTooltip)&&n&&n.click(function(e){return function(){void 0!==e&&d.linkClickFN.call({link:e},d)}}(o.setLink)));o.notHalfErrorBar||(i.graphics.error&&i.graphics.error[1]&&i.graphics.error[1].hide()&&i.graphics.error[1].shadow({opacity:0}),i.graphics.errorTracker&&i.graphics.errorTracker[1]&&i.graphics.errorTracker[1].hide()&&i.graphics.errorTracker[1].shadow({opacity:0}))}},remove:function(){var e,t,a,o=this.components,r=o.removeDataArr,i=o.pool||(o.pool={element:[],hotElement:[],label:[]}),n=r.length,s=this.maxminFlag;for(a=0;a<n;a++)e=r[0],r.splice(0,1),e&&e.graphics&&(t=e.graphics,t.element&&t.element.hide()&&t.element.shadow({opacity:0}),t.error&&t.error[0]&&t.error[0].hide()&&t.error[0].shadow({opacity:0}),t.error&&t.error[1]&&t.error[1].hide()&&t.error[1].shadow({opacity:0}),t.errorTracker&&t.errorTracker[0]&&t.errorTracker[0].hide()&&t.errorTracker[0].shadow({opacity:0}),t.errorTracker&&t.errorTracker[1]&&t.errorTracker[1].hide()&&t.errorTracker[1].shadow({opacity:0}),t.hotElement&&t.hotElement.hide()&&t.hotElement.attr({width:0}),e.graphics.element&&(i.element=i.element.concat(e.graphics.element)),e.graphics.hotElement&&(i.hotElement=i.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(i.label=i.label.concat(e.graphics.label)));o.pool=i,s&&this.setMaxMin()}},"Column"]),FusionCharts.register("component",["datasetGroup","errorbar2d",{},q]),ot("errorline",{friendlyName:"Error Line Chart",useErrorGroup:!0,isErrorChart:!0,fireGroupEvent:!0,creditLabel:!1,defaultPlotShadow:1,axisPaddingLeft:0,axisPaddingRight:0,canvasPaddingModifiers:["anchor","errorbar"],defaultDatasetType:"errorline",applicableDSList:{errorline:!0}},ot.mscartesian,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),FusionCharts.register("component",["dataset","ErrorLine",{type:Y,ErrorValueConfigure:function(){var e,t,o,r,i,n,s,l,h,d,c,g=this.chart,u=this.config,m=g.config,f=u.parentYAxis,x=this.JSONData,v=x.data,b=g.jsonData.chart,w=g.components.xAxis[0].getCategoryLen(),y=a.parseUnsafeString,C=this.components.data,g=g.components.numberFormatter,k=u.linethickness,A=-1/0,L=1/0,S=y(b.yaxisname),D=y(b.xaxisname),T=ee(b.tooltipsepchar,ve),V=ae(b.seriesnameintooltip,1),P=function(t){return m.showtooltip?null===n?t=!1:void 0!==t?(h=[1,2,3,4,5,6,7,99,100,101,102],d={yaxisName:S,xaxisName:D,formattedValue:o.toolTipValue,errorValue:i,errorDataValue:o.errorToolTipValue,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue,label:o.label},t=$(t,h,d,e,b,x)):(V&&(c=oe(x&&x.seriesname)),t=c?c+T:Z,t+=o.label?o.label+T:Z):t=!1,t};for(u.errorBarShadow=s=ae(b.errorbarshadow,b.showshadow,1),u.ignoreEmptyDatasets=ae(x.ignoreemptydatasets,0),l=ae(b.halferrorbar,1),u.notHalfErrorBar=!ae(b.halferrorbar,1),r=Ke(ee(x.errorbaralpha,b.errorbaralpha,u.alpha)),u.errorBarWidth=ae(x.errorbarwidth,b.errorbarwidth,5),u.errorBarColor=$e(Ye(ee(x.errorbarcolor,b.errorbarcolor,p)),r),t=ae(x.errorbarthickness,b.errorbarthickness,1),u.errorBarThickness=t>k?k:t,u.shadowOpacity=s?r/250:0,r=0;r<w;r++)e=v&&v[r],v&&e&&(o=(t=C[r])&&t.config,t||(t=C[r]={graphics:{}}),t.config||(o=C[r].config={}),k=o.setValue,i=g.getCleanValue(e.errorvalue),o.errorToolTipValue=g.dataLabels(i,f),Ne(i/k*nt*nt),o.hasErrorValue=void 0!==ae(e.errorvalue)?1:0,i=g.getCleanValue(e.errorvalue),n=t=o.errorToolTipValue,t=te(y(ee(e.errorplottooltext,x.errorplottooltext,b.errorplottooltext,n))),o.errorValue=e.errorvalue,s=k+i,k-=l?0:i,A=Fe(A,s,k),L=Oe(L,s,k),t=P(t),o.errorValueArr=[],o.errorValueArr.push({errorValue:-i,tooltext:t}),u.notHalfErrorBar&&o.errorValueArr.push({errorValue:i,tooltext:t}),o.toolText=P(o.setTooltext));u.maxValue=A,u.minValue=L},init:function(e){var t=this.chart,a=t.components,o=t.isDual;this.chart=t,this.yAxis=o?a.yAxis[this.yAxis||0]:a.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},show:function(){var e=this.chart,t=this.yAxis,a=this.graphics&&this.graphics.container,o=this.graphics&&this.graphics.trackerContainer,r=this.graphics&&this.graphics.dataLabelContainer,i=this.graphics&&this.graphics.errorGroupContainer,n=this.graphics&&this.graphics.errorTrackerContainer,s=this.graphics&&this.graphics.errorShadowContainer;e._chartAnimation(),a.lineGroup.show(),a.anchorGroup.show(),a.anchorShadowGroup.show(),a.lineShadowGroup.show(),o.show(),r.show(),this.visible=!0,i&&i.show(),n&&n.show(),s&&s.show(),this._conatinerHidden=!1,e._setAxisLimits(),t.draw(),e._drawDataset()},hide:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!1,e._setAxisLimits(),t.draw(),e._drawDataset()},drawErrorValue:function(){var e,t,o=this.config,r=this.chart,i=r.getJobList(),n=r.graphics.datasetGroup,s=r.components,l=s.xAxis[0].getCategoryLen(),h=this.visible,s=s.paper,d=this.yAxis,c=this.components.data,p=r.get(y,C),g=p.animType,u=p.animObj,m=p.dummyObj,p=p.duration,f=o.errorBarThickness,x=o.errorBarWidth,v=o.errorBarColor,b=r.config.showtooltip,o=o.shadowOpacity;t=this.graphics.container.lineGroup;var w,k,A,L,S,P,I,B=this.graphics.errorGroupContainer,_=this.graphics.errorTrackerContainer,E=this.graphics.errorShadowContainer,r=r.graphics.trackerGroup,O=this.graphics.trackerContainer;for(B||(B=this.graphics.errorGroupContainer=s.group(D,n).insertAfter(t),h||B.hide()),_||(_=this.graphics.errorTrackerContainer=s.group(T,r).insertBefore(O),h||_.hide()),E||(E=this.graphics.errorShadowContainer=s.group(V,n).insertBefore(B),h||E.hide()),n=0;n<l;n++)if(r=c[n],t=r.errorTrackerConfig={},t.errorTrackerArr=[],_=(w=r&&r.config)&&w.setValue,void 0===r||void 0===_||null===_){if(r.graphics.error)for(t=0;t<r.graphics.error.length;t++)r.graphics.error[t].hide(),r.graphics.errorTracker[t].hide(),r.graphics.error[t].shadow(!1)}else if(_=w.errorValueArr,t.errorLen=O=_.length,!r.graphics.error&&(r.graphics.error=[]),!r.graphics.errorTracker&&(r.graphics.errorTracker=[]),w.errorValue===Z||void 0===w.errorValue)r.graphics.error&&r.graphics.error[0]&&(r.graphics.error[0].hide(),r.graphics.error[0].shadow({opacity:0})),r.graphics.error&&r.graphics.error[1]&&(r.graphics.error[1].hide(),r.graphics.error[1].shadow({opacity:0}));else for(w=w.setLink,k=r._xPos,A=I=r._yPos;O--;)t.errorTrackerArr[O]={},P=_[O],t.errorTrackerArr[O].tooltext=P.tooltext,e=A,S=P.errorValue,P=x/2,L=h?1:0,L=I+(d.getAxisPosition(0)-d.getAxisPosition(1))*S*L,L=Ne(L)+f%2/2,S=Ne(k)+f%2/2,P=["M",S,e,"V",L,"M",S-P,L,"H",S+P],r.graphics.error[O]?(e={path:P},L=r.graphics.error[O],L.animateWith(m,u,e,p,g),L.attr({stroke:v,ishot:!b,"stroke-width":f,cursor:w?"pointer":Z,"stroke-linecap":N})):L=r.graphics.error[O]=s.path(P,B).attr({stroke:v,ishot:!b,"stroke-width":f,cursor:w?"pointer":Z,"stroke-linecap":N}),L.show(),L.shadow({opacity:o},E),t.errorTrackerArr[O].attr={path:P,stroke:De,"stroke-width":f<Je?Je:f,cursor:w?"pointer":Z,ishot:!!w};i.trackerDrawID.push(be.addJob(this.drawErrorTracker,this,[],a.priorityList.tracker))},drawErrorTracker:function(){var e,t,a,o,r,i,n,s,l=this.config,h=this.chart,d=this.components.data,c=h.components,p=c.paper,c=c.xAxis[0].getCategoryLen(),g=this.graphics.errorTrackerContainer,u=h.config.showtooltip,m=function(e){lt.call(this,h,e)},f=function(e){lt.call(this,h,e,"DataPlotRollOver")},x=function(e){lt.call(this,h,e,"DataPlotRollOut")};for(o=0;o<c;o++){for(a=(r=d[o])&&r.config,e=r.errorTrackerConfig,t=e.errorTrackerArr,e=e.errorLen;e--;)t[e]&&(s=t[e].attr)&&(r.graphics.errorTracker[e]?(r.graphics.errorTracker[e].show(),r.graphics.errorTracker[e].attr(s)):(a.setLink||u)&&(i=r.graphics.errorTracker[e]=p.path(g).attr(s)),n=a.eventArgs,(i=r.graphics.errorTracker[e])&&i.data("eventArgs",n),i&&i.click(m).data("groupId",void 0).hover(f,x),u?i&&i.tooltip(t[e].tooltext):i&&i.tooltip(!1),(a.setLink||u)&&i&&i.click(function(e){return function(){void 0!==e&&h.linkClickFN.call({link:e},h)}}(a.setLink)));l.notHalfErrorBar||(r.graphics.error&&r.graphics.error[1]&&r.graphics.error[1].hide()&&r.graphics.error[1].shadow({opacity:0}),r.graphics.errorTracker&&r.graphics.errorTracker[1]&&r.graphics.errorTracker[1].hide()&&r.graphics.errorTracker[1].shadow({opacity:0}))}},manageSpace:function(){var e,t,a=.5*this.config.errorBarWidth,o=this.chart,r=o.config.dataLabelStyle,i=(this.components||{}).data||[],n=i[0],i=i[i.length-1];e={};var s,l,h,d=o.linkedItems.smartLabel,c={paddingLeft:0,paddingRight:0};return n&&(n=n.config,h=n.showValue,t=n&&n.anchorProps||{},h&&(e=n.displayValue,d.useEllipsesOnOverflow(o.config.useEllipsesWhenOverflow),d.setStyle(r),e=d.getOriSize(e)),n.setValue&&(s=Fe(ae(t.radius,0),a)+ae(t.borderThickness,0),l=(e.width||0)/2),c.paddingLeft=Fe(s,l)),i&&(n=i.config,h=n.showValue,t=n&&n.anchorProps||{},h&&(e=n.displayValue,d.setStyle(r),e=d.getOriSize(e)),n.setValue&&(s=Fe(ae(t.radius,0),a)+ae(t.borderThickness,0),l=(e.width||0)/2),c.paddingRight=Fe(s,l)),c},_removeDataVisuals:function(e){e&&(e=e.graphics,e.element&&e.element.hide()&&e.element.shadow({opacity:0}),e.error&&e.error[0]&&e.error[0].hide()&&e.error[0].shadow({opacity:0}),e.error&&e.error[1]&&e.error[1].hide()&&e.error[1].shadow({opacity:0}),e.errorTracker&&e.errorTracker[0]&&e.errorTracker[0].hide()&&e.errorTracker[0].shadow({opacity:0}),e.errorTracker&&e.errorTracker[1]&&e.errorTracker[1].hide()&&e.errorTracker[1].shadow({opacity:0}),e.hotElement&&e.hotElement.hide()&&e.hotElement.attr({width:0}))}},Y]),ot("errorscatter",{friendlyName:"Error Scatter Chart",isXY:!0,standaloneInit:!0,creditLabel:!1,defaultDatasetType:"errorscatter",applicableDSList:{errorscatter:!0},defaultZeroPlaneHighlighted:!1,useErrorGroup:!0,isErrorChart:!0,fireGroupEvent:!0,initAnimation:!0},ot.scatterBase),FusionCharts.register("component",["dataset","ErrorScatter",{ErrorValueConfigure:function(){var e,t,o,r,i,n,s,l,h,d,c,g,u,m,f,x,v,b,w,y,C,k,A,L,S,D,T=this.chart,V=T.components,P=this.config,I=this.JSONData,B=T.config.categories,_=T.jsonData.chart,E=I.data,N=V.xAxis[0].getCategoryLen(),N=E&&E.length||N,F=a.parseUnsafeString,M=this.components.data,R=V.numberFormatter,W=ee(_.tooltipsepchar,ve),G=F(_.yaxisname),z=F(_.xaxisname),j=P.parentYAxis,H=-1/0,U=1/0,J=1/0,Y=-1/0,q=function(t,r){var i;return P.showTooltip?null===w?i=!1:void 0!==t?(k=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109],A={yaxisName:G,xaxisName:z,yDataValue:w,xDataValue:o.label,formattedValue:o.toolTipValue,horizontalErrorValue:g,horizontalErrorDataValue:m,verticalErrorValue:u,verticalErrorDataValue:x,horizontalErrorPercent:y,verticalErrorPercent:C,label:o.label,errorValue:r,errorDataValue:r,errorPercentValue:o.errorPercentValue,errorPercentDataValue:o.errorPercentValue},i=$(t,k,A,e,_,I)):null===w?i=!1:(P.seriesNameInTooltip&&(L=a.getFirstValue(I&&I.seriesname)),i=L?L+W:Q,i+=b.x?R.xAxis(b.x)+W:Q,i+=o.toolTipValue):i=!1,i};for(P.errorBarShadow=V=ae(_.errorbarshadow,_.showshadow,0),P.ignoreEmptyDatasets=ae(I.ignoreemptydatasets,0),P.notHalfErrorBar=!ae(_.halferrorbar,1),P.errorBarAlpha=Ke(ee(I.errorbaralpha,_.errorbaralpha)),P.errorBarWidth=i=ae(I.errorbarwidth,_.errorbarwidth,5),P.errorBarColor=n=$e(Ye(ee(I.errorbarcolor,_.errorbarcolor,p)),void 0),P.errorBarThickness=r=ae(I.errorbarthickness,_.errorbarthickness,1),P.shadowOpacity=V?NaN:0,P.halfHorizontalErrorBar=s=ae(_.halfhorizontalerrorbar,1),
P.halfVerticalErrorBar=l=ae(_.halfverticalerrorbar,1),void 0===P.initAnimation&&(P.initAnimation=T.initAnimation),T=ee(I.horizontalerrorbaralpha,I.errorbaralpha,_.horizontalerrorbaralpha,void 0),h=ae(I.verticalerrorbaralpha,I.errorbaralpha,_.verticalerrorbaralpha,void 0),d=$e(ee(I.horizontalerrorbarcolor,I.errorbarcolor,_.horizontalerrorbarcolor,n),T),n=$e(ee(I.verticalerrorbarcolor,I.errorbarcolor,_.verticalerrorbarcolor,n),h),c=ae(I.horizontalerrorbarthickness,I.errorbarthickness,_.horizontalerrorbarthickness,r),r=ae(I.verticalerrorbarthickness,I.errorbarthickness,_.verticalerrorbarthickness,r),P.horizontalErrorBarWidth=ae(I.horizontalerrorbarwidth,_.horizontalerrorbarwidth,i),P.verticalErrorBarWidth=ae(I.verticalerrorbarwidth,_.verticalerrorbarwidth,i),i=0;i<N;i++)E&&(e=E&&E[i],o=(t=M[i])&&t.config,t||(t=M[i]={graphics:{}}),t.config||(o=M[i].config={}),t=R.getCleanValue(e.errorvalue),b=o.setValue,o.errorValue=e.errorvalue,o.hErrorValue=g=R.getCleanValue(ee(e.horizontalerrorvalue,e.errorvalue)),o.vErrorValue=u=R.getCleanValue(ee(e.verticalerrorvalue,e.errorvalue)),m=R.dataLabels(g,j),f=te(F(ee(e.errorplottooltext,I.errorplottooltext,_.errorplottooltext,m))),x=R.dataLabels(u,P.parentYAxis),v=te(F(ee(e.errorplottooltext,I.errorplottooltext,_.errorplottooltext,x))),B&&B[i]&&(o.label=te(F(ee(B[i].tooltext,B[i].label)))),null!==b.x&&(S=b.x+Number(g),D=b.x-(s?0:Number(g)),Y=Fe(Y,S,D),J=Oe(J,S,D)),null!==b.y&&(S=b.y+Number(u),D=b.y-(l?0:Number(u)),H=Fe(H,S,D),U=Oe(U,S,D)),o.useHorizontalErrorBar=ae(e.usehorizontalerrorbar,I.usehorizontalerrorbar,_.usehorizontalerrorbar,0),o.useVerticalErrorBar=ae(e.useverticalerrorbar,I.useverticalerrorbar,_.useverticalerrorbar,1),o.errorValueArr=[],o.errorValueArr.push({errorValue:-g,tooltext:q(f,m),errorBarColor:d,isHorizontal:1,errorBarThickness:c,shadowOpacity:V?T/250:0}),o.errorValueArr.push({errorValue:g,tooltext:q(f,m),errorBarColor:d,isHorizontal:1,errorBarThickness:c,shadowOpacity:V?T/250:0}),o.errorValueArr.push({errorValue:-u,tooltext:q(v,x),errorBarColor:n,errorBarThickness:r,shadowOpacity:V?h/250:0}),o.errorValueArr.push({errorValue:u,tooltext:q(v,x),errorBarColor:n,errorBarThickness:r,shadowOpacity:V?h/250:0}),b=o.setValue,Ne(t/b*nt*nt),y=Ne(g/b*nt*nt)/nt+O,C=Ne(u/b*nt*nt)/nt+O,w=o.formatedVal,P.showTooltip?void 0!==o.setTooltext?(k=[1,2,3,4,5,6,7,8,9,10,11,99,100,101,102,103,104,105,106,107,109],A={yaxisName:G,xaxisName:z,yDataValue:w,xDataValue:o.label,formattedValue:o.toolTipValue,horizontalErrorValue:g,horizontalErrorDataValue:m,verticalErrorValue:u,verticalErrorDataValue:x,horizontalErrorPercent:y,verticalErrorPercent:C,label:o.label},t=$(o.setTooltext,k,A,e,_,I)):null===w?t=!1:(P.seriesNameInTooltip&&(L=a.getFirstValue(I&&I.seriesname)),t=L?L+W:Q,t+=b.x?R.xAxis(b.x)+W:Q,t+=o.toolTipValue):t=!1,o.toolText=t);P.xMax=Y,P.xMin=J,P.yMin=U,P.yMax=H},drawErrorValue:function(){var e,t,o,r,i,n,s,l,h,d,c,p,g,u,m=this.chart,f=m.getJobList(),x=m.components,v=this.parentContainer,b=this.config,w=this.JSONData.data,w=w&&w.length,k=this.visible,A=x.paper,x=x.xAxis[0],L=this.yAxis,S=this.components.data,P=m.graphics,I=b.showTooltip,B=b.shadowOpacity,_=m.get(y,C),m=_.animType,E=_.animObj,O=_.dummyObj,_=_.duration,F=this.graphics.container.lineGroup,M=this.graphics.errorGroupContainer,R=this.graphics.errorTrackerContainer,W=this.graphics.errorShadowContainer,G=this.graphics.trackerContainer,P=P.trackerGroup;for(M||(M=this.graphics.errorGroupContainer=A.group(D,v).insertAfter(F),k||M.hide()),R||(R=this.graphics.errorTrackerContainer=A.group(T,P).insertBefore(G),k||R.hide()),W||(W=this.graphics.errorShadowContainer=A.group(V,v).insertBefore(M),k||W.hide()),v=0;v<w;v++)if(P=S[v],G=P.errorTrackerConfig={},G.errorTrackerArr=[],i=(F=P&&P.config)&&F.setValue,R=F.errorValueArr,void 0!==P&&void 0!==i&&null!==i&&R&&(R=F.errorValueArr,G.errorLen=c=R.length,!P.graphics.error&&(P.graphics.error=[]),!P.graphics.errorTracker&&(P.graphics.errorTracker=[]),null===F.vErrorValue&&(P.graphics.error&&P.graphics.error[0]&&(P.graphics.error[0].hide(),P.graphics.error[0].shadow({opacity:0})),P.graphics.error&&P.graphics.error[1]&&(P.graphics.error[1].hide(),P.graphics.error[1].shadow({opacity:0}))),null===F.hErrorValue&&(P.graphics.error&&P.graphics.error[2]&&(P.graphics.error[2].hide(),P.graphics.error[2].shadow({opacity:0})),P.graphics.error&&P.graphics.error[3]&&(P.graphics.error[3].hide(),P.graphics.error[3].shadow({opacity:0}))),null!==F.hErrorValue||null!==F.vErrorValue))for(n=F.setLink,p=P._xPos,l=g=P._yPos,s=p,u=0;u<c;u++)!F.useHorizontalErrorBar&&(0===u||1===u)||!F.useVerticalErrorBar&&(2===u||3===u)||1===u&&b.halfHorizontalErrorBar||3===u&&b.halfVerticalErrorBar?(P.graphics.error&&P.graphics.error[u]&&P.graphics.error[u].hide()&&P.graphics.error[u].shadow({opacity:0}),P.graphics.errorTracker&&P.graphics.errorTracker[u]&&P.graphics.errorTracker[u].hide()&&P.graphics.errorTracker[u].shadow({opacity:0})):(G.errorTrackerArr[u]={},o=R[u],G.errorTrackerArr[u].tooltext=o.tooltext,e=l,h=o.errorValue,i=o.errorBarColor,t=ae(o.isHorizontal,0),o=ae(o.errorBarThickness,b.errorBarThickness,1),r=t?b.horizontalErrorBarWidth:b.verticalErrorBarWidth,r=k?r/2:0,d=k?1:0,t?(h=p+(x.getAxisPosition(0)-x.getAxisPosition(1))*h*d,t=Ne(e)+o%2/2,h=Ne(h)+o%2/2,r=["M",s,t,"H",h,"M",h,t-r,"V",t+r]):(h=g+(L.getAxisPosition(0)-L.getAxisPosition(1))*h*d,t=Ne(h)+o%2/2,h=Ne(s)+o%2/2,r=["M",h,e,"V",t,"M",h-r,t,"H",h+r]),P.graphics.error[u]?(t=P.graphics.error[u],e={path:r,"stroke-width":k?o:0},t.animateWith(O,E,e,_,m),t.attr({stroke:i,ishot:!I,cursor:n?"pointer":Z,"stroke-linecap":N})):(t=P.graphics.error[u]=A.path(r,M).attr({stroke:i,ishot:!I,"stroke-width":o,cursor:n?"pointer":Z,"stroke-linecap":N}),b.initAnimation&&t.attr({opacity:0}).animateWith(O,E,{opacity:1},_,m)),t.show(),t.shadow({opacity:B},W),G.errorTrackerArr[u].attr={path:r,stroke:De,"stroke-width":k?o<Je?Je:o:0,cursor:n?"pointer":Z,ishot:!!n});b.initAnimation=!1,f.trackerDrawID.push(be.addJob(this.drawErrorTracker,this,[],a.priorityList.tracker))},drawErrorTracker:function(){var e,t,a,o,r,i,n,s,l,h=this.config,d=this.chart,c=this.components.data,p=d.components,g=p.paper,p=p.xAxis[0].getCategoryLen(),u=this.graphics.errorTrackerContainer,m=function(e){lt.call(this,d,e)},f=function(e){lt.call(this,d,e,"DataPlotRollOver")},x=function(e){lt.call(this,d,e,"DataPlotRollOut")};for(o=0;o<p;o++)if(i=c[o])for(a=i&&i.config,e=i.errorTrackerConfig,t=e.errorTrackerArr,e=e.errorLen,r=0;r<e;r++)t[r]&&(l=t[r].attr)&&(i.graphics.errorTracker[r]?(i.graphics.errorTracker[r].show(),i.graphics.errorTracker[r].attr(l)):(a.setLink||h.showTooltip)&&(n=i.graphics.errorTracker[r]=g.path(u).attr(l)),s=a.eventArgs,(n=i.graphics.errorTracker[r])&&n.data("eventArgs",s),n&&n.click(m).data("groupId",void 0).hover(f,x),h.showTooltip?n&&n.tooltip(t[r].tooltext):n&&n.tooltip(!1),(a.setLink||h.showTooltip)&&n&&n.click(function(e){return function(){void 0!==e&&d.linkClickFN.call({link:e},d)}}(a.setLink)))},show:function(){var e=this.chart,t=this.yAxis,a=this.graphics&&this.graphics.errorGroupContainer,o=this.graphics&&this.graphics.errorTrackerContainer,r=this.graphics&&this.graphics.errorShadowContainer;e._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,a&&a.show(),o&&o.show(),r&&r.show(),e._setAxisLimits(),t.draw(),this.draw()},remove:function(){var e,t,a,o,r=this.components,i=r.removeDataArr,n=r.pool||(r.pool={element:[],hotElement:[],label:[]}),s=i.length,l=this.maxminFlag;for(a=0;a<s;a++)if(e=i[0],i.splice(0,1),e&&e.graphics){for(t=e.graphics,t.element&&t.element.hide()&&t.element.shadow({opacity:0}),o=0;4>o;o++)t.error&&t.error[o]&&t.error[o].hide()&&t.error[o].shadow({opacity:0}),t.errorTracker&&t.errorTracker[o]&&t.errorTracker[o].hide()&&t.errorTracker[o].shadow({opacity:0});t.hotElement&&t.hotElement.hide()&&t.hotElement.attr({width:0}),e.graphics.element&&(n.element=n.element.concat(e.graphics.element)),e.graphics.hotElement&&(n.hotElement=n.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(n.label=n.label.concat(e.graphics.label))}r.pool=n,l&&this.setMaxMin()}},"Scatter"]),FusionCharts.register("component",["dataset","multiaxisline",{type:"multiaxisline",pIndex:2,customConfigFn:"_createDatasets",configure:function(){var e=this.chart,t=this.JSONData,o=this.config,r=e.config,i=e.components,n=e.jsonData,s=n.chart,l=n.axis[this.axisIndex],h=e.singleseries,n=FusionCharts.get("component",["dataset",Y]).prototype;n.configure.call(this),this.yAxis=i.yAxis[this.axisIndex],r.axesPadding=5,r.allowAxisShift=ae(s.allowaxisshift,1),r.allowSelection=ae(s.allowselection,1),r.checkBoxColor=ee(s.checkboxcolor,"#2196f3"),r.axisConfigured=!0,o.linethickness=ae(t.linethickness,l.linethickness,s.linethickness,h?4:2),o.lineDashLen=ae(t.linedashlen,l.linedashlen,s.linedashlen,5),o.lineDashGap=ae(t.linedashgap,l.linedashgap,s.linedashgap,4),o.alpha=ae(t.alpha,l.linealpha,s.linealpha,nt),o.linecolor=ee(t.color,l.linecolor,l.color,s.linecolor,o.plotColor),o.legendSymbolColor=this.type===Y?o.lineColor:o.plotFillColor,i=ae(t.dashed,l.linedashed,s.linedashed),r=a.getDashStyle(o.lineDashLen,o.lineDashGap,o.linethickness),o.anchorBorderColor=ee(t.anchorbordercolor,s.anchorbordercolor,o.lineColor,o.plotColor),o.lineDashStyle=i?r:"none",n._setConfigure.call(this),!1!==e.hasLegend&&this._addLegend()},init:function(e){this.chart=this.chart,this.components={},this.conf={},this.graphics={},this.JSONData=e,this.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},legendInteractivity:function(e,t){var a,o=e.chart,r=o.components.dataset,i=this.config,n=e.visible,s=t.config,l=t.graphics,h=i.itemHiddenStyle.color,i=i.itemStyle.color,d=s.fillColor,s=s.strokeColor,c=e.axisIndex,p=!0,o=o.config.axesArr.checkBox;if(n?e.hide():e.show(),n){for(a in r)r.hasOwnProperty(a)&&r[a].visible&&r[a].axisIndex===c&&(p=!1);p&&o[c]&&o[c].checkbox.uncheck()}else o[c]&&o[c].checkbox.check();n?(l.legendItemSymbol&&l.legendItemSymbol.attr({fill:h,stroke:h}),l.legendItemText&&l.legendItemText.attr({fill:h}),l.legendIconLine&&l.legendIconLine.attr({stroke:h})):(l.legendItemSymbol&&l.legendItemSymbol.attr({fill:d,stroke:s}),l.legendItemText&&l.legendItemText.attr({fill:i}),l.legendIconLine&&l.legendIconLine.attr({stroke:d}))}},Y]),ot("waterfall2d",{standaloneInit:!0,friendlyName:"Waterfall Chart",creditLabel:!1,defaultDatasetType:"Waterfall2D",applicableDSList:{Waterfall2D:!0},singleseries:!0,hasLegend:!1,_dataSegregator:function(e){var t=[],a=[];return ye(e,function(e,o){"true"!==e.vline&&!0!==e.vline&&1!==e.vline&&"1"!==e.vline?t.push(e):a.push({index:o,data:e})}),{data:t,catData:a}}},ot.sscartesian),ot("multilevelpie",{standaloneInit:!0,friendlyName:"Multi-level Pie Chart",creditLabel:!1,defaultDatasetType:"multiLevelPie",applicableDSList:{multiLevelPie:!0},is3d:!0,hasLegend:!1,hasCanvas:!1,_createDatasets:function(){var e,t,a,o=this.components,r=this.jsonData,i=r.dataset||[],n=i.length,s=this.defaultDatasetType,l=this.applicableDSList;e=[];var h={};for(e=this.config.categories=r.category||[],r=e.length,!n&&r&&(i=e,n=r),r||this.setChartMessage(),e=o.dataset||(o.dataset=[]),o=0;o<n;o+=1)r=i[o],r.seriesname&&(r.seriesname=re(r.seriesname)),t=r.parentyaxis||Z,t=(t=t.toLowerCase()===R?ee(r.renderas,this.sDefaultDatasetType):ee(r.renderas,s))&&t.toLowerCase(),l[t]||(t=s),(a=FusionCharts.get("component",["dataset",t]))&&(void 0===h[t]?h[t]=0:h[t]++,e[0]?(t=e[0],t.JSONData=r):(t=new a,e.push(t),t.chart=this,t.index=o),t.init(i))},_spaceManager:function(){var e=this.config;this._allocateSpace(this._manageActionBarSpace&&this._manageActionBarSpace(.225*e.availableHeight)||{}),this._manageChartMenuBar(.7*e.canvasHeight)}},ot.guageBase),FusionCharts.register("component",["dataset","multiLevelPie",{init:function(e){!this.components&&(this.components={data:[]}),this.conf={},this.graphics={},this.JSONData=e,this.configure()},configure:function(){var e,t,a=this,o=a.chart,r=o.config,i=a.conf||(a.conf={}),n=i.dataLabelOptions||(i.dataLabelOptions={}),s=i.piePlotOptions,l=o.config.style,h=a.JSONData,o=o.jsonData.chart;e=i.enableAnimation=ae(o.animation,o.defaultanimation,1);var d=ae(-o.centerangle,180),p=ae(o.totalangle,360);i.animation=!!e&&{duration:1e3*ae(o.animationduration,o.moveduration,1)},i.showShadow=ae(o.showshadow,0),e=i.useHoverColor=!!ae(o.usehovercolor,1),i.hoverFillColor=$e(ee(o.hoverfillcolor,"FF5904"),ae(o.hoverfillalpha,100)),i.pierad=parseInt(o.pieradius,10),t=(t=oe(o.valuebordercolor,Q))?$e(t,ae(o.valueborderalpha,o.valuebgalpha,o.valuealpha,100)):Q,!n.style&&(n.style={fontFamily:ee(o.valuefont,l.fontFamily),fontSize:ae(o.valuefontsize,parseInt(l.fontSize,10))+"px",color:$e(ee(o.valuefontcolor,l.color),ae(o.valuefontalpha,o.valuealpha,100)),fontWeight:ae(o.valuefontbold)?"bold":"normal",fontStyle:ae(o.valuefontitalic)?"italic":"normal",backgroundColor:o.valuebgcolor?$e(o.valuebgcolor,ae(o.valuebgalpha,o.valuealpha,100)):Q,border:t||o.valuebgcolor?ae(o.valueborderthickness,1)+"px solid":Q,borderPadding:ae(o.valueborderpadding,2),borderThickness:ae(o.valueborderthickness,l.borderThickness,1),borderRadius:ae(o.valueborderradius,l.borderRadius,0),borderColor:t,borderDash:ae(o.valueborderdashed,0)?ne(ae(o.valueborderdashlen,4),ae(o.valueborderdashgap,2),ae(o.valueborderthickness,1)):"none"}),!s&&(s=i.piePlotOptions={}),s.allowPointSelect=!1,i.borderColor=$e(ee(o.plotbordercolor,o.piebordercolor,c),o.showplotborder!=F?ee(o.plotborderalpha,o.pieborderalpha,100):0),i.showTooltip=ae(o.showtooltip,1),i.borderWidth=ae(o.pieborderthickness,o.plotborderthickness,1),s.startingAngle=0,s.size="100%",i.showLabels=ae(o.showlabels,1),i.showValues=ae(o.showvalues,0),i.showValuesInTooltip=ae(o.showvaluesintooltip,o.showvalues,0),i.showPercentValues=ae(o.showpercentvalues,o.showpercentagevalues,0),i.showPercentInTooltip=ae(o.showpercentintooltip,0),i.toolTipSepChar=ee(o.tooltipsepchar,o.hovercapsepchar,ve),i.labelSepChar=ee(o.labelsepchar,i.toolTipSepChar),i.tooltext=o.plottooltext,i.alpha=ee(o.plotfillalpha,o.piefillalpha,100),i.startAngle=Re/180*(d-p/2),i.endtAngle=Re/180*(d+p/2),i.initialAngle=i.endtAngle,i.originX=ae(o.originx),i.originY=ae(o.originy),e&&(i.events={mouseOver:function(){for(var e=this.data("plotItem").selfRef,t=a.conf;e.graphics.element;)e.graphics.element.attr({fill:t.hoverFillColor}),e=e.linkedItems.parent},mouseOut:function(){for(var e=this.data("plotItem"),t=e.selfRef;t.graphics.element;)t.graphics.element.attr({fill:(t.config||e).color}),t=t.linkedItems.parent}}),r.plotBorderWidth=0,r.plotBorderWidth=0,i.maxLevel=a.addMSPieCat(h,1,a,i.startAngle,i.endtAngle),i.pieRadius=parseInt(o.pieradius,10),n.distance=0,n.placeLabelsInside=!0},removalFn:function(e,t,a){var o,r,i=this.pool||(this.pool={});o=this.chart.get(y,C);var n=o.duration,s=o.dummyObj,l=o.animObj,h=o.animType,d=function(e){(e||this).hide()};!i[a]&&(i[a]=[]),"element"===a?(r=e.attr("ringpath"),o=(r[4]+r[5])/2,t?e.animateWith(s,l,{ringpath:[r[0],r[1],r[2],r[3],o,o]},n,h,d):i[a].push(e)):t?d(e):i[a].push(e)},removeGraphics:function(e,t){var a,o,r,i=e.components&&e.components.data,n=e.graphics;if(i)for(r=i.length,a=0;a<r;a+=1)this.removeGraphics(i[a]);if(e.graphics)for(o in n)n.hasOwnProperty(o)&&this.removalFn(e.graphics[o],t,o)},removeChild:function(e,t,a){var o,r;if(e.length)for(o=0;o<e.length;o+=1)r=e[o],a?this.removalFn(r,t,a):this.removeGraphics(r,t);else for(o in e)this.removeChild(e[o],t,o)},addMSPieCat:function(e,t,a,o,r){var i,n,s,l,h,d,c,p,g,u,m,f=e.length,x=this,v=a.components.data,b=x.chart.components,w=x.conf,y=w.borderWidth,C=w.borderColor,k=b.numberFormatter,b=b.colorManager,A=0,L=w.labelSepChar,S=t,D=v.length,T=function(){x.removeChild.apply(x,arguments)},V=e.length;l=r-o;var P,I=0;for(d=0;d<f;d+=1)r=e[d],r._userValue=k.getCleanValue(r.value,!0),r._value=ae(r._userValue,1),A+=r._value;for(A=A||1,l/=A,d=f-1;0<=d;--d)r=e[d],h=l*r._value,i=re(ee(r.label,r.name)),p=null!==r._userValue?k.dataLabels(r._userValue):Q,g=k.percentValue(r._value/A*100),c=ae(r.alpha,w.alpha),m=w.showLabels?i:Q,w.showValues&&(w.showPercentValues?m+=m!==Q?L+g:g:void 0!==p&&p!==Q&&(m+=m!==Q?L+p:p)),u=w.showTooltip?re(ee(r.tooltext,r.hovertext,w.tooltext)):void 0,u===Q?(u=i,w.showValuesInTooltip&&(w.showPercentInTooltip?u+=u!==Q?L+g:g:void 0!==p&&p!==Q&&(u+=u!==Q?L+p:p))):u=$(u,[1,2,3,14],{percentValue:g,label:i,formattedValue:p},r),i=v[d],p=o+I,I+=h,i||(i=v[d]={components:{data:[]},linkedItems:{},config:{},graphics:{}}),i.graphics.element&&(P=i.config.startAngle+i.config.angleStrech),i.config={initialAngle:P||(a.conf||a.config).initialAngle,startAngle:p,angleStrech:h,level:t,displayValue:m,toolText:u,link:te(r.link),doNotSlice:!0,color:$e(r.color||b.getPlotColor(),c),borderWidth:ae(r.borderwidth,y),borderColor:ee(r.bordercolor,C),dashStyle:ae(r.valueborderdashed,0)?ne(ae(r.borderdashlen,4),ae(r.borderdashgap,2),ae(r.borderthickness,1)):"none",shadow:{opacity:.01*Ne(50<c?c*c*c*1e-4:c*c*.01)},isSingleTon:!(1<f)},i.linkedItems.parent=a,r.category?(S=Fe(S,x.addMSPieCat(r.category,t+1,i,p,h+p)),(n=i.components.data.length)>(s=r.category.length)&&T(i.components.data.splice(n-1,s))):(n=i.components.data.length)&&T(i.components.data.splice(0,n));return D>V&&T(v.splice(D-1,V)),S},draw:function(e){var t,o,r,i=this,n=i.conf||{},s=i.chart,l=s.getJobList(),h=s.config,d=s.graphics,c=i.components,p=c.data.length,u=h.dataLabelStyle;t=n.showShadow;var m=s.components.paper,f=h.textDirection,x=h.tooltip||{};o=x&&!1!==x.enabled;var v,b,w,k,A,L,S,D,p=h.canvasWidth,T=h.canvasHeight,x=ae(n.originX,h.canvasLeft+.5*p),h=ae(n.originY,h.canvasTop+.5*T),V=d.datasetGroup.trackTooltip(!0),P=s.get(y,C),I=P.duration||0,B=P.dummyObj,_=P.animObj,P=P.animType,E=n.events||{},N=function(e){var t=E.mouseOver;lt.call(this,s,e,"DataPlotRollOver"),t&&t.call(this)},O=function(e){var t=E.mouseOut;lt.call(this,s,e,"DataPlotRollOut"),t&&t.call(this)},F=function(e){lt.call(this,s,e)},M=function(){n._drawn||(n._drawn=!0,W.show(),l.labelDrawID.push(be.addJob(i.drawLabel,i,[],a.priorityList.label)),s._animCallBack())},R=i.pool||(i.pool={}),c=(c=c.removeDataArr)&&c.length,T=ae(2*n.pieRadius,Oe(p,T))/(2*n.maxLevel),W=d.datalabels||(d.datalabels=m.group("datalabels").insertAfter(V));for(c&&i.remove(),I&&W.hide(),e||(e=i,W.css(u)),p=e.components.data.length,d=0;d<p;d+=1)i.draw(e.components.data[d]);p=e.config,(r=p.level)?(c=r*T,T*=r-1,L=e.graphics,b=p.angleStrech,r=p.displayValue,w=!!p.link,v=p.color,k=p.startAngle,A=k+p.angleStrech,D=p.initialAngle,S=L.element,S||(R.element&&R.element.length?(S=L.element=R.element.shift(),S.show()):S=L.element=m.ringpath(V).mouseover(N).mouseout(O).mouseup(F),S.attr({ringpath:[x,h,c,T,D,D]})),p.plotItem=e={chart:s,link:p.link,value:b,color:v,labelText:r,graphics:{element:S},selfRef:e},p.eventArgs=m={link:p.link,label:p.displayValue,toolText:p.toolText},S.attr({"stroke-width":p.borderWidth,stroke:p.borderColor,fill:se(p.color),"stroke-dasharray":p.dashStyle,ishot:!o,cursor:w?"pointer":Z}).tooltip(p.toolText).shadow(t&&!!p.shadow).data("plotItem",e).data("eventArgs",m),void 0!==r&&r!==Z&&(t=(k+A)/2,p._textAttr||(p._textAttr={}),e=0===T&&p.isSingleTon?0:T+(c-T)/2,(o=p._textAttrs)||(o=p._textAttrs={}),o.text=r,o.fill=u.color||g,o.direction=f,o.ishot=w,o.cursor=w?"pointer":Z,o.x=x+e*Ee(t),o.y=h+e*_e(t),o["text-bound"]=[u.backgroundColor,u.borderColor,u.borderThickness,u.borderPadding,u.borderRadius,u.borderDash]),S.animateWith(B,_,{ringpath:[x,h,c,T,k,A]},I,P,!d&&M)):(n._drawn&&i.drawLabel(),i.removeChild(i.pool,!0))},drawLabel:function(e){var t,a=this.chart,o=a.config,r=a.graphics;t=this.components.data.length;var i,n,s,l,h=o.dataLabelStyle,d=a.components.paper,o=(o=o.tooltip||{},!1!==o.enabled),c=(this.conf||{}).events||{},p=function(e){var t=c.mouseOver;lt.call(this,a,e,"DataPlotRollOver"),t&&t.call(this)},g=function(e){var t=c.mouseOut;lt.call(this,a,e,"DataPlotRollOut"),t&&t.call(this)},u=function(e){lt.call(this,a,e)},m=this.pool||(this.pool={}),r=r.datalabels;for(!e&&(e=this),t=e.components.data.length,i=0;i<t;i+=1)this.drawLabel(e.components.data[i]);s=e.config,i=s.plotItem,n=s.displayValue,t=s._textAttrs,s.level?(e=e.graphics,l=e.label,void 0!==n&&n!==Z?((l=e.label)?l.attr(t).css(h):m.label&&m.label.length?(l=e.label=m.label.shift(),l.attr(t).css(h)):l=e.label=d.text(t,h,r).mouseover(p).mouseout(g).mouseup(u),i.label=l.show().data("plotItem",i).data("eventArgs",s.eventArgs),o&&l.tooltip(void 0)):l&&l.hide()):this.removeChild(this.pool,!0)}},"Pie2D"]),ot("radar",{friendlyName:"Radar Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"radar",applicableDSList:{radar:!0},hasLegend:!0,areaAlpha:50,defaultPlotShadow:0,_postSpaceManagement:function(){var e=this.components,t=this.config,a=e.legend;(e.yAxis&&e.yAxis[0]).setAxisDimention({x:t.canvasLeft+t.canvasWidth/2,y:t.canvasTop,axisLength:t.canvasHeight/2}),a.postSpaceManager()}},ot.mspolar,{radarradius:0,radarborderthickness:2,showvalues:0,plotfillalpha:50},ot.areabase),ot("dragbase",{configure:function(){var e,a,o=this.jsonData.chart;this.base.base.configure.call(this),a=this.config,a.formAction=te(o.formaction),o.submitdataasxml!==F||o.formdataformat||(o.formdataformat=t.dataFormats.CSV),a.formDataFormat=ee(o.formdataformat,t.dataFormats.XML),a.formTarget=ee(o.formtarget,"_self"),a.formMethod=ee(o.formmethod,"POST"),a.submitFormAsAjax=ae(o.submitformusingajax,1),a.restoreBtnTitle=ee(o.restorebtntitle,"Restore"),a.submitBtnTitle=ee(o.formbtntitle,"Submit"),a.showFormBtn=ae(o.showformbtn,1)&&a.formAction,a.showRestoreBtn=ae(o.showrestorebtn,1),a.formBtnTitle=ee(o.formbtntitle,"Submit"),a.formBtnBorderColor=ee(o.formbtnbordercolor,"CBCBCB"),a.formBtnBgColor=ee(o.formbtnbgcolor,c),a.btnPadding=ae(o.btnpadding,7),a.btnSpacing=ae(o.btnspacing,5),a.formBtnStyle={fontSize:a.style.outCanfontSize,fontFamily:a.style.outCanfontFamily,fontWeight:"bold"},a.formBtnLabelFill=a.style.outCancolor,o.btntextcolor&&(a.formBtnLabelFill=o.btntextcolor.replace(ce,pe)),0<=(e=ae(o.btnfontsize))&&(a.formBtnStyle.fontSize=e+"px"),a.restoreBtnWidth=ae(o.restorebtnwidth,0),a.formBtnWidth=ae(o.formbtnwidth,0),a.restoreBtnBorderColor=ee(o.restorebtnbordercolor,a.formBtnBorderColor),a.restoreBtnBgColor=ee(o.restorebtnbgcolor,a.formBtnBgColor),a.restoreBtnStyle={fontSize:a.formBtnStyle.fontSize,fontFamily:a.formBtnStyle.fontFamily,fontWeight:"bold"},a.restoreBtnLabelFill=a.formBtnLabelFill,o.toolbary||o.toolbarx?a.spaceHardCoded=!0:delete a.spaceHardCoded},_createToolBox:function(){var e,a,o,r,i,n,s=this,l=s.components.tb||(s.components.tb=new(FusionCharts.register("component",["toolbox","toolbox"]))),h=s.components,d=s.linkedItems.smartLabel,p=s.config,g=p.showRestoreBtn,u=p.formAction,m=p.restoreBtnTitle,f=p.submitBtnTitle,x=p.formBtnStyle,v=p.restoreBtnStyle,b=p.restoreBtnWidth,w=p.restoreBtnBgColor,y=p.restoreBtnBorderColor,C=p.formBtnBgColor,k=p.formBtnBorderColor,A=p.restoreBtnLabelFill,L=p.formBtnLabelFill,S=p.btnSpacing,D=p.btnPadding,T=p.formBtnWidth;e=h.chartMenuBar,i=h.actionBar,e&&e.drawn||i&&i.drawn||(e=l.init({graphics:s.graphics||(s.graphics={}),chart:s,components:s.components}),l.pId=e,e=h.toolBoxAPI=l.getAPIInstances(l.ALIGNMENT_HORIZONTAL),a=e.ComponentGroup,o=e.Toolbar,r=e.Symbol,l.getDefaultConfiguration(),e=l.getDefaultConfiguration(),n=new r(m,!0,(l.idCount=l.idCount||0,l.idCount++),l.pId),r=new r(f,!0,l.idCount++,l.pId),ot.mscartesian._createToolBox.call(s),p.spaceHardCoded&&(i=h.actionBar=h.chartMenuBar||h.actionBar),(i=h.actionBar)||(i=new o(l.idCount++,l.pId),i=h.actionBar=i),s.addConfigureOptions&&s.addConfigureOptions(),l=new a(l.idCount++,l.pId),d.useEllipsesOnOverflow(p.useEllipsesWhenOverflow),d.setStyle(v),m=d.getOriSize(m),b=Fe(m.width,b),p=m.height,d.setStyle(x),m=d.getOriSize(f),T=Fe(T,m.width),d=m.height,n.conf.width=b+D,r.conf.width=T+D,n.conf.stroke=$e(y,100),n.conf.height=p+D,r.conf.height=d+D,r.conf.fill=$e(C,100),r.conf.labelFill=$e(L,100),n.conf.fill=$e(w,100),n.conf.labelFill=$e(A,100),r.conf.stroke=$e(k,100),r.conf.btnTextStyle.fontSize=x.fontSize,n.conf.btnTextStyle.fontSize=v.fontSize,e.spacing=S,l.setConfiguaration({buttons:e,group:{fill:$e(c,0),borderThickness:0}}),g&&(l.addSymbol(n),n.attachEventHandlers({click:function(){s.restoreData()}})),u&&(l.addSymbol(r),r.attachEventHandlers({click:function(){s.submitData(t)}})),l.btnConfig.vAlign="b",i.addComponent(l),i.toolbarConfig.fill=$e("EBEBEB",0),i.toolbarConfig.borderThickness=0)},addConfigureOptions:function(){var e=this,t=e.chartMenuTools,a=e.components,o=a.actionBar,a=(a.chartMenuBar||o).componentGroups[0].symbolList[0].getListRefernce(),o=ae(e.jsonData.chart.allowaxischange,1),t=t.set,r=[{"Increase Upper Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeUpperLimits(t.max+t.tickInterval)},action:"click"}},{"Increase Lower Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeLowerLimits(t.min+t.tickInterval)},action:"click"}},{"Decrease Upper Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeUpperLimits(t.max-t.tickInterval)},action:"click"}},{"Decrease Lower Limit":{handler:function(){var t=e.components.yAxis[0].config.axisRange;e.changeLowerLimits(t.min-t.tickInterval)},action:"click"}}];o&&(t(r),a.appendAsList(r))},drawAxisUpdateUI:function(){var e,t,o,r,i,n,l,h=this,d=h.graphics,c=h.components.yAxis[0],p=c.config.axisRange,g=c.getAxisConfig("extremeLabels")||[],c=h.config,u=p.min,p=p.max,m=g.lastLabel.graphic,f=g.firstLabel.graphic,x=h.linkedItems.container,g=xe({outline:"none","-webkit-appearance":"none",filter:"alpha(opacity=0)",position:"absolute",background:"transparent",border:"1px solid #cccccc",textAlign:"right",top:0,left:0,width:50,zIndex:20,opacity:0,borderRadius:0,display:"block"},h.config.style.inCanvasStyle||{}),v=a.hashify,u={max:{label:m,value:p},min:{label:f,value:u}},b=function(e,t,a){return e===t+Z?null:a?h.changeUpperLimits(Number(e),!0):h.changeLowerLimits(Number(e),!0)},f=function(){var e,t={opacity:1,filter:"alpha(opacity=100)",color:(h.config.style.inCanvasStyle||{}).color};t.color&&(t.color=v(t.color)),this.value=this.dataValue;for(e in t)this.style[e]=t[e];this.hasFocus=this.justFocussed=!0,this.axisLabel&&this.axisLabel.hide(),h.graphics.hiddenAxisLabels||(h.graphics.hiddenAxisLabels=[]),h.graphics.hiddenAxisLabels.push(this.axisLabel)},w=function(){return function(){var e=this;e.justFocussed&&(e.justFocussed=!1,Ue||setTimeout(function(){e.select()},0))}}(),y=function(){!0!==b(this.value,this.oldValue,this.isMaxLabel)&&(this.style.opacity=0,this.style.filter="alpha(opacity=0)",this.axisLabel&&this.axisLabel.show()),de&&s.getElementsByTagName("body")[0].focus&&s.getElementsByTagName("body")[0].focus(),this.hasFocus=this.justFocussed=!1},C=function(e){var t=e.originalEvent.keyCode,o=this.value,r=this.oldValue,i=this.isMaxLabel;13===t?(t=b(o,r,i),!1===t?this.style.color="#dd0000":a.dem.fire(this,"blur",e)):27===t&&(this.value=r,a.dem.fire(this,"blur",e))};for(l in u)if(e=u[l],p=e.label,m=e.value,e.oldValue=m,t=p&&p.getBBox(),e="max"===l,d.inputElements||(d.inputElements={}),o=d.inputElements[l],t&&p){r=t.x+t.width-c.marginLeft,i=c.canvasLeft-r-(he?4:5),xe(g,{top:t.y+(he?-1:0)+"px",left:i+"px",width:r+"px"}),o||(o=d.inputElements[l]=mt("input",{type:"text",value:m,name:m||Z},x,!0),a.dem.listen(o,["focus","mouseup","blur","keyup"],[f,w,y,C]),o.setAttribute("isOverlay","true"),he?(Ce(x,"defaultprevented",t=function(e){return function(t){e.parentNode&&a.dem.fire(e,"blur",t)}}(o)),Ce(x,"destroy",function(e,t){return function(){ke(h,"defaultprevented",t),e.parentNode.removeChild(e)}}(o,t))):(Ce(x,"mousedown",t=function(e){return function(t){t.srcElement!==e&&e.hasFocus&&a.dem.fire(e,"blur",t)}}(o)),Ce(x,"destroy",function(e,t){return function(){ke(x,"mousedown",t),e.parentNode.removeChild(e)}}(o,t)))),o.dataValue=m,g.color&&(g.color=v(g.color));for(n in g)o.style[n]=g[n];o.value=m,o.oldValue=m,o.name=m||Z,o.axisLabel=p,o.isMaxLabel=e}else o&&(o.style.display="none")},changeUpperLimits:function(e){var t=this.components,a=t.yAxis[0],o=a.config.axisRange,r=o.min,i=o.max,n=this.config.yMax,o=!1,s=this.graphics.hiddenAxisLabels||[],l=s.length;if(void 0!==e&&e>n&&e!==i?o=!0:e=n>i?n:i,o){for(a.setAxisConfig({axisMaxValue:e,axisMinValue:r,showUpperLimit:!0}),a.setDataLimit(e,r),this._manageSpace(),this._postSpaceManagement(),this._drawCanvas(),this.chartMenuBar&&this._drawChartMenuBar(),this._manageCaptionPosition(),this._drawCanvas(),t.caption&&t.caption.draw(),this.drawLegend(),this.drawActionBar&&this.drawActionBar(),t=0;t<l;t++)a=s[t],a.show();this._drawAxis&&this._drawAxis(),this._drawDataset(),this.drawAxisUpdateUI()}return o},changeLowerLimits:function(e){var t,a=this.components,o=a.yAxis[0],r=o.config.axisRange,i=this.config.yMin,n=r.max,s=!1,l=this.graphics.hiddenAxisLabels||[],h=l.length,r=r.min;if(void 0!==e&&e<i&&e!==r?(t=e,s=!0):e=i<r?i:r,s){for(o.setAxisConfig({axisMaxValue:n,axisMinValue:e}),o.setDataLimit(n,t),this._manageSpace(),this._postSpaceManagement(),this._drawCanvas(),this.chartMenuBar&&this._drawChartMenuBar(),this._manageCaptionPosition(),this._drawCanvas(),a.caption&&a.caption.draw(),this.drawLegend(),this.drawActionBar&&this.drawActionBar(),e=0;e<h;e++)a=l[e],a.show();this._drawAxis&&this._drawAxis(),this._drawDataset(),this.drawAxisUpdateUI()}return s},eiMethods:{getDataWithId:function(){for(var e,t,a,o,r,i,n=this.jsVars.instanceAPI.getJSONData(),s=[[Q]],l=n.dataset,n=n.categories&&n.categories[0]&&n.categories[0].category,h=l&&l.length||0,d=0;h--;)if(t=l[h])for(s[0][h+1]=t.id||t.seriesname,o=t.id||h+1,i=(t=t.data)&&t.length||0,r=0;r<i;r+=1){if(a=r+1,!s[a]){for(e=n&&n[r+d]||{};e.vline;)d+=1,e=n[r+d]||{};e=e.label||e.name||Q,s[a]=[e]}e=s[a],a=t[r].id||a+U+o,e[h+1]=[a,Number(t[r].value)]}return s},getData:function(e){var a,o,r=this.jsVars.instanceAPI,i=r.getJSONData(),n=[[Q]],s=i.dataset,l=i.categories&&i.categories[0]&&i.categories[0].category,h=s&&s.length||0,d=0;if(e)n=/^json$/gi.test(e)?i:t.core.transcodeData.call(r.chartInstance,i,"json",e);else for(;h--;)if(e=s[h])for(n[0][h+1]=s[h].seriesname,r=(e=s[h]&&s[h].data)&&e.length||0,i=0;i<r;i+=1){if(o=i+1,!n[o]){for(a=l&&l[i+d]||{};a.vline;)d+=1,a=l[i+d]||{};a=a.label||a.name||Q,n[o]=[a]}o=n[o],o[h+1]=Number(e[i].value)}return n},setUpperLimit:function(){return this.apiInstance.changeUpperLimits.apply(this.apiInstance,arguments)},setLowerLimit:function(){return this.apiInstance.changeLowerLimits.apply(this.apiInstance,arguments)},getLowerLimit:function(){var e=this.apiInstance.components;if(e=e.yAxis&&e.yAxis[0])return e.config.axisRange.min},getUpperLimit:function(){var e=this.apiInstance.components;if(e=e.yAxis&&e.yAxis[0])return e.config.axisRange.max}},restoreData:function(){var e,t,o=this.components,r=o.yAxis[0],i=o.dataset,o=o.legend,n=i.length,s=this.graphics.hiddenAxisLabels||[];for(t=0;t<n;t++)e=i[t],e.configure();for(r.setAxisConfig({axisMaxValue:void 0,axisMinValue:void 0}),this._setAxisLimits(),n=s.length,t=0;t<n;t++)r=s[t],r.show();this._drawAxis(),this._drawDataset(),o._drawPointLegendItem(),this.drawAxisUpdateUI(),a.raiseEvent("dataRestored",{},this.chartInstance,[this.chartInstance.id])},submitData:function(e){var t,o,r,n,s,l=this.chartInstance,h=new e.ajax,d=this.config,c=e.dataFormats.JSON,p=e.dataFormats.CSV,g=e.dataFormats.XML,u=d.formAction,m=this.chartInstance,f=d.submitFormAsAjax;d.formDataFormat===c?(t=c,o=JSON.stringify(this.getJSONData())):this.formDataFormat===p?(t=p,void 0===(o=l.getCSVString&&l.getCSVString())&&(o=e.core.transcodeData(this.getJSONData(),c,p))):(t=g,o=e.core.transcodeData(this.getJSONData(),c,g)),e.raiseEvent("beforeDataSubmit",{data:o},m,void 0,function(){f?(h.onError=function(e,t,r,i){a.raiseEvent("dataSubmitError",{xhrObject:t.xhr,url:i,statusText:e,httpStatus:t.xhr&&t.xhr.status?t.xhr.status:-1,data:o},m,[m.id,e,t.xhr&&t.xhr.status])},h.onSuccess=function(e,t,r,i){a.raiseEvent("dataSubmitted",{xhrObject:h,response:e,url:i,data:o},m,[m.id,e])},r={},r["str"+t.toUpperCase()]=o,h.open&&h.abort(),h.post(u,r)):(n=i.document.createElement("span"),
n.innerHTML='<form style="display:none" action="'+u+'" method="'+d.formMethod+'" target="'+d.formTarget+'"> <input type="hidden" name="strXML" value="'+ht(o)+'"><input type="hidden" name="dataFormat" value="'+t.toUpperCase()+'" /></form>',s=n.removeChild(n.firstChild),i.document.body.appendChild(s),s.submit&&s.submit(),s.parentNode.removeChild(s),n=s=null)},function(){e.raiseEvent("dataSubmitCancelled",{data:o},m)})},getJSONData:function(){var e,t,a=this.defaultDatasetType&&this.defaultDatasetType.toLowerCase(),o=this.components,r=o["datasetGroup_"+a],a=o.dataset,i=this.jsonData.dataset,n=this.jsonData,s=a.length,o=[];if(r)o=r.getJSONData();else for(r=0;r<s;r++)e=a[r],t=e.getJSONData(),e=i[r]||{},delete e.data,o.push(ie(e,t));return a=ie({},n),a.dataset=o,a},_setDataLimits:function(){var e,t,a,o=this.components.dataset,r=this.config,i=-1/0,n=1/0;for(t=o.length,a=0;a<t;a++)e=o[a],e=e.getDataLimits(),i=Fe(i,e.max),n=Oe(n,e.min);r.yMax=i,r.yMin=n}},ot.mscartesian),ot("dragnode",{friendlyName:"Dragable Node Chart",standaloneInit:!0,hasLegend:!0,numVDivLines:0,numDivLines:0,showLimits:0,setadaptivexmin:1,showdivlinevalues:0,showzeroplane:0,showyaxisvalues:0,dontShowLegendByDefault:!0,creditLabel:!1,defaultDatasetType:"dragnode",configure:function(){var e,a=this.jsonData.chart;ot.dragbase.configure.call(this),e=this.config,e.formAction=te(a.formaction),a.submitdataasxml!==F||a.formdataformat||(a.formdataformat=t.dataFormats.CSV),e.formDataFormat=ee(a.formdataformat,t.dataFormats.XML),e.formTarget=ee(a.formtarget,"_self"),e.formMethod=ee(a.formmethod,"POST"),e.submitFormAsAjax=ae(a.submitformusingajax,1),e.viewMode=ae(a.viewmode,0)},_createDatasets:function(){var e,t,a,o,r,i,n,s,l,h,d=this.config,c=this.components,p=this.jsonData,g=p.dataset,u=p.connectors,m=p.labels&&p.labels.label||[],f=g&&g.length,x=u&&u.length,v=m&&m.length||[],b=c.legend;s=0;var w,y=d.datasetMap||(d.datasetMap={connectors:[],dragnode:[],labels:[]}),C={connectors:[],dragnode:[],labels:[]},k={};if(g){for(this.config.categories=p.categories&&p.categories[0].category,t=c.dataset=[],e=FusionCharts.register("component",["datasetGroup","dragnode"]),p=c.datasetGroup_dragnode,e&&!p&&(p=c.datasetGroup_dragnode=new e,p.chart=this,p.init()),r=FusionCharts.get("component",["dataset","Dragnode"]),i=FusionCharts.get("component",["dataset","Connector"]),n=FusionCharts.get("component",["dataset","DragableLabels"]),e=0;e<f;e++)c="dragnode",a=y[c],w=a[0],void 0===k[c]?k[c]=0:k[c]++,w?(o=g[e],l=w.components&&w.components.data||[],C[c].push(w),t.push(w),l=l.length,h=o&&o.data&&o.data.length||0,l>h&&w.removeData(h-1,l-h),w.JSONData=o,w.configure(),a.shift()):(o=g[e],a=new r,a.chart=this,C[c].push(a),t.push(a),a.chart=this,a.index=e,a.init(o),p.addDataset(a,e)),s++;for(e=0;e<x;e++)c="connectors",f=u[e],a=y[c],w=a[0],void 0===k[c]?k[c]=0:k[c]++,w?(l=w.components&&w.components.data||[],l=l.length,h=f.connector&&f.connector.length||0,C[c].push(w),t.push(w),l>h&&w.removeData(h-1,l-h),w.JSONData=f,w.configure(),a.shift()):(a=new i,a.chart=this,a.index=e,C[c].push(a),t.push(a),a.init(f),p.addConnectors(a,e)),s++;c="labels",a=y[c],w=a[0],void 0===k[c]?k[c]=0:k[c]++,w?(l=w.JSONData,l=l.length,h=v,C[c].push(w),t.push(w),l>h&&w.removeData(h-1,l-h),w.JSONData=m,w.configure(),a.shift()):(s=new n,s.chart=this,C[c].push(s),t.push(s),s.init(m),p.addLabels(s,0)),this.config._datasetUpdated=!0;for(g in y)if(a=y[g],m=a.length,s=k[g]||-1,m)for(u=0;u<m;u++)"dragnode"===g?(p.removeNodeDataset(s),p._clearConnectors(),b.removeItem(a[u].legendItemId)):"connectors"===g?p.removeConnectorSet(s):p.removeLabelSet(s),Le.call(a[u]),s+=1;d.datasetMap=C}else this.setChartMessage()},addConfigureOptions:function(){var e=this.chartMenuTools,t=this.components,a=t.actionBar,o=this.components["datasetGroup_"+this.defaultDatasetType],t=(t.chartMenuBar||a).componentGroups[0].symbolList[0].getListRefernce(),e=e.set,a=this.config.viewMode,r=[{"Add Node":{handler:function(){o.showNodeAddUI()},action:"click"}},{"Add Connector":{handler:function(){o.showConnectorAddUI(o.chart,{})},action:"click"}},{"Add Label":{handler:function(){o.showLabelUpdateUI(o.chart,{})},action:"click"}}];e(r),!a&&t.appendAsList(r)},_redrawDragNode:function(e,t){var o=this.chart;this.draw(),a.raiseEvent("chartUpdated",ie({sourceEvent:t},e),o.chartInstance,[o.chartInstance.id])},addNode:function(e){var a,o,r,i,n=this.components.dataset,s=e.datasetId,l=n.length;for(i=0;i<l;i++)if(a=n[i]||{},r=a.config&&a.config.id,void 0!==r&&(r=r.toString()),r===s){o=!0;break}a&&o&&(n=a.groupManager,s=a.components.data,e.add=!0,l=s.length,s={index:l,dataIndex:l,link:e.link,y:e.y,x:e.x,shape:e.shape,width:e.width,height:e.height,radius:e.radius,sides:e.sides,label:e.name,toolText:e.tooltext,id:e.id,datasetIndex:a.index,datasetName:a.JSONData.seriesname,sourceType:"dataplot"},a._setConfigure(l,e),this._redrawDragNode.call(n,s,"nodeAdded"),t.raiseEvent("nodeAdded",s,this.chartInstance))},updateNode:function(e){var a,o,r,i,n,s,l,h=this.components["datasetGroup_"+this.defaultDatasetType],d=h.datasets,c=d.length;for(e.update=!0,n=0;n<c;n++)for(r=d[n].dataset,s=r.components.data||[],a=s.length,l=0;l<a;l++)if(i=s[l],i.config.id===e.id){o=!0;break}r&&o&&(d={index:l,dataIndex:l,link:e.link,y:e.y,x:e.x,shape:e.shape,width:e.width,height:e.height,radius:e.radius,sides:e.sides,label:e.name,toolText:e.tooltext,id:e.id,datasetIndex:r.index,datasetName:r.JSONData.seriesname,sourceType:"dataplot"},r._setConfigure(l,e),this._redrawDragNode.call(h,d,"nodeupdated"),t.raiseEvent("nodeupdated",d,this.chartInstance))},deleteNode:function(e){var o,r,i,n,s,l,h,d,c=this.components["datasetGroup_"+this.defaultDatasetType].nodes,p=c[e],g=function(e){for(var t in e)e[t].remove()};if(p){for(o=p.dataset,r=o.components.data,i=p.config.startConnectors,n=p.config.endConnectors,d=r.length,p=0;p<d;p++)if(l=r[p],l.config.id===e){s=!0;break}if(!0===s){r=l.graphics,g(r);for(h in i)s=i[h]||{},r=s.graphics,g(r),delete s.graphics,s.removed=!0;for(h in n)s=n[h]||{},r=s.graphics,g(r),delete s.graphics,s.removed=!0;delete c[e],l.removed=!0,e=l.config||{},o={index:p,dataIndex:p,link:e.link,y:e.y,x:e.x,shape:e.shape,width:e.width,height:e.height,radius:e.radius,sides:e.sides,label:e.displayValue,toolText:e.toolText,id:e.id,datasetIndex:p,datasetName:o.JSONData.seriesname,sourceType:"dataplot"},a.raiseEvent("chartUpdated",ie({sourceEvent:"nodedeleted"},o),this.chartInstance,[this.chartInstance.id]),t.raiseEvent("nodedeleted",o,this.chartInstance)}}},addConnector:function(e){var a=this.components["datasetGroup_"+this.defaultDatasetType],o=a.connectorSet[0].connectors,r=o.components.data.length;e.add=!0,o._setConfigure(r,e),e={arrowAtEnd:!!e.arrowAtEnd,arrowAtStart:!!e.arrowAtStart,fromNodeId:e.from,id:e.id,label:e.label,link:e.connectorLink,sourceType:"connector",toNodeId:e.to},this._redrawDragNode.call(a,e,"connectoradded"),t.raiseEvent("connectoradded",e,this.chartInstance)},editConnector:function(e){var a,o,r,i,n,s,l,h,d=this.components["datasetGroup_"+this.defaultDatasetType],c=e.from,p=e.to,g=d.connectorSet,u=g.length;for(a=0;a<u;a++)for(r=(h=g[a].connectors)&&h.components.data||[],o=r.length,s=0;s<o;s++)if(i=r[s],n=i.config,i=n.from,n=n.to,i===c&&n===p){l=!0;break}e.update=!0,l&&(h._setConfigure(s,e),e={arrowAtEnd:!!e.arrowatend,arrowAtStart:!!e.arrowatstart,fromNodeId:e.from,id:e.id,label:e.label,link:e.link,sourceType:"connector",toNodeId:e.to},this._redrawDragNode.call(d,e,"connectorupdated"),t.raiseEvent("connectorupdated",e,this.chartInstance))},deleteConnector:function(e){var o=e.from;e=e.to;var r,i,n,s,l,h=this.components["datasetGroup_"+this.defaultDatasetType].connectorSet,d=!1,c=h.length;for(r=0;r<c;r++)for(i=h[r].connectors,s=i.components.data,l=s.length,i=0;i<l;i++)if(n=s[i],n.config.from===o&&n.config.to===e){d=!0;break}if(d){o=n.config||{},o={arrowAtEnd:o.arrowAtEnd,arrowAtStart:o.arrowAtStart,fromNodeId:o.from,id:o.id,label:o.label,link:o.connectorLink,sourceType:"connector",toNodeId:o.to},e=n.graphics;for(var p in e)e[p].remove();delete n.graphics,n.removed=!0,a.raiseEvent("chartUpdated",ie({sourceEvent:"connectordeleted"},o),this.chartInstance,[this.chartInstance.id]),t.raiseEvent("connectordeleted",o,this.chartInstance)}},addLabel:function(e){var a=this.components["datasetGroup_"+this.defaultDatasetType],o=a.labelSet,r=FusionCharts.get("component",["dataset","DragableLabels"]);e.add=!0,o.length?(o=a.labelSet[0].labels,r=o.components.data,r=r.length,o._setConfigure(r,e)):(o=new r,o.chart=this,o.init([e]),a.addLabels(o,0)),o={text:e.text,x:e.x,y:e.y,allowdrag:e.allowdrag,sourceType:"labelnode",link:e.link},this._redrawDragNode.call(a,o,"labeladded"),t.raiseEvent("labeladded",o,this.chartInstance),e.add=!0},deleteLabel:function(e){e=this.components["datasetGroup_"+this.defaultDatasetType].labelSet[0].labels.components.data[e];var o,r;(o=e.graphics.element)&&(r=o.data("eventArgs"),o.remove(),delete e.graphics),a.raiseEvent("chartUpdated",ie({sourceEvent:"labeldeleted"},r),this.chartInstance,[this.chartInstance.id]),t.raiseEvent("labeldeleted",r,this.chartInstance),e.removed=!0},restoreData:function(){var e,t,o,r,i=this.components["datasetGroup_"+this.defaultDatasetType],n=i.datasets,s=this.components.legend,l=i.connectorSet,h=i.labelSet,d=function(e){var t,a;for(t=0;t<e.length;t++)if(o=e[t],delete o.removed,o.config.add)for(a in r=e[t].graphics)r[a].remove()};for(e=0;e<n.length;e++)t=n[e].dataset,i=t.components.data,d(i),t.drawn=!1,t.configure();for(e=0;e<l.length;e++)t=l[e].connectors,i=t.components.data,d(i),t.drawn=!1,t.configure();h.length&&(n=h[0].labels,i=n.components.data,d(i),n.configure()),this._setAxisLimits(),this._drawAxis(),this._drawDataset(),s._drawPointLegendItem(),a.raiseEvent("dataRestored",{},this.chartInstance,[this.chartInstance.id])},getJSONData:function(){var e,t=this.defaultDatasetType&&this.defaultDatasetType.toLowerCase(),a=this.components,o=a["datasetGroup_"+t],t=a.dataset,r=this.jsonData,i=t.length,a=[];if(o)a=o.getJSONData();else for(o=0;o<i;o++)e=t[o],e=e.getJSONData(),a.push(e);return t=ie({},r),t.dataset=a.dataset,t.connectors=a.connectors,t.labels=a.labels,t},_setCategories:function(){var e,t,a=this.jsonData,o=this.components.xAxis,a=a.categories&&a.categories[0].category||[],r=a.length,i=[];for(e=0;e<r;e++)t=a[e]||{},void 0!==t.x&&i.push(t);o&&o[0].setCategory(i)},_drawDataset:function(){var e=this.components["datasetGroup_"+this.defaultDatasetType];e&&e.draw()},_setAxisLimits:function(){var e,t,a,o,r,i=this.components,n=this.jsonData,n=n.categories&&n.categories[0].category||[],s=i.dataset,l=i.yAxis,i=i.xAxis,h=s.length,d=-1/0,c=1/0,p=1/0,g=-1/0,u={},m=[],f=function(e){o=ee(e.xMax,-1/0),r=ee(e.xMin,1/0),d=Fe(d,e.max),c=Oe(c,e.min),g=Fe(g,o),p=Oe(p,r)};for(a=0;a<h;a++)t=s[a],(e=t.groupManager)?u[t.type]=e:m.push(t);for(e in u)s=u[e].getDataLimits(),f(s);for(h=m.length,a=0;a<h;a++)s=m[a].getDataLimits(),f(s);if(-1/0===d&&(d=0),1/0===c&&(c=0),this.config.yMax=d,this.config.yMin=c,l[0].setAxisConfig({isPercent:this.isStacked?this.config.stack100Percent:0}),l[0].setDataLimit(d,c),-1/0!==g||1/0!==p){for(a=0,h=n.length;a<h;a++)e=n[a],(e=e.x)&&(e<p&&(p=e),e>g&&(g=e));i[0].setDataLimit(g,p)}}},ot.dragbase),FusionCharts.register("component",["datasetGroup","DragNode",{init:function(){this.connectorSet=[],this.nodes={},this.datasets=[],this.components=[],this.graphics={},this.labelSet=[]},addDataset:function(e,t){var a=this.datasets[t];e.groupManager=this,e.datasetIndex=t,a||(this.datasets[t]={dataset:e})},addLabels:function(e,t){var a=this.labelSet[t];e.groupManager=this,a||(this.labelSet[t]={labels:e})},addConnectors:function(e,t){var a=this.connectorSet[t];e.groupManager=this,a||(this.connectorSet[t]={connectors:e})},showNodeAddUI:function(){var e,t,a,o=this.chart,r=o.components.dataset,i=Z;for(a=0;a<r.length;a++)t=r[a]||{},e=t.config,"dragnode"===(t=t.plotType)&&(i+='<option value="'+e.id+'">'+(e.name!==Q&&void 0!==e.name&&e.name+it+" "||Q)+e.id+"</option>");this.showNodeUpdateUI(o,{dataset:{innerHTML:i}})},showConnectorAddUI:function(){var e,t,a=this.chart,o=this.nodes,r=Z;for(t in o)e=o[t],e=e.config,e=e.id,r+='<option value="'+e+'">'+e+"</option>";this.showConnectorUpdateUI(a,{fromid:{innerHTML:r},toid:{innerHTML:r}})},draw:function(){var e,t,a,o=this.datasets,r=this.connectorSet,i=this.labelSet;for(this.updateUIvisuals(),e=0,a=o.length;e<a;e++)t=o[e].dataset,t.draw();for(e=0,a=r.length;e<a;e++)o=r[e].connectors,o.draw();for(e=0,a=i.length;e<a;e++)r=i[e].labels,r.draw();this.drawn=!0},getJSONData:function(){var e,t,a,o=this.datasets,r=this.connectorSet,i=this.labelSet,n={};for(n.dataset=[],n.connectors=[],n.labels=[],e=0,t=o.length;e<t;e++)a=o[e]&&o[e].dataset,n.dataset[e]||(n.dataset[e]=ie({},a.JSONData)),n.dataset[e].data=a.getJSONData();for(e=0,t=r.length;e<t;e++)a=r[e]&&r[e].connectors,n.connectors[e]||(n.connectors[e]=ie({},a.JSONData)),n.connectors[e].connector=a.getJSONData();for(e=0,t=i.length;e<t;e++)a=i[e]&&i[e].labels,n.labels[e]||(n.labels[e]={label:[]}),n.labels[e].label=a.getJSONData();return n},clearLongPress:function(){this.data("move",!1),clearTimeout(this._longpressactive),delete this._longpressactive},createHtmlDialog:function(e,t,a,o,r,i,n){var s=e.components.paper,l=e.config.style.inCanvasStyle||{},h=e.config.width,d=e.config.height,p=e.get(y,C).transposeAnimDuration,u={color:ge(l.color),textAlign:"center",paddingTop:"1px",border:"1px solid #cccccc",borderRadius:"4px",cursor:"pointer",_cursor:"hand",backgroundColor:pe+c,zIndex:21,"-webkit-border-radius":"4px"},m=n;return m?p?m.animate({width:h,height:d},p,"normal"):m.attr({width:h,height:d}):m=s.html("div",{fill:"transparent",width:h,height:d},{fontSize:"10px",lineHeight:"15px",fontFamily:l.fontFamily},e.linkedItems.container),m.veil?p?m.veil.animate({width:h,height:d},p,"normal"):m.veil.attr({width:h,height:d}):m.veil=s.html("div",{fill:g,width:h,height:d,opacity:.3},void 0,m),e={x:(h-t)/2,y:(d-a)/2,fill:"efefef",strokeWidth:1,stroke:g,width:t,height:a},m.dialog?p?m.dialog.animate({x:e.x,y:e.y,width:e.width,height:e.height},p,"normal"):m.dialog.attr(e):m.dialog=s.html("div",e,{borderRadius:"5px",boxShadow:"1px 1px 3px #000000","-webkit-border-radius":"5px","-webkit-box-shadow":"1px 1px 3px #000000",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color="#000000")'},m),e={x:t-70-5,y:a-23-5,width:65,height:17,text:"Submit",tabIndex:1},m.ok?p?m.ok.animate({x:e.x,y:e.y,width:e.width,height:e.height},p,"normal"):m.ok.attr(e):m.ok=s.html("div",e,u,m.dialog).on("click",o),o={x:t-140-5,y:a-23-5,width:65,height:17,text:"Cancel",tabIndex:2},m.cancel?p?m.cancel.animate({x:o.x,y:o.y,width:o.width,height:o.height},p,"normal"):m.cancel.attr(o):m.cancel=s.html("div",o,u,m.dialog).on("click",r),t={x:t-210-5,y:a-23-5,width:65,height:17,text:"Delete",tabIndex:3},m.remove?p?m.remove.animate({x:t.x,y:t.y,width:t.width,height:t.height},p,"normal"):m.remove.attr(t):m.remove=s.html("div",t,u,m.dialog).on("click",i),m.handleKeyPress||(m.handleKeyPress=function(e){13===e.keyCode?m.ok.trigger(Ue?"touchStart":"click",e):27===e.keyCode&&m.cancel.trigger(Ue?"touchStart":"click",e)}),m},updateUIvisuals:function(){var e=this.graphics.cacheConnectorUpdateUI,t=this.chart,a=this.graphics.cacheLabelUpdateUI,o=this.graphics.cacheLabelDeleteUI,r=this.graphics.cacheUpdateUI;e&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,e),r&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,r),a&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,a),o&&this.createHtmlDialog(t,350,215,void 0,void 0,void 0,o)},showConnectorUpdateUI:function(e,t,a){var o,r,i,n,s=e.components.paper,l=this.cacheConnectorUpdateUI,h={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:(e.config.style.inCanvasStyle||{}).fontFamily,padding:"2px"},d={textAlign:"right"},c=l&&l.fields,p=l&&l.labels,g=function(){var t=l&&l.fields,t={from:t.fromid.val(),to:t.toid.val(),id:t.id.val()};e.deleteConnector(t),l.hide()};l?(l.attr({width:e.config.width,height:e.config.height}),l.veil.attr({width:e.config.width,height:e.config.height}),l.dialog.attr({x:(e.config.width-315)/2,y:(e.config.height-215)/2,width:315,height:215})):(l=this.graphics.cacheConnectorUpdateUI=this.createHtmlDialog(e,315,215,function(){var t,o=l&&l.fields;o&&(t={from:o.fromid.val(),to:o.toid.val(),id:o.id.val(),label:o.label.val(),color:o.color.val(),alpha:o.alpha.val(),link:o.url.val(),tooltext:o.tooltext.val(),strength:o.strength.val(),arrowatstart:o.arratstart.val(),arrowatend:o.arratend.val(),dashed:o.dashed.val(),dashlen:o.dashlen.val(),dashgap:o.dashgap.val()},t.from?t.to?t.from!=t.to?(a?e.editConnector(t):e.addConnector(t),l.enableFields(),l.hide(),l.clearFields()):(l.error.attr({text:"Connector cannot start and end at the same node!"}),o.fromid.focus()):(l.error.attr({text:"Please select a valid connector end."}),o.toid.focus()):(l.error.attr({text:"Please select a valid connector start."}),o.fromid.focus()))},function(){l.error.attr({text:Z}),l.enableFields(),l.hide()},g),n=l.dialog,p=l.labels={},c=l.fields={}),l.config=t,l.enableFields||(l.enableFields=function(){for(var e in t)t[e]&&t[e].disabled&&c[e]&&c[e].element.removeAttribute("disabled")}),l.clearFields||(l.clearFields=function(){var e,t=l.fields;for(e in t)t[e].element.disabled||(t[e].element.value=Z)}),ye(this.connectorUpdateUIDefinition,function(e){var a=e.key,g=t[a]||{};p[a]||(p[a]=s.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},d,n)),e.noInput||((r=c[a])||(r=c[a]=s.html(e.inputType||"input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50,name:a||Z},h),"select"!==e.inputType&&r.attr({type:e.type||"text"}).on("keyup",l.handleKeyPress),r.add(p[a])),(o=ee(g.innerHTML,e.innerHTML))&&r.attr({innerHTML:o}),void 0!==(i=ee(g.val,e.val))&&r.val(i),g.disabled&&r.attr({disabled:"disabled"}))}),l.checkDash=function(){var e=c.dashed&&c.dashed.val()?"show":"hide";p.dashgap&&p.dashgap[e](),c.dashgap&&c.dashgap[e](),p.dashlen&&p.dashlen[e](),c.dashlen&&c.dashlen[e]()},l.checkDash(),c.dashed.on("click",l.checkDash),l.error||(l.error=s.html("span",{color:"ff0000",x:10,y:170},void 0,n)),l.remove[a?"show":"hide"](),e.animation?l.fadeIn("fast"):l.show()},labelUpdateUIDefinition:[{key:"label",text:"Label*",x:10,y:15,inputWidth:235},{key:"size",text:"Size",x:10,y:40},{key:"padding",text:"Padding",x:10,y:65},{key:"x",text:"Position",x:120,y:65,labelWidth:70,inputWidth:25},{key:"y",text:",",x:225,y:65,labelWidth:10,inputWidth:25},{key:"xy",text:"(x, y)",x:260,y:65,noInput:!0},{key:"allowdrag",text:"Allow Drag",x:120,y:40,inputType:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:70,val:1},{key:"color",text:"Color",x:10,y:90},{key:"alpha",text:"Alpha",x:145,y:90,inputWidth:30,val:nt},{key:"bordercolor",text:"Border Color",x:10,y:125,labelWidth:100},{key:"bgcolor",text:"Background Color",x:10,y:150,labelWidth:100}],showLabelUpdateUI:function(e,t){var a,o,r,i=e.components.paper,n=this.graphics.cacheLabelUpdateUI,s={border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",fontFamily:(e.config.style.inCanvasStyle||{}).fontFamily,padding:"2px"},l={textAlign:"right"},h=n&&n.fields,d=n&&n.labels;n||(n=this.graphics.cacheLabelUpdateUI=this.createHtmlDialog(e,315,205,function(){var t,a=n&&n.fields;a&&(t={text:a.label.val(),x:a.x.val(),y:a.y.val(),color:a.color.val(),alpha:a.alpha.val(),bgcolor:a.bgcolor.val(),bordercolor:a.bordercolor.val(),fontsize:a.size.val(),allowdrag:a.allowdrag.val(),padding:a.padding.val()},t.text?(e.addLabel&&e.addLabel(t),n.hide()):(n.error.attr({text:"Label cannot be blank."}),a.label.focus()))},function(){n.error.attr({text:Z}),n.hide()}),r=n.dialog,d=n.labels={},h=n.fields={}),ye(this.labelUpdateUIDefinition,function(e){var c=e.key;d[c]||(d[c]=i.html("label",{x:e.x,y:e.y,width:e.labelWidth||45,text:e.text},l,r)),e.noInput||((a=h[c])||(a=h[c]=i.html("input",{y:-2+(e.inputPaddingTop||0),x:e.labelWidth&&e.labelWidth+5||50,width:e.inputWidth||50,type:e.inputType||"text",name:c||Z},s,d[c]).on("keyup",n.handleKeyPress)),void 0!==(o=ee(t[c],e.val))&&a.val(o))}),n.error||(n.error=i.html("span",{color:"ff0000",x:10,y:180},void 0,r)),e.animation?n.fadeIn("fast"):n.show(),n.fields.label.focus()},showLabelDeleteUI:function(e){var t=this.chart,a=t.get(y,C).duration,o=t.components.paper,r=this.graphics.cacheLabelDeleteUI;r||(r=this.graphics.cacheLabelDeleteUI=this.createHtmlDialog(t,250,100,void 0,function(){r.hide()},function(){t.deleteLabel(e.config.index),r.hide()}),r.message=o.html("span",{x:10,y:10,width:230,height:80}).add(r.dialog),r.ok.hide(),r.remove.translate(175).show()),r.message.attr({text:'Would you really like to delete the label: "'+e.config.text+'"?'}),a?r.fadeIn("fast"):r.show()},connectorUpdateUIDefinition:[{key:"fromid",text:"Connect From",inputType:"select",x:10,y:15,labelWidth:80,inputWidth:100},{key:"toid",text:"Connect To",inputType:"select",x:10,y:40,labelWidth:80,inputWidth:100},{key:"arratstart",text:"Arrow At Start",x:200,y:15,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"arratend",text:"Arrow At End",x:200,y:40,type:"checkbox",inputPaddingTop:3,labelWidth:80,inputWidth:15},{key:"label",text:"Label",x:10,y:75,labelWidth:40,inputWidth:120},{key:"id",text:"Node ID",x:190,y:75,inputWidth:55},{key:"color",text:"Color",x:10,y:100,labelWidth:40,inputWidth:35},{key:"alpha",text:"Alpha",x:110,y:100,inputWidth:25,labelWidth:35},{key:"strength",text:"Strength",x:190,y:100,inputWidth:55,val:"0.1"},{key:"url",text:"Link",x:10,y:125,labelWidth:40,inputWidth:120},{key:"tooltext",text:"Tooltip",x:190,y:125,labelWidth:40,inputWidth:60},{key:"dashed",text:"Dashed",x:10,y:150,type:"checkbox",inputPaddingTop:3,inputWidth:15,labelWidth:40},{key:"dashgap",text:"Dash Gap",x:85,y:150,labelWidth:60,inputWidth:25},{key:"dashlen",text:"Dash Length",x:190,y:150,labelWidth:70,inputWidth:30}],nodeUpdateUIDefinition:[{key:"id",text:"Id",inputWidth:60,x:10,y:15},{key:"dataset",text:"dataset",inputType:"select",inputWidth:110,innerHTML:void 0,x:170,y:15},{key:"x",text:"Value",x:10,y:40,inputWidth:21},{key:"y",text:",",x:88,y:40,inputWidth:21,labelWidth:5},{text:"(x, y)",x:125,y:40,labelWidth:33,noInput:!0},{key:"tooltip",text:"Tooltip",inputWidth:105,x:170,y:40},{key:"label",text:"Label",inputWidth:92,x:10,y:65},{key:"labelalign",text:"Align",labelWidth:70,inputWidth:110,inputType:"select",innerHTML:'<option></option><option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:145,y:63},{key:"color",text:"Color",x:10,y:90,inputWidth:60},{key:"colorOut",innerHTML:"&nbsp;",x:85,y:90,inputWidth:15,inputType:"span"},{key:"alpha",text:"Alpha",x:170,y:90,inputWidth:20},{key:"draggable",text:"Allow Drag",value:!0,inputWidth:20,x:250,y:90,labelWidth:58,inputPaddingTop:3,type:"checkbox"},{key:"shape",text:"Shape",inputType:"select",inputWidth:97,innerHTML:'<option value="rect">Rectangle</option><option value="circ">Circle</option><option value="poly">Polygon</option>',x:10,y:115},{key:"rectHeight",text:"Height",x:170,y:115,inputWidth:20},{key:"rectWidth",text:"Width",x:255,y:115,inputWidth:20},{key:"circPolyRadius",text:"Radius",x:170,y:115,inputWidth:20},{key:"polySides",text:"Sides",x:255,y:115,inputWidth:20},{key:"link",text:"Link",x:10,y:140,inputWidth:92},{key:"image",text:"Image",type:"checkbox",inputPaddingTop:4,inputWidth:20,x:10,y:170},{key:"imgUrl",text:"URL",inputWidth:105,x:170,y:170},{key:"imgWidth",text:"Width",inputWidth:20,x:10,y:195},{key:"imgHeight",text:"Height",inputWidth:20,x:82,y:195},{key:"imgAlign",text:"Align",inputType:"select",inputWidth:75,innerHTML:'<option value="top">Top</option><option value="middle">Middle</option><option value="bottom">Bottom</option>',x:170,y:195}],showNodeUpdateUI:function(){var e=function(){for(var e,t=this.graphics.cacheUpdateUI,a=t.fields.shape,o=["rectWidth","rectHeight","circPolyRadius","polySides"],r=o.length;r--;)e=o[r],/rect|poly|circ/gi.test(e)&&(t.labels[e].hide(),t.fields[e].hide()),new RegExp(ee(a.val(),"rect"),"ig").test(e)&&(t.labels[e].show(),t.fields[e].show())},t=function(){var e=this.graphics.cacheUpdateUI.fields,t=gt(e.color.val());t&&e.colorOut.css({background:pt(t)})},o=function(e,t){var o,r,i,n=this.graphics.cacheUpdateUI,s=e.config.height,l=n.fields.image.val(),h=t?300:0,d=["imgWidth","imgHeight","imgAlign","imgUrl"];for(o=l?250:215,n.ok.hide(),n.cancel.hide(),n.remove.hide(),n.error.hide(),r=d.length;!l&&r--;)i=d[r],n.labels[i].hide(),n.fields[i].hide();a.danimate.animate(n.dialog.element,{top:(s-o)/2,height:o},h,"linear",function(){for(r=d.length;r--&&l;)i=d[r],n.labels[i].show(),n.fields[i].show();n.ok.attr({y:o-23-5}).show(),n.cancel.attr({y:o-23-5}).show(),n.remove.attr({y:o-23-5}),n.error.attr({y:o-23-5+4}).show(),n.edit?n.remove.show():n.remove.hide()})};return function(a,r,i){var n,s=this,l=s.graphics,h=l.cacheUpdateUI,d=s.nodes,c=a.config,p=c.animation,g=a.components.paper,u={width:"80px",border:"1px solid #cccccc",fontSize:"10px",lineHeight:"15px",padding:"2px",fontFamily:(c.style.inCanvasStyle||{}).fontFamily},m={textAlign:"right"},f=h&&h.fields,x=h&&h.labels,c=function(){var e,t,a,o=h&&h.fields,r=h.edit,i=s.chart,n=i.components;if(e=n.xAxis[0].config.axisRange.min,n=n.yAxis[0].config.axisRange.min,o){switch(o.shape.val()){case"circ":a="circle";break;case"poly":a="polygon";break;default:a="rectangle"}if(e={x:oe(o.x.val(),e),y:oe(o.y.val(),n),id:o.id.val(),datasetId:o.dataset.val(),name:o.label.val(),tooltext:o.tooltip.val(),color:o.color.val(),alpha:o.alpha.val(),labelalign:o.labelalign.val(),allowdrag:o.draggable.val(),shape:a,width:o.rectWidth.val(),height:o.rectHeight.val(),radius:o.circPolyRadius.val(),numsides:o.polySides.val(),imagenode:o.image.val(),imagewidth:o.imgWidth.val(),imageheight:o.imgHeight.val(),imagealign:o.imgAlign.val(),imageurl:o.imgUrl.val(),link:o.link.val()},d[e.id]&&(t=!0),!t||void 0!==r)return void(((o=e.datasetId)!==Z||r)&&(r?i.updateNode(e):i.addNode(e),h.hide(),h.visible=!1));h.error.attr({text:"ID already exist."}),o.label.focus()}h.enableFields()},v=function(){h.hide(),h.visible=!1,h.enableFields(),h.error.attr({text:Q}),h.visible=!1},b=function(){a.deleteNode(h.fields.id.val()),h.hide(),h.visible=!1};h||(h=l.cacheUpdateUI=this.createHtmlDialog(a,350,215,c,v,b),n=h.dialog,x=h.labels={},f=h.fields={}),h.config=r,h.edit=i,h.error||(h.error=g.html("span",{color:"ff0000",x:30,y:228},void 0,n)),h.enableFields||(h.enableFields=function(){for(var e in r)r[e]&&r[e].disabled&&f[e]&&f[e].element.removeAttribute("disabled")}),h.clearFields||(h.clearFields=function(){var e,t=h.fields;for(e in t)t[e].element.disabled||(t[e].element.value=Z)}),ye(this.nodeUpdateUIDefinition,function(i){var l,d,c,p=i.key,v={},b=r[p]||{};!x[p]&&(x[p]=g.html("label",{x:i.x,y:i.y,width:i.labelWidth||45,text:i.text},m,n)),i.noInput||(l=f[p],l||(u.border="checkbox"==i.type?Q:"1px solid #cccccc",l=f[p]=g.html(i.inputType||"input",{x:i.labelWidth&&i.labelWidth+5||50,y:-2+(i.inputPaddingTop||0),width:i.inputWidth||50,name:p||Z},u),"select"!==i.inputType&&l.attr({type:i.type||"text"}).on("keyup",h.handleKeyPress),l.add(x[p])),Se(d=oe(b.innerHTML,i.innerHTML))&&(v.innerHTML=d),b.disabled?v.disabled="disabled":l.element&&(l.element.disabled=!1),l.attr(v),Se(c=oe(b.value,i.value))&&l.val(c),"shape"==p&&l.on("change",function(){e.call(s,a)}),"image"==p&&l.on("click",function(){o.call(s,a,!0)}),"color"==p&&l.on("keyup",function(){t.call(s,a)}))}),t.call(this,a),o.call(this,a),e.call(this,a),p?h.fadeIn("fast"):h.show(),h.visible=!0,h.fields[i?"label":"id"].focus()}}(),getDataLimits:function(){var e,t,a=this.datasets,o=1/0,r=-1/0,i=-1/0,n=1/0;for(e=0;e<a.length;e++)t=a[e].dataset.config,r=Fe(r,t.yMax),o=Oe(o,t.yMin),i=Fe(i,t.xMax),n=Oe(n,t.xMin);return{max:r,min:o,xMax:i,xMin:n}},removeNodeDataset:function(e){this.datasets.splice(e)},removeConnectorSet:function(e){this.connectorSet.splice(e)},removeLabelSet:function(e){this.labelSet.splice(e)},_clearConnectors:function(){var e,t,a,o,r,i=this.nodes;for(e in i)if(a=i[e]){t=a.config.startConnectors||{},a=a.config.endConnectors||{};for(r in t)o={graphics:t[r].graphics||{}},Le.call(o);for(r in a)o={graphics:a[r].graphics||{}},Le.call(o)}this.nodes={}}}]),FusionCharts.register("component",["dataset","Dragnode",{type:"dragnode",configure:function(){var e,t,a,o,r,i,n=this.index,s=this.chart,l=this.JSONData,h=s.jsonData.chart,d=(l.data||[]).length,c=this.config,s=s.components.colorManager;for(c.showValues=ae(l.showvalues,h.showvalues,1),i=c.useRoundEdges=ae(h.useroundedges),c.zIndex=1,c.name=te(l.seriesname),c.viewMode=ae(h.viewmode,0),c.id=ee(l.id,this.index),0!==ae(l.includeinlegend)&&void 0!==c.name||(c.showInLegend=!1),c.includeInLegend=ae(l.includeinlegend,1),c.showTooltip=ae(h.showtooltip,1),c.seriesNameInTooltip=ae(h.seriesnameintooltip,1),c.tooltipSepChar=ee(h.tooltipsepchar," - "),e=c.plotFillAlpha=ee(h.plotfillalpha,nt),t=c.showPlotBorder=ae(h.showplotborder,1),a=c.plotBorderColor=Ye(ee(h.plotbordercolor,"666666")),o=c.plotBorderThickness=ae(h.plotborderthickness,i?2:1),r=c.plotBorderAlpha=ee(h.plotborderalpha,h.plotfillalpha,i?"35":"95"),c.use3DLighting=!!ae(h.use3dlighting,h.is3d,i?1:0),c.color=Ye(ee(l.color,s.getPlotColor(n))),c.alpha=ee(l.plotfillalpha,l.nodeFillAlpha,l.alpha,e),c.datasetShowPlotBorder=!!ae(l.showplotborder,t),c.datasetPlotBorderColor=Ye(ee(l.plotbordercolor,l.nodebordercolor,a)),c.datasetPlotBorderThickness=ae(l.plotborderthickness,l.nodeborderthickness,o),c.datasetPlotBorderAlpha=c.datasetShowPlotBorder?ee(l.plotborderalpha,l.nodeborderalpha,l.alpha,r):F,c.seriesname=re(l.seriesname),c.datasetAllowDrag=!!ae(l.allowdrag,1),c.colorObj={fillColor:$e(c.color,c.alpha),lineColor:{FCcolor:{color:c.datasetPlotBorderColor,alpha:c.datasetPlotBorderAlpha}}},c.lineWidth=void 0,c.symbol="poly_4",n=this.components.data=this.components.data||(this.components.data=[]),h=n.length,h>d&&n.splice(d,h-d),this.visible=1===ae(l.visible,!Number(l.initiallyhidden),1),c.yMin=c.yMax=c.xMax=c.xMin=0,this._refreshData=!0,l=0;l<d;l+=1)this._setConfigure(l);this._refreshData=!1,this._addLegend()},_setConfigure:function(e,t){var a,o,r=this.JSONData,i=r.data,n=t||i[e],s=this.components.data,i=this.config,s=s[e]=s[e]||(s[e]={}),l=s.config=s.config||(s.config={}),h=i.id,d=i.yMin||1/0,c=i.yMax||-1/0,p=i.xMax||-1/0,g=i.xMin||1/0,u=i.use3DLighting,m=i.datasetPlotBorderThickness,f=i.datasetPlotBorderColor,x=i.datasetPlotBorderAlpha,v=this.chart.jsonData.chart,b=i.color,w=i.alpha,y=i.datasetAllowDrag,C=this.chart.components.numberFormatter;if(!s.graphics&&(s.graphics={}),l._options=ie({},n),n||t){if(a=l.y=C.getCleanValue(ee(n.y)),o=l.x=C.getCleanValue(ee(n.x)),l.index=e,l.dragStart||(l.dragStart={}),c=Fe(c,l.y),d=Oe(d,l.y),p=Fe(p,l.x),g=Oe(g,l.x),null===a)l.value=null;else{switch(o=C.xAxis(o),l.formatedVal=null===a?a:C.dataLabels(a),l.setTooltext=te(re(ee(n.tooltext,r.plottooltext,v.plottooltext))),l.pointLabel=ee(n.label,n.name),r=re(l.pointLabel),l.label=r,l.name=r,l.displayValue=r,l.xValue=o,l.startConnectors={},l.endConnectors={},l.toolText=!!i.showTooltip&&this._configureTooltext(l,i,v),l.link=n.link,l.id=ee(n.id,h+U+e),l.allowDrag=!!ae(n.allowdrag,y),r=l.shape=te(ee(n.shape),"rectangle").toLowerCase(),l.height=te(ee(n.height),10),l.width=te(ee(n.width),10),l.radius=te(ee(n.radius),10),l.numSides=te(ee(n.numsides),4),l.color=Ye(ee(n.color,b)),l.borderColor=Ye(ee(n.bordercolor,f)),l.alpha=ee(n.alpha,w),l.imageURL=te(n.imageurl),l.imageNode=!!ae(n.imagenode),l.imageWidth=n.imagewidth,l.imageHeight=n.imageheight,l.imageAlign=te(n.imagealign,Q).toLowerCase(),l.labelAlign=ee(n.labelalign,l.imageNode&&Se(l.imageURL)?G:"middle"),l.shape){case"circle":n=0;break;case"polygon":n=2,r=rt(l.numSides);break;default:n=1}l.symbol=r,u?(l.fillColor=this.getPointColor(l.color,l.alpha,n),l.cloneFillColor=this.getPointColor(l.color,50,n)):(l.fillColor={color:l.color,alpha:l.alpha},l.cloneFillColor=$e(l.color,50)),l.rollOverProperties=this.pointHoverOptions(s,v,{shapeType:n,use3D:u,height:l.height,width:l.width,radius:l.radius,color:l.color,
alpha:l.alpha,borderColor:l.borderColor,borderAlpha:x,borderThickness:m})}!l.update&&t&&(l.update=t.update),!l.add&&t&&(l.add=t.add),!0===this._refreshData&&delete s.removed}s.dataset=this,i.xMax=p,i.xMin=g,i.yMin=d,i.yMax=c},_configureTooltext:function(e,t,a){var o=e.setTooltext,r=e.formatedVal,i=t.seriesname,n=e.label,s=e.xValue,l=e.pointLabel,h=t.tooltipSepChar;return void 0!==o?e=$(o,[3,4,5,6,8,9,10,11],{yaxisName:re(a.yaxisname),xaxisName:re(a.xaxisname),yDataValue:r,xDataValue:s,label:n},e,a,t):void 0!==l?e=n:null===r?e=!1:(t.seriesNameInToolTip&&(i=oe(t.seriesname)),e=i?i+h:Q,e+=s?s+h:Q,e+=r),e},updatePointConfig:function(e,t){var a=this.chart,o=this.config,r=(this.components.data[t]||{}).config,i=a.components.numberFormatter,a=a.jsonData.chart,n=o.yMin||1/0,s=o.yMax||-1/0,l=o.xMax||-1/0,h=o.xMin||1/0;void 0!==r&&(r.y=i.getCleanValue(ee(e.y)),r.x=i.getCleanValue(ee(e.x)),r._options.x=r.x,r._options.y=r.y,Fe(s,r.y),Oe(n,r.y),Fe(l,r.x),Oe(h,r.x),n=i.xAxis(r.x),r.formatedVal=null===r.y?r.y:i.dataLabels(r.y),r.xValue=n,r.toolText=!!o.showTooltip&&this._configureTooltext(r,o,a),r.update=e.update)},pointHoverOptions:function(e,t,a){var o=ae(e.showhovereffect,this.showhovereffect,t.plothovereffect,t.showhovereffect),r={},i=!!ee(e.hovercolor,this.hovercolor,t.plotfillhovercolor,e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,e.borderhovercolor,this.borderhovercolor,t.plotborderhovercolor,e.borderhoveralpha,this.borderhoveralpha,t.plotborderhoveralpha,e.borderhoverthickness,this.borderhoverthickness,t.plotborderhoverthickness,e.hoverheight,this.hoverheight,t.plothoverheight,e.hoverwidth,this.hoverwidth,t.plothoverwidth,e.hoverradius,this.hoverradius,t.plothoverradius,o),n=!1;return(void 0===o&&i||o)&&(n=!0,o=ee(e.hovercolor,this.hovercolor,t.plotfillhovercolor,Ze(a.color,70)),i=ee(e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,a.alpha),r={stroke:$e(ee(e.borderhovercolor,this.borderhovercolor,t.plotborderhovercolor,a.borderColor),ae(e.borderhoveralpha,this.borderhoveralpha,t.plotborderhoveralpha,i,a.borderAlpha)),"stroke-width":ae(e.borderhoverthickness,this.borderhoverthickness,t.plotborderhoverthickness,a.borderThickness),height:ae(e.hoverheight,this.hoverheight,t.plothoverheight,a.height),width:ae(e.hoverwidth,this.hoverwidth,t.plothoverwidth,a.width),r:ae(e.hoverradius,this.hoverradius,t.plothoverradius,a.radius)},e=a.use3D?this.getPointColor(Ye(ee(e.hovercolor,this.hovercolor,t.plotfillhovercolor,Ze(a.color,70))),ee(e.hoveralpha,this.hoveralpha,t.plotfillhoveralpha,a.alpha),a.shapeType):$e(o,i),r.fill=se(e)),{enabled:n,rollOverAttrs:r}},getJSONData:function(){var e,t,a=this.components.data,o=a.length,r=[];for(t=0;t<o;t++)e=a[t],!e.removed&&e.config._options&&(delete e.config._options.update,delete e.config._options.add,r.push(e.config._options));return r},getPointColor:function(e,t,a){var o;return e=Ye(e),t=Ke(t),o=Ze(e,80),e=Qe(e,65),t={FCcolor:{gradientUnits:"objectBoundingBox",color:o+","+e,alpha:t+","+t,ratio:Ie}},a?t.FCcolor.angle=1===a?0:180:(t.FCcolor.cx=.4,t.FCcolor.cy=.4,t.FCcolor.r="50%",t.FCcolor.radialGradient=!0),t},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.plotType="dragnode",this.configure()},_addLegend:function(){var e=this.config,t=this.chart.components.legend,e={enabled:e.includeInLegend,type:this.type,fillColor:se({color:e.color,alpha:e.alpha}),strokeColor:se({color:e.plotBorderColor,alpha:nt}),anchorSide:4,strokeWidth:e.anchorBorderThickness,label:oe(this.JSONData.seriesname)};this.legendItemId=t.addItems(this,this.legendInteractivity,e)},draw:function(){var e,t,o=this.components,r=this.graphics,i=this.chart,n=i.getJobList(),s=i.linkedItems.smartLabel,o=o.data,l=this.components.removeDataArr||[],h=l.length,d=i.components.paper,c=i.config.dataLabelStyle,p={fontFamily:c.fontFamily,fontSize:c.fontSize,lineHeight:c.lineHeight,fontWeight:c.fontWeight,fontStyle:c.fontStyle};e=i.graphics,t=e.datasetGroup;var g=e.trackerGroup;for(e=r.group=r.group||d.group(t),t=r.dragLabelGroup=r.dragLabelGroup||d.group("dragLabelGroup",t),r.trackerContainer=r.trackerContainer||d.group("tracker",g),s.useEllipsesOnOverflow(i.config.useEllipsesWhenOverflow),s.setStyle(c),e.css(p),i=0,s=o.length;i<s;i+=1)!(d=o[i].removed)&&this._drawNode(i);for(n.trackerDrawID.push(be.addJob(this.drawTracker,this,[],a.priorityList.tracker)),!this.drawn&&n.labelDrawID.push(be.addJob(this.drawLabel,this,[],a.priorityList.label)),this.drawn=!0,this.visible&&(e.show(),t.show(),r.trackerContainer.show()),i=0;i<h;i++)this._removeDataVisuals(l.shift())},_drawNode:function(e){var t,a,o,r,i,n,s,l,h,d,c=this.chart,p=c.components,g=this.groupManager,u=g.nodes,m=p.paper,f=this.xAxis=p.xAxis[0],x=this.yAxis=p.yAxis[0],p=this.components.data[e],v=p.config,b=this.config,w=c.get(y,C)||{},k=w.duration,A=w.dummyObj,L=w.animObj,w=p.graphics||(p.graphics={}),S=v.symbol,D=b.colorObj.lineColor,T=b.datasetPlotBorderThickness;r=this.graphics,s=c.graphics.datasetGroup;var V,P,I,B,c=r.group,_=p.config.rollOverProperties,E=this.components.pool||{};t=w.graphic;var N,O=w.cloneGraphic,F=w.cloneImage,M=w.image,R=w.label;if(r.cloneGraphicGroup=r.cloneGraphicGroup||m.group("clone",s),r.cloneGraphicGroup.attr({opacity:.3}),v._yPos=x=x.getAxisPosition(v.y),v._xPos=f=f.getAxisPosition(v.x),void 0!==x&&!isNaN(x)){if(v.shapeArg={},n=v.shapeArg,a=ae(v.height),t=ae(v.width),o=ae(v.radius),S="rectangle"===S,r=v.id,i=v.imageNode,s=v.imageURL,l=v.imageAlign,h=S?t:1.4*o,V=ae(v.imageWidth,h),d=S?a:1.4*o,o=ae(v.imageHeight,d),I=se(v.fillColor),v._plotWidth=h,v._plotHeight=d,P={fill:I,"stroke-width":T,stroke:se(D)},S=n.symbol=ee(v.symbol,b.symbol,Q),S=S.split(U),B=[S[1],f,x,v.radius,v.startAngle,0],"poly"===S[0]||"circle"===S[0]?(v.shapeType=S[0],N="polypath",b="path",B={polypath:B},n.x=f,n.y=x,n.radius=v.radius,n.sides=S[1]):(v.shapeType=dt,b=N="rect",n.x=f-t/2,n.y=x-a/2,n.r=0,n.width=t,n.height=a,B={x:n.x,y:n.y,width:t,height:a,r:0},P.width=t,P.height=a,P.x=f-t/2,P.y=x-a/2,_&&_.enabled&&(S=_.rollOverAttrs,S.x=f-S.width/2,S.y=x-S.height/2,delete S.r)),S=(t=w.element)&&t.type,-1===N.indexOf(S)&&t&&(t.remove(),t=w.element=null,R&&R.remove(),M&&M.remove(),delete w.label,delete w.image,M=null),t||(E.element&&E.element[b]&&E.element[b].length?(t=w.element=E.element[b].shift(),t.toFront()):(t=w.element=m[N](c),t.attr(B))),t.show().animateWith(A,L,B,k),t.attr({fill:I,"stroke-width":T,stroke:se(D)}),g.animationDone=!0,O&&(O.transform(Z),O.attr(B)),i&&s){switch(o>d&&(o=d),V>h&&(V=h),l){case"middle":g=x-o/2;break;case j:g=d>o?x+d/2-o:x-o/2;break;default:g=d>o?x-.5*d:x-o/2}v.imageX=f-V/2,v.imageY=g,v.imageWidth=V,v.imageHeight=o,b="image",M||(E.image&&E.image[b]&&E.image[b].length?(M=w.image=E.image[b].shift(),M.toFront()):M=w.image=m.image(c)),M.show().attr({src:s,x:v.imageX,y:g,width:V,height:o}),F&&(F.transform(Z),F.attr({src:s,x:v.imageX,y:g,width:V,height:o}))}v.pointAttr=P,this.drawn&&this.drawLabel(e),u[r]=p}},drawLabel:function(e){var t,a,o,r,i,n,s,l=this.chart,h=l.components.paper,d=this.components.data,c=d.length,p=this.graphics.group,g=l.config.dataLabelStyle,u=l.get("config","animationObj"),m=u.dummyObj,f=u.animObj,x=u.duration,v=this.components.pool||{},b=l.config,u=u.animType,l=l.linkedItems.smartLabel;for(void 0!==e?c=e+1:e=0;e<c;e++)if(r=d[e],t=r.config,n=t._plotWidth,o=t._plotHeight,a=t.displayValue,i=t.labelAlign,s=r.graphics,Se(a)||a!==Q){switch(l.useEllipsesOnOverflow(b.useEllipsesWhenOverflow),a=l.getSmartText(a,n,o),o=.5*o-.5*a.height,i){case G:o=-o;break;case j:break;default:o=0}i=t._xPos,t=t._yPos,r._yAdjustment=r=o,r=t+r,t={text:a.text,title:a.tooltext||Z,fill:g.color,"text-bound":[g.backgroundColor,g.borderColor,g.borderThickness,g.borderPadding,g.borderRadius,g.borderDash]},(a=s.label=s.label||v.label&&v.label.text&&v.label.text.shift())?(a.attr(t),a.show().animateWith(m,f,{x:i,y:r},x,u)):(t.x=i,t.y=r,a=s.label=h.text(t,p)),(s=s&&(s.image||s.element))&&a.insertAfter(s)}else s.label&&s.label.hide()},_removeDataVisuals:function(e){var t,a,o,r,i=this.components.pool||(this.components.pool={});if(e)for(a in e=e.graphics)t=i[a]||(i[a]={}),o=(r=e[a])&&r.type,t=t[o]||(t[o]=[]),r.hide&&"function"==typeof r.hide&&(r.attr({"text-bound":[]}),r.hide(),r.transform&&r.transform(Z)),t.push(e[a])},show:function(){var e=this.graphics,t=this.graphics.trackerContainer,a=e.dragLabelGroup;e.group.show(),a.show(),t.show(),this.visible=!0},hide:function(){var e=this.graphics,t=this.graphics.trackerContainer,a=e.dragLabelGroup;e.group.hide(),t.hide(),a.hide(),this.visible=!1},drawTracker:function(e,t){for(var a,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b,w=this,y=w.components.data,C=w.chart,k=C.components.paper,A=w.graphics.trackerContainer,L={},S={circle:"path",rect:"rect",poly:"path"},D=function(e){w._dragUp.call(this,e)},T=function(e,t,a,o){w._dragMove.call(this,e,t,a,o,C)},V=function(e){w._dragStart.call(this,e,C)},P=e||0,I=t||y.length,P=0;P<I;P++)b=y[P],b.removed||(a=b.config,o=a.shapeArg,r=o.width,i=o.height,n=o.x,s=o.y,l=a.pointAttr,h=a.shapeType,d=o.sides,c=o.radius,o=b.graphics.trackerElement,p=b.graphics.cloneGraphic,m=a.rollOverProperties,L={},g=b.graphics.cloneImage,u=b.graphics.cloneText,f=o&&o.data("type"),x=a.toolText,v=a.link?"pointer":a.allowDrag?"move":Z,L.fill=De,L.stroke=De,L.cursor=v,L.ishot=!0,f!==S[h]&&o&&(o.remove(),o=b.graphics.trackerElement=null),o?(h!==dt?o.attr({polypath:[d||2,n,s,c,a.startAngle,0]}).attr(L):o.attr({x:n,y:s,width:r,height:i}).attr(L),o.tooltip(x)):(h!==dt?(o=b.graphics.trackerElement=k.polypath(d||2,n,s,c,a.startAngle,0,A),o.data("type","path")):(o=b.graphics.trackerElement=k.rect(n,s,r,i,0,A),o.data("type","rect")),p&&(p.remove(),delete b.graphics.cloneGraphic),g&&(g.remove(),delete b.graphics.cloneImage),u&&(u.remove(),delete b.graphics.cloneText),o.attr(L).tooltip(x),o.hover(function(e,t){return function(a){var o=this.data("hoverAttr");t&&e.graphics.element.attr(o),lt.call(this,C,a,"DataPlotRollOver")}}(b,m&&m.enabled),function(e,t){return function(a){var o=this.data("unHoverAttr");t&&e.graphics.element.attr(o),lt.call(this,C,a,"DataPlotRollOut")}}(b,m&&m.enabled)),o.data("drag-options",{dataObj:b,dataset:w,datasetIndex:w.index,pointIndex:b.config.index,cursor:v,chart:C,link:b.link}),o.drag(T,V,D)),a={index:P,link:a.link,y:a.y,x:a.x,shape:ee(h,"rect"),width:r,height:i,radius:c,sides:a.numSides,label:a.displayValue,toolText:a.toolText,id:a.id,datasetIndex:w.index,datasetName:w.JSONData.seriesname,sourceType:"dataplot"},o.data("eventArgs",a),o.data("hoverAttr",m&&m.rollOverAttrs),o.data("unHoverAttr",l))},_dragStart:function(e,t){var a=this,o=a.data("drag-options"),i=a.getBBox(),n=o.dataObj,s=n.config,l=o.dataset,h=l.groupManager,d=h.graphics,c=d.waitElement,p=o.dataset.config,o=p.viewMode;Ue&&Ae(e);var g=t.components.paper,u=l.graphics.trackerContainer,m=s.dragStart||(s.dragStart={}),f=n.graphics.cloneGraphic,x=l.graphics.cloneGraphicGroup,v=n.graphics.cloneText,b=n.graphics.image,w=n.graphics.cloneImage,y=n.graphics.label,C={circle:"circ",rectangle:"rect",polygon:"poly"};r&&(a._.dirty=1),s.symbol.split(U),s.allowDrag&&(!f&&n.graphics.element&&(f=n.graphics.cloneGraphic=n.graphics.element.clone(),x.appendChild(f)),y&&!v&&(v=n.graphics.cloneText=n.graphics.label.clone(),v.followers[0]&&v.followers[0].el&&x.appendChild(v.followers[0].el),x.appendChild(v)),b&&!w&&(w=n.graphics.cloneImage=n.graphics.image.clone(),x.appendChild(w)),v&&v.show(),w&&w.show(),f&&f.show()),m.xPos=s._xPos,m.yPos=s._yPos,m.x=s.x,m.y=s.y,m.bBox=i,m.origX=m.lastDx||(m.lastDx=0),m.origY=m.lastDy||(m.lastDy=0),a.data("fire_click_event",1),a.data("mousedown",1),clearTimeout(a._longpressactive),a.data("move",!0),o||(c||(c=d.waitElement=g.ringpath(s._xPos,s._yPos,8,11,0,0,u).attr({fill:se({alpha:"100,100",angle:120,color:"CCCCCC,FFFFFF",ratio:"30,50"}),"stroke-width":0})),c.attr({ringpath:[s._xPos,s._yPos,8,11,0,0]}).show().animate({ringpath:[s._xPos,s._yPos,8,11,0,6.28]},1e3),a._longpressactive=setTimeout(function(){var e=p.name!==Q&&void 0!==p.name?p.name+it+" ":Q,o=p.id;d.waitElement&&d.waitElement.hide(),a.data("fire_click_event",0),h.showNodeUpdateUI(t,{x:{value:s.x},y:{value:s.y},draggable:{value:oe(s.allowdrag,1)},color:{value:s.color},alpha:{value:s.alpha},label:{value:oe(s.label,s.name)},tooltip:{value:s.toolText},shape:{value:C[s.shape]},rectWidth:{value:s.width},rectHeight:{value:s.height},circPolyRadius:{value:s.radius},polySides:{value:s.numsides},image:{value:s.imageNode},imgWidth:{value:s.imageWidth},imgHeight:{value:s.imageHeight},imgAlign:{value:s.imageAlign},imgUrl:{value:s.imageURL},id:{value:s.id,disabled:!0},link:{value:s.link},dataset:{innerHTML:'<option value="'+o+'">'+e+o+"</option>",disabled:!0},datasetIndex:l.index},!0)},1e3)),f&&f.show(),v&&v.show(),w&&w.show()},_dragMove:function(e,t,a,o,r){var i=this.data("drag-options"),n=i.dataObj;a=n.graphics.cloneGraphic,o=n.graphics.cloneImage;var s=n.graphics.cloneText,n=n.config,l=n.dragStart,h=l.bBox.x+e,d=l.bBox.x2+e,c=l.bBox.y+t,p=l.bBox.y2+t,g=i.dataset.groupManager.graphics,u=r.config.canvasLeft,m=r.config.canvasRight,f=r.config.canvasTop;r=r.config.canvasBottom,h<u&&(e+=u-h),d>m&&(e-=d-m),c<f&&(t+=f-c),p>r&&(t-=p-r),(e||t)&&(g.waitElement&&g.waitElement.hide(),this.data("fire_click_event",0),ut.call(this)),n.allowDrag&&(l.draged=!0,l.lastDx=e,l.lastDy=t,r=i._transformObj={transform:"t"+(l.origX+e)+","+(l.origY+t)},a&&a.attr(r),o&&o.attr(r),s&&s.attr({x:n._xPos+e,y:n._yPos+t}))},removeData:function(e,t){var a=this.components,o=this.groupManager,r=a.data,i=a.removeDataArr||(a.removeDataArr=[]);e=e||0,0>e&&(e=0),a.removeDataArr=i.concat(r.splice(e,t||1)),o._clearConnectors()},_dragUp:function(e){var t,o,r,i,n,s=this.data("drag-options"),l=s.dataset,h=l.chart,d=l.components.data,c=s.dataObj,p=s.dataset.groupManager,g=this.data("fire_click_event"),s=c.config,u=h.config.canvasTop,m=h.config.canvasLeft,f=c.config.dragStart||{},x=l.yAxis,v=c.graphics.cloneText,b=l.groupManager.graphics,w=h.components.xAxis[0],y={},C=c.graphics.cloneGraphic,k=c.graphics.cloneImage,A=function(e){var a;if(e)for(a in e)(n=e[a])&&(r=n.config.datasetIndex,t=n.config.fromPointObj,o=n.config.toPointObj,(i=p.connectorSet[r])&&i&&i.connectors.drawConnector(n,t,o))};if(b.waitElement&&b.waitElement.hide(),ut.call(this),this.data("mousedown",0),g&&lt.call(this,h,e),f.draged){for(f.origX+=f.lastDx,f.origY+=f.lastDy,c.config._xPos=f.xPos+f.lastDx,c.config._yPos=f.yPos+f.lastDy,y.x=w.getValue(c.config._xPos-m),y.y=x.getValue(c.config._yPos-u),y.update=!0,g=0,m=d.length;g<m&&(u=d[g],c.config.id!==u.config.id);g++);l.updatePointConfig(y,g),d=this.data("eventArgs"),d.x=y.x,d.y=y.y,l._drawNode(g),l.drawTracker(g,g+1),l=c.config.startConnectors,c=c.config.endConnectors,A(l),A(c),e=st(h.linkedItems.container,e),e.sourceEvent="dataplotdragend",a.raiseEvent("chartupdated",ie(e,d),h.chartInstance),f.draged=!1}v&&v.hide(),C&&C.hide(),k&&k.hide(),delete s.dragStart},getDataLimits:function(){var e=this.config;return{max:e.yMax,min:e.yMin,xMax:e.xMax,xMin:e.xMin}}},"Area"]),FusionCharts.register("component",["dataset","Connector",{type:"connector",configure:function(){var e=this.chart.jsonData.chart,t=this.config,o=this.components.data||(this.components.data=[]),r=this.JSONData,i=r.connector,n=i&&i.length,s=a.parseUnsafeString;for(t.connectorsTooltext=te(s(ee(r.connectortooltext,e.connectortooltext))),t.stdThickness=ae(r.stdthickness,1),t.conColor=Ye(ee(r.color,"FF5904")),t.conAlpha=ee(r.alpha,nt),t.conDashGap=ae(r.dashgap,5),t.conDashLen=ae(r.dashlen,5),t.conDashed=!!ae(r.dashed,0),t.arrowAtStart=!!ae(r.arrowatstart,1),t.arrowAtEnd=!!ae(r.arrowatend,1),t.conStrength=ae(r.strength,1),t.toolTipSepChar=ee(e.tooltipsepchar," - "),t.showTooltip=ae(e.showtooltip,1),t.viewMode=ae(e.viewmode,1),e=o.length,e>n&&o.splice(n,e-n),t._refreshData=!0,o=0;o<n;o+=1)this._setConfigure(o,i[o]);t._refreshData=!0},_setConfigure:function(e,t){var a=this.components.data,a=a[e]||(a[e]=a[e]={}),o=this.config,r=this.chart,i=re(ee(t.label,t.name)),n=ee(t.alpha,o.conAlpha),s=r.linkedItems.smartLabel,l="$fromLabel"+o.toolTipSepChar+"$toLabel",n={FCcolor:{color:Ye(ee(t.color,o.conColor)),alpha:n}},h=te(re(ee(t.tooltext,o.connectorsTooltext)));s.useEllipsesOnOverflow(r.config.useEllipsesWhenOverflow),r=s.getOriSize(i),a.config=a.config||(a.config={}),!a.graphics&&(a.graphics={}),l=!!o.showTooltip&&ee(h,i?"$label":l),i=a.config={_options:t,id:ee(t.id,e).toString(),from:ee(t.from,Q),to:ee(t.to,Q),label:i,toolText:l,customToolText:h,color:n,index:e,dashStyle:ae(t.dashed,o.conDashed)?ne(ae(t.dashlen,o.conDashLen),ae(t.dashgap,o.conDashGap),o.stdThickness):"none",dashed:t.dashed,dashlen:t.dashlen,dashgap:t.dashgap,arrowAtStart:!!ae(t.arrowatstart,o.arrowAtStart),arrowAtEnd:!!ae(t.arrowatend,o.arrowAtEnd),conStrength:ae(t.strength,o.conStrength),link:t.link,stdThickness:o.stdThickness,labelWidth:r.widht,labelHeight:r.height},i.datasetIndex=this.index,i.add=t.add,i.update=t.update,o._refreshData&&delete a.removed},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.configure()},draw:function(){var e,t,o=this.chart,r=this.config,i=o.graphics,n=this.groupManager.nodes,s=this.components.data,l=this.chart.components.paper,h=o.getJobList();t=i.datasetGroup,e=o.config.dataLabelStyle;var d,o=s.length,i=this.components.removeDataArr||[],c=i.length;for(d||(d=this.graphics.connectorGroup=this.graphics.connectorGroup||l.group("connectorGroup").insertBefore(t)),r.showTooltip&&d.trackTooltip(!0),r.cleared=!1,d.css(e),l=0;l<o;l++)r=s[l],d=r.config,r.graphics||(r.graphics={}),e=d.from,t=d.to,e=n[e],t=n[t],e&&t&&!0!==d.deleted&&this.drawConnector(r,e,t,l);for(!0!==this.drawn&&h.labelDrawID.push(be.addJob(this.drawLabel,this,[],a.priorityList.label)),this.drawn=!0,l=0;l<c;l++)this._removeDataVisuals(i.shift())},mouseDown:function(){var e=this,t=e.data(y),a=e.data("dataset"),o=a.groupManager,r=a.chart,i=a.config,n=t||{};e._longpressactive=clearTimeout(e._longpressactive),e.data("fire_click_event",1),e._longpressactive=setTimeout(function(){e.data("fire_click_event",0),e.data("viewMode")||o.showConnectorUpdateUI(r,{fromid:{val:n.from,innerHTML:"<option>"+n.from+"</option>",disabled:!0},toid:{val:n.to,innerHTML:"<option>"+n.to+"</option>",disabled:!0},datasetIndex:a.index,index:t.index,arratstart:{val:!!ae(n.arrowatstart,1)},arratend:{val:!!ae(n.arrowatend,1)},dashed:{val:ae(n.dashed)},dashgap:{val:n.dashgap},dashlen:{val:n.dashlen},label:{val:n.label},tooltext:{val:n.tooltext},id:{val:i.id,disabled:!0},strength:{val:n.conStrength},alpha:{val:n.alpha},color:{val:n.color.FCcolor.color}},!0)},1e3)},mousemove:function(){this.data("fire_click_event",0),ut.call(this)},mouseup:function(e){var t=this.data("dataset").chart;ut.call(this),lt.call(this,t,e,"ConnectorClick")},hoverIn:function(e){var t=this.data("dataset").chart;lt.call(this,t,e,"ConnectorRollover")},hoverOut:function(e){var t=this.data("dataset").chart;lt.call(this,t,e,"ConnectorRollout")},drawConnector:function(e,t,a){if(!e.removed){var o,r,i,n,s=this.chart,l=s.components.paper,h=s.components.numberFormatter,d=e.graphics,c=s.get("config","animationObj"),s=this.graphics.connectorGroup,p=c.animObj,g=c.dummyObj,u=c.animType,c=c.duration,m=e.config;r=m.toolText;var f,x,v=m.eventArgs||(m.eventArgs={}),b=this.config,w=this.components.pool||{};m.fromPointObj=t,m.toPointObj=a,f=t.config,x=a.config,m.fromX=o=f._xPos,m.fromY=i=f._yPos,m.toX=r=x._xPos,m.toY=n=x._yPos,m._labelX=(o+r)/2,m._labelY=(i+n)/2,m.strokeWidth=o=m.conStrength*m.stdThickness,i=m.color,m.textBgColor=i&&i.FCcolor&&i.FCcolor.color,v.label=m.label,v.arrowAtStart=m.arrowAtStart,v.arrowAtEnd=m.arrowAtEnd,v.link=m.link,v.id=m.id,v.fromNodeId=f.id,v.toNodeId=x.id,r=m.toolText=$(m.toolText,[3,83,84,85,86,87,88,89,90,91,92],{label:m.label,fromXValue:h.dataLabels(t.config.x),fromYValue:h.dataLabels(t.config.y),fromXDataValue:t.config.x,fromYDataValue:t.config.y,fromLabel:ee(t.config.displayValue,t.config.id),toXValue:h.dataLabels(a.config.x),toYValue:h.dataLabels(a.config.y),toXDataValue:a.config.x,toYDataValue:a.config.y,toLabel:ee(a.config.displayValue,a.config.id)}),f=t.config,x=a.config,t=f.startConnectors,a=x.endConnectors,h=e.config.id+"-"+f.id+"-"+x.id,t[h]=e,a[h]=e,t=this._getlinePath(e),a=d.graphic,d.graphic||(w.graphic&&w.graphic.path&&w.graphic.path.length?a=d.graphic=w.graphic.path.shift():(a=d.graphic=l.path(s).mousedown(this.mouseDown).mousemove(this.mousemove).mouseup(this.mouseup).hover(this.hoverIn,this.hoverOut),a.attr({path:t}))),a.show().animateWith(g,p,{path:t},c,u),a.attr({"stroke-width":o,ishot:!0,"stroke-dasharray":m.dashStyle,cursor:m.link?"pointer":Z,stroke:se(i)}).data("eventArgs",v).data("viewMode",b.viewMode).data(y,m).data("dataset",this).tooltip(r),this.drawn&&this.drawLabel(e)}},drawLabel:function(e){var t,a,o,r,i,n,s,l,h,d,c=this,p=c.config,g=c.chart,u=g.components.paper,m=g.get("config","animationObj"),f=c.graphics.connectorGroup,x=m.animObj,v=m.dummyObj,b=m.animType,w=m.duration,C=g.config.dataLabelStyle,g=c.components.data,k=c.components.pool||{},m=g.length,A=function(e){t=e.config,o=t.toolText,n=e.graphics,a=t.label,l=t._labelX,h=t._labelY,d=t.textBgColor,a?(i=n.text=n.text||k.element&&k.element.text&&k.element.text.shift(),r={text:a,fill:C.color,ishot:!0,direction:Z,cursor:t.link?"pointer":Z,"text-bound":[ee(C.backgroundColor,d),ee(C.borderColor,d),1,"2"]},n.text?(i.show().animateWith(v,x,{x:l,y:h},w,b),i.attr(r)):(r.x=l,r.y=h,n.text=i=u.text(r,f).mousedown(c.mouseDown).mousemove(c.mousemove).mouseup(c.mouseup).hover(c.hoverIn,c.hoverOut)),i.data("eventArgs",t.eventArgs).data("viewMode",p.viewMode).data(y,t).data("dataset",c).tooltip(o)):n.text&&n.text.hide()};if(e)A(e);else for(s=0;s<m;s++)e=g[s],A(e)},getJSONData:function(){var e,t,a=this.components.data,o=a.length,r=[];for(t=0;t<o;t++)e=a[t],e.removed||(e.config._options&&(delete e.config._options.update,delete e.config._options.add),r.push(e.config._options));return r},_updateFromPos:function(e,t){this.fromX=e,this.fromY=t,this.graphic&&this.graphic.animate({path:this.getlinePath()}),this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},_updateToPos:function(e,t){this.toX=e,this.toY=t,this.graphic&&this.graphic.animate({path:this.getlinePath()}),this.text&&this.text.animate({x:(this.fromX+this.toX)/2,y:(this.fromY+this.toY)/2})},_getlinePath:function(e){e=e.config;var t=e.fromPointObj,a=e.toPointObj,o=e.fromX,r=e.fromY,i=e.toX,n=e.toY,s=["M",o,r];return e.arrowAtStart&&(t=t.config,s=t.shapeType===dt?s.concat(this._drawArrow(o,r,i,n,t.shapeArg.width,t.shapeArg.height)):s.concat(this._drawArrow(o,r,i,n,t.shapeArg.radius))),e.arrowAtEnd&&(t=a.config,s=t.shapeType===dt?s.concat(this._drawArrow(i,n,o,r,t.shapeArg.width,t.shapeArg.height)):s.concat(this._drawArrow(i,n,o,r,t.shapeArg.radius))),s.push("L",i,n),s},_drawArrow:function(e,t,a,o,r,i){var n=Be.atan((t-o)/(e-a)),s=[];return 0>n&&(n=2*Be.PI+n),o>t?(a>=e&&n>Be.PI||a<e&&n>Be.PI)&&(n-=Be.PI):(a>=e&&n<Be.PI&&0!==n||a<e&&n<Be.PI)&&(n+=Be.PI),void 0===i?(a=e+r*Ee(n),r=t+r*_e(n)):(r=Me(r)/2,i=Me(i)/2,a=e+(r=e<a?r:-r),r=t+r*Be.tan(n),Me(t-r)>Me(i)&&(r=t+(i=t<o?i:-i),a=e+i/Be.tan(n))),s.push("L",a,r,a+10*Ee(n+.79),r+10*_e(n+.79),"M",a+10*Ee(n-.79),r+10*_e(n-.79),"L",a,r),s},removeData:function(e,t){var a=this.components,o=a.data;0>e&&(e=0),a.removeDataArr=o.splice(e,t)}},"Dragnode"]),FusionCharts.register("component",["dataset","DragableLabels",{configure:function(){var e,t=(this.JSONData||[]).length,a=this.components.data;for(this.config.viewMode=ae(this.chart.jsonData.chart.viewmode,0),a||(a=this.components.data=[]),e=a.length,e>t&&a.splice(t,e-t),e=0;e<t;e++)this._setConfigure(e)},_setConfigure:function(e,t){var a,o=this.JSONData,o=t||o[e],r=this.components.data,i=this.chart.config.style.inCanvasStyle,n=i.fontSize;a=r[e],!a&&(a=r[e]={}),!a.graphics&&(a.graphics={}),r=a.config=a.config||(a.config={}),a=re(ee(o.text,o.label)),r._options=o,r.add=o.add,a&&(r.text=a,r.x=o.x||0,r.y=o.y||0,r.labelFontSize=n=ae(o.fontsize,n),r.labelColor=ge(ee(o.color,i.color)),r.alpha=ae(o.alpha,100)/100,r.allowdrag=ae(o.allowdrag,1),r.padding=ae(o.padding,5),r.labelCSS=o.fontsize?{fontSize:n+"px"}:void 0,r.labelBGColor=ee(o.bgcolor&&o.bgcolor.replace(ce,pe)),r.labelBDColor=ee(o.bordercolor&&o.bordercolor.replace(ce,pe)),r.link=o.link,r.allowDrag=ae(o.allowdrag,1),r.borderThickness=o.borderthickness,r.dashLen=o.dashlen,r.dashGap=o.dashgap,r.dashed=o.dashed,r.radius=o.radius)},init:function(e){this.yAxis=this.chart.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.configure()},getJSONData:function(){var e,t,a=this.components.data,o=a.length,r=[];for(t=0;t<o;t++)e=a[t],e.removed||e.config._options&&r.push(e.config._options);return r},draw:function(){var e,t,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v=this.components.data,b=this.chart,w=b.getJobList(),k=b.get(y,C),A=k.duration,L=k.animType,S=k.dummyObj,k=k.animObj,D=b.components.paper,T=b.components.yAxis[0],V=b.components.xAxis[0],P=b.linkedItems.smartLabel,I=b.graphics.datalabelsGroup,B=b.graphics.trackerGroup,E=b.config.dataLabelStyle,N=v.length,O=this.components.removeDataArr||[],F=O.length,M=this.components.pool||{},I=this.graphics.dataLabelContainer=this.graphics.dataLabelContainer||D.group("datalabels",I);for(this.graphics.trackerContainer=this.graphics.trackerContainer||D.group("tracker",B),I.css({"font-weight":E.fontWeight,"font-style":E.fontStyle,"font-size":E.fontSize,"font-family":E.fontFamily}),f=0;f<N;f++)c=v[f],c.removed||(d=c.config,!c.graphics&&(c.graphics={}),d.index=f,B=V.getPixel(d.x),r=T.getPixel(d.y),n=d.text,s=d.labelBGColor,l=d.labelBDColor,h=d.padding,p=d.allowDrag,g=d.labelFontSize,i=d.labelColor,u=d.radius,o=d.dashed,e=d.dashLen,t=d.dashGap,m=d.borderThickness,x=d.labelCSS,e={x:B,y:r,text:n,align:"center",fill:i,"text-bound":[s||Z,l||Z,ae(m,1),h,ae(u,0),ae(o,0)?ne(ae(e,5),ae(t,4),ae(m,1)):"none"],visibility:_},s={backgroundColor:s,borderColor:l,borderPadding:h,fontSize:g+"px",fontStyle:E.fontStyle,fontWeight:E.fontWeight,borderRadius:0,borderDash:"none",fontFamily:E.fontFamily},qe(s),P.useEllipsesOnOverflow(b.config.useEllipsesWhenOverflow),P.setStyle(s),p={link:d.link,text:n,x:B,y:r,allowdrag:p,sourceType:"labelnode"},(s=c.graphics.element=c.graphics.element||M.element&&M.element.text&&M.element.text.shift())?(d.labelCSSApplied&&!x&&s.removeCSS(),s.show().animateWith(S,k,e,A,L).css(x)):s=c.graphics.element=D.text(e,x,I),d.labelCSSApplied=x,s.data("eventArgs",p),n=P.getOriSize(n),d.width=n.width,d.height=n.height,d.xPos=B,d.yPos=r);for(w.trackerDrawID.push(be.addJob(this.drawTracker,this,[],a.priorityList.tracker)),f=0;f<F;f++)this._removeDataVisuals(O.shift())},removeData:function(e,t){var a=this.components;a.removeDataArr=a.data.splice(e,t)},drawTracker:function(){var e,t,a,o,r,i,n,s,l,h,d,c=this,p=c.components.data,g=c.chart,u=g.components.paper,m=c.groupManager,f=c.config,x=c.graphics.trackerContainer,v=p.length,b=function(e){var t=this;t.data("fire_click_event",1),clearTimeout(t._longpressactive),t._longpressactive=setTimeout(function(){t.data("fire_click_event",0),t.data("viewMode")||m.showLabelDeleteUI(e)},1e3)},w=function(){this.data("fire_click_event")&&(this.data("fire_click_event",0),m.clearLongPress.call(this))},y=function(e){var t=this.data("fire_click_event");m.clearLongPress.call(this),t&&lt.call(this,g,e,"LabelClick")},C=function(e){lt.call(this,g,e,"LabelRollover")},k=function(e){lt.call(this,g,e,"LabelRollout")},A=function(e,t,a,o,r){c._labelDragMove.call(this,e,t,a,o,g,r)},L=function(e){c._labelDragStart.call(this,e,g)},S=function(e){c._labelDragUp.call(this,e)};for(d=0;d<v;d++)e=p[d],e.removed||(t=e.config,a=t.padding||0,l=t.width,h=t.height,n=t.xPos-l/2,s=t.yPos-h/2,o=t.allowDrag,r=t.text,i=e.graphics.trackerElement,a={x:n-a,y:s-a,width:l+2*a,height:h+2*a,cursor:t.allowDrag?"move":Z,fill:De,stroke:De,ishot:!0},t={link:t.link,text:r,x:n,y:s,allowdrag:o,sourceType:"labelnode"},i||(i=e.graphics.trackerElement=u.rect(x).mousedown(b).mousemove(w).mouseup(y).data("viewMode",f.viewMode).data("eventArgs",t).hover(C,k).drag(A,L,S)),i.attr(a),i.data("drag-options",{index:d,dataset:c}))},_labelDragStart:function(){var e=this,t=e.getBBox(),a=e.data("drag-options"),o=a.dataset,r=o.groupManager,i=o.components.data[a.index],o=i.graphics.element,n=i.dragStart=i.dragStart||(i.dragStart={});a.ox=o.attr("x"),a.oy=o.attr("y"),a.bBox=t,n.xPos=i.config.xPos,n.yPos=i.config.yPos,n.bBox=t,e.data("fire_click_event",1),e.data("fire_dragend",0),clearTimeout(e._longpressactive),e._longpressactive=setTimeout(function(){e.data("fire_click_event",0),e.data("viewMode")||r.showLabelDeleteUI(i)},1e3)},_labelDragMove:function(e,t,a,o,r,i){o=r.config,a=o.canvasLeft;var n=o.canvasRight,s=o.canvasBottom;o=o.canvasTop;var l=this.data("drag-options"),h=l.dataset,d=h.groupManager,h=h.components.data[l.index],c=h.graphics.element,p=h.dragStart,g=p.bBox,u=p.bBox.x+e,m=p.bBox.x2+e,f=p.bBox.y+t,x=p.bBox.y2+t,v=r.components.yAxis[0],b=r.components.xAxis[0];u<a&&(e+=a-u),m>n&&(e-=m-n),f<o&&(t+=o-f),x>s&&(t-=x-s),p.draged=!0,this.attr({x:g.x+e,y:g.y+t}),n=l.ox+e,s=l.oy+t,c.attr({x:l.ox+e,y:l.oy+t}),h.config.x=b.getValue(n-a),h.config.y=v.getValue(s-o),this.data("fire_dragend")||(lt.call(this,r,i,"LabelDragStart"),this.data("fire_dragend",1)),this.data("fire_click_event")&&(this.data("fire_click_event",0),d.clearLongPress.call(this))},_labelDragUp:function(e){var t=this.data("drag-options"),o=t.dataset,r=o.chart,i=o.groupManager,n=o.components.data[t.index].dragStart,t=this.data("eventArgs"),o=o.yAxis;t.x=r.components.xAxis[0].getValue(this.attr("x")),t.y=o.getValue(this.attr("y")),n.draged=!1,this.data("fire_dragend")&&(o=st(r.linkedItems.container,e),o.sourceEvent="labeldragend",a.raiseEvent("chartupdated",ie(o,t),r.chartInstance),lt.call(this,r,e,"labeldragend")),i.clearLongPress.call(this)}},"Dragnode"]),ot("dragarea",{friendlyName:"Dragable Area Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"dragarea",decimals:2,applicableDSList:{dragarea:!0}},ot.dragbase,{anchoralpha:nt},ot.areabase),ot("dragline",{friendlyName:"Dragable Line Chart",standaloneInit:!0,creditLabel:!1,decimals:2,defaultDatasetType:"dragline",applicableDSList:{dragline:!0},defaultPlotShadow:1},ot.dragbase,{zeroplanethickness:1,zeroplanealpha:40,showzeroplaneontop:0},ot.areabase),ot("dragcolumn2d",{friendlyName:"Dragable Column Chart",standaloneInit:!0,creditLabel:!1,decimals:2,defaultDatasetType:"DragColumn",applicableDSList:{dragcolumn:!0}},ot.dragbase),FusionCharts.register("component",["dataset","DragColumn",{configure:function(){var e,t,a,o=this.chart.jsonData.chart;a=this.JSONData;var r,i,n=this.JSONData.data||[];for(this.__base__.configure.call(this),e=this.config,t=this.components.data,e.allowDrag=ae(a.allowdrag,1),e.allowNegDrag=ae(a.allownegativedrag,1),e.allowAxisChange=ae(o.allowaxischange,1),e.snapToDivOnly=ae(o.snaptodivonly,0),e.snapToDiv=e.snapToDivOnly?1:ae(o.snaptodiv,1),e.doNotSnap=ae(o.donotsnap,0),e.snapToDivRelaxation=ae(o.snaptodivrelaxation,10),e.doNotSnap&&(e.snapToDiv=e.snapToDivOnly=0),r=t.length,o=0;o<r;o++)i=n[o]||{},a=t[o].config,a.allowDrag=ae(i.allowdrag,e.allowDrag),a.allowNegDrag=ae(i.allownegativedrag,e.allowNegDrag)},drawTracker:function(){var e,t,a,o,r,i,n,s,l,h,d,c=this.chart,p=c.components.paper,g=Ue?40:10,u=this.components.pool||{},m=this.graphics.trackerContainer;for(FusionCharts.get("component",["dataset","column"]).prototype.drawTracker.call(this),e=this.components.data,d=e.length,h=0;h<d;h++)t=e[h],r=t.config,i=t._yPos+(0>r.setValue&&t._height)||0,s=r.setValue,l=r.allowDrag,a=t._width,o=t._xPos,r=t.graphics.element,n=t.graphics.dragTracker||u.dragTracker&&u.dragTracker.shift(),null!==s&&l&&r?(s=["M",o,i,"L",o+a,i,"Z"],s={path:s,stroke:De,"stroke-width":g,ishot:!0,cursor:he&&"ns-resize"||"n-resize"},n||(n=t.graphics.dragTracker=p.path(m),n.drag(this.dragMove,this.dragStart,this.dragUp)),n.show().attr(s).data("drag-options",{items:r,yPos:i,chart:c,name:this.JSONData.seriesname,datasetIndex:this.index,pointIndex:h,
dataObj:t}),t.graphics.dragTracker=n):n&&n.hide()},dragStart:function(){var e=this.data("drag-options"),t=e.chart,a=t.config,o=t.components.yAxis[0],t=o.config.axisRange.max,o=o.config.axisRange.min,r=this.getBBox();e.barH=e.items.getBBox().height,e.isAllPositive=0<t&&0<o,e.isAllPositiveZero=0<t&&0<=o,e.isAllNegative=0>t&&0>o,e.isAllNegativeZero=0>=t&&0>o,e.isPositiveNegative=0<t&&0>o,e.boundaryTop=a.canvasTop,e.boundaryBottom=a.canvasTop+a.canvasHeight,e.bBoxY=r.y,e.bBoxY2=r.y2||r.y+r.height,e.startValue=e.dataObj.config.setValue,e.origX=e.lastX||(e.lastX=0),e.origY=e.lastY||(e.lastY=0),e.draged=!1},dragMove:function(e,a){var o=this.data("drag-options"),r=o.items,i=o.dataObj,n=o.chart,s=i.config,l=n.config,h=n.components,d=h.canvas.config,c=h.yAxis[0],p=h.dataset[o.datasetIndex],h=h.numberFormatter,g=c.getPixel(c.getAxisBase()),u={},m=o.bBoxY2+a,f=o.bBoxY+a,x=l.canvasBottom,v=i.config.allowNegDrag?x:g,l=l.canvasTop,b=parseFloat(p.config.plotBorderThickness)||0,d=d.showCanvasBorder,w=o.isAllNegativeZero,y=o.isPositiveNegative,C=i._xPos,k=i._width,A=i.graphics.hotElement,L=i.graphics.element;f<o.boundaryTop&&(a=o.boundaryTop-o.bBoxY),m>v&&(a=v-o.bBoxY2),o.draged||(m={dataIndex:o.pointIndex+1,datasetIndex:o.datasetIndex,startValue:o.startValue,datasetName:o.name},t.raiseEvent("dataplotDragStart",m,n.chartInstance)),m=o.yPos+a,m<=g?(u.y=m,u.height=g-m):(u.y=g,u.height=m-g),d&&!y&&(w?u.y-=u.y-(l-b/2):u.height=x-u.y+b),this.attr({path:["M",C,m,"L",C+k,m]}),r.animate(u),(A||L).data("draged",!0),o.shapeAttr=u,r=o.value=Ne(c.getValue(m-l)),s.setValue=r,c=c.getPixel(c.getAxisBase()),i._yPos=Oe(m,c),i._height=u.height,c=h.dataLabels(r),s.toolTipValue=c,s.displayValue=ee(s.setDisplayValue,c),o.draged=!0,o.lastX=e,o.lastY=a,i.draged=!0,i.lastX=e,i.lastY=a,n=n.config.animationObj,i=n.duration,n.duration=0,p.drawLabel(o.pointIndex,o.pointIndex+1),n.duration=i},dragUp:function(){var e,o,r,i=this.data("drag-options"),n=i.chart,s=n.components,l=s.numberFormatter,h=n.config,s=s.dataset[i.datasetIndex],d=s.config,c=!d.doNotSnap,p=i.dataObj,g=s.yAxis,u=h.canvasTop,m=p.config.setTooltext,f=p.config.origToolText,x=d.snapToDivRelaxation,v=d.snapToDiv,b=p.graphics.hotElement,w=p.graphics.element,y=d.snapToDivOnly,C=p.config,k=C.setValue,d=p.trackerConfig,h=h.showtooltip;i.draged&&(o=e=i.yPos+i.lastY,c&&v&&(o=Me(g.getValue(e+x-u)-k),r=p.config.setValue=g.getClosestDiv(k,y?null:o),o=g.getPixel(r),p._yPos=o,o-e&&s.dragMove.call(this,0,o-i.yPos)),l=C.toolTipValue=l.dataLabels(r),p={dataIndex:i.pointIndex+1,datasetIndex:i.datasetIndex+1,startValue:i.startValue,endValue:p.config.setValue,datasetName:i.name},g=[n.chartInstance.id,p.dataIndex,p.datasetIndex,p.datsetName,p.startValue,p.endValue],t.raiseEvent("dataplotDragEnd",p,n.chartInstance),a.raiseEvent("chartupdated",p,n.chartInstance,g),i.yPos=o,i.lastX+=i.origX,i.lastY+=i.origY,(b||w).data("draged",!1),m=d.eventArgs.toolText=m+(f?"":l),h&&b&&b.attr(i.shapeAttr).tooltip(m),s.setMaxMin(),n._setDataLimits())},getJSONData:function(){var e,t,a,o,r,i=this.JSONData.data,n=this.components.data,s=[],l={};for(r=0,o=i.length;r<o;r++){t=i[r],e=n[r],l={};for(a in t)l[a]="value"===a?e.config.setValue:t[a];s.push(l)}return{data:s}}},"Column"]),FusionCharts.register("component",["datasetGroup","DragColumn",{getJSONData:function(){var e,t,a,o=this.chart,r=o.components.dataset,o=o.jsonData&&o.jsonData.dataset,i=[],n=r.length;for(a=0;a<n;a++)e=r[a],t=ie({},o[a]),delete t.data,e=e.getJSONData(),i.push(ie(t,e));return i}},q]),FusionCharts.register("component",["dataset","DragArea",{configure:function(){var e,t=this.chart.jsonData.chart;e=FusionCharts.get("component",["dataset","area"]);var a,o,r;o=this.JSONData;var i,n=o.data||[];for(e.prototype.configure.call(this),e=this.config,a=this.components.data,e.allowDrag=ae(o.allowdrag,1),e.allowNegDrag=ae(o.allownegativedrag,1),e.allowAxisChange=ae(t.allowaxischange,1),e.snapToDivOnly=ae(t.snaptodivonly,0),e.doNotSnap=ae(t.donotsnap,0),e.snapToDiv=ae(t.snaptodiv,1),e.snapToDivRelaxation=ae(t.snaptodivrelaxation,10),e.doNotSnap&&(e.snapToDiv=e.snapToDivOnly=0),i=a.length,t=0;t<i;t++)r=n[t]||{},o=a[t].config,o.allowDrag=ae(r.allowdrag,e.allowDrag),o.allowNegDrag=ae(r.allownegativedrag,e.allowNegDrag)},drawTracker:function(){var e,t,a,o,r,i,n,s=this.chart,l=this.dragStart,h=FusionCharts.get("component",["dataset","DragArea"]).prototype.dragUp,d=this.dragMove;for(FusionCharts.get("component",["dataset","area"]).prototype.drawTracker.call(this),a=this.components.data,i=a.length,r=0;r<i;r++)e=a[r],o=e.config,n=e._yPos,(t=e.graphics.hotElement)&&o.allowDrag?(o.dragEventListenerAttached||(t.drag(d,l,h),o.dragEventListenerAttached=!0),t.attr({cursor:he&&"ns-resize"||"n-resize",ishot:!0}).data("drag-options",{items:a,yPos:n,chart:s,name:this.JSONData.seriesname,datasetIndex:this.index,pointIndex:r,dataObj:e})):(t&&t.undrag(d,l,h),o.dragEventListenerAttached=!1)},dragStart:function(){var e=this.data("drag-options"),t=e.chart.config;e._origY=e._lastY||(e._lastY=0),e.boundaryTop=t.canvasTop,e.boundaryBottom=t.canvasTop+t.canvasHeight,e.startValue=e.dataObj.config.setValue,e.origY=this.attr("cy"),e.origX=this.attr("cx"),e.draged=!1},dragMove:function(e,a){var o,i,n=this.data("drag-options"),s=n.items,l=n.dataObj,h=n.chart,d=h.config.animationObj,c=h.components,p=c.dataset[n.datasetIndex],g=p.graphics.lineElement,u=c.yAxis[0],m=l._xPos,f=l.config,x=d.duration,c=c.numberFormatter,v=h.config.canvasTop,b=s[n.pointIndex].graphics,w=u.getPixel(u.getAxisBase()),y=l.config.allowNegDrag?n.boundaryBottom:w,w=b.image,C=p.graphics.anchorGroup,k=l.config.anchorProps,A=k.imageUrl,L=b.element,b=l.config.showValue;i=n.origY+a,n.draged||(o={dataIndex:n.pointIndex+1,datasetIndex:n.datasetIndex,startValue:n.startValue,datasetName:n.name},t.raiseEvent("dataplotDragStart",o,h.chartInstance)),i<n.boundaryTop&&(a=n.boundaryTop-n.origY),i>y&&(a=y-n.origY),i=n.origY+a,this.attr({cy:i}),r&&A?w=L:(y=L.data("setRolloverAttr"),(A=L.data("setRolloutAttr"))&&(A.polypath[2]=i),y&&(y.polypath[2]=i),L&&L.attr({polypath:[k.symbol[1]||2,m,i,k.radius,90,0]}),L.data("setRolloverAttr",y),L.data("setRolloutAttr",A)),l._yPos=i,w&&p.updateImage(l,h,C),l=f.setValue=u.getValue(i-v),l=c.dataLabels(l),f.toolTipValue=l,f.displayValue=ee(f.setDisplayValue,l),d.duration=0,b&&p.drawLabel(n.pointIndex),d.duration=x,n.draged=!0,this.data("draged",!0),n.lastY=a,n=p.getLinePath(s,{}),p.config.lastPath=n,g&&g.attr({path:n.getPathArr()})},updateImage:function(e){var t=this.chart,a=e.graphics,a=a.image||a.element,o=e.config,i=o.anchorProps,n=o.hoverEffects,o=a&&a.data("imgRef"),s=function(e){var t,a=e.length,o=Z;for(t=0;t<a;t+=1)o+=" "+e[t];return o},l=i.imageScale,h=t.components.paper,d=o.height*l*.01,c=o.width*l*.01,t=e._xPos;e=e._yPos;var p=n.imageHoverScale,g=o.width*p*.01,u=o.height*p*.01,m=i.radius=i.isAnchorRadius?i.radius:Oe(c,d)/2,f=i.imagePadding,x=m-f-.5*i.borderThickness,f=n.radius-f-.5*n.anchorBorderThickness,m=i.symbol[1],i=h.polypath(m||2,t,e,0<x?x:0,i.startAngle,0).attr({visibility:B}),x=s(i.attrs.path),l={x:t-o.width*l*.005,y:e-o.height*l*.005,width:c,height:d,alpha:100};r||(l["clip-path"]=x),i.remove(),i=h.polypath(m||2,t,e,0<f?f:0,n.startAngle,n.dip),n=s(i.attrs.path),i.remove(),o={x:t-o.width*p*.005,y:e-o.height*p*.005,width:g,height:u,alpha:100},r||(o["clip-path"]=n),a.attr(l),a.data("setRolloverAttr",o),a.data("setRolloutAttr",l)},dragUp:function(){var e,o,r=this.data("drag-options"),i=r.dataObj,n=r.chart,s=n.config,l=n.components.dataset[r.datasetIndex],h=l.config,d=s.showtooltip,c=i.config.setTooltext,p=i.config.setLevelTooltext,g=!h.doNotSnap,u=s.canvasTop,s=l.yAxis,m=h.snapToDivRelaxation,f=h.snapToDivOnly,x=h.snapToDiv;o=i.config.setValue;var v,b=n.components.numberFormatter,h=i.graphics.hotElement;r.draged&&(e=v=r.yPos+r.lastY,g&&x&&(e=Me(s.getValue(v+m-u)-o),e=o=i.config.setValue=s.getClosestDiv(o,f?null:e),(e=s.getPixel(e))-v&&l.dragMove.call(this,0,e-r.yPos)),s=i.config.toolTipValue=b.dataLabels(o),o={dataIndex:r.pointIndex+1,datasetIndex:r.datasetIndex+1,startValue:r.startValue,endValue:o,datasetName:r.name},g=[n.chartInstance.id,o.dataIndex,o.datasetIndex,o.datsetName,o.startValue,o.endValue],t.raiseEvent("dataplotDragEnd",o,n.chartInstance),a.raiseEvent("chartupdated",o,n.chartInstance,g),r.yPos=e,i._yPos=e,c+=p?"":s,h&&h.attr({y:r.yPos}).tooltip(d?c:Z),r._lastY=r.lastY+r._origY,r.lastY+=r.origY,this.data("draged",!1),l.setMaxMin(),n._setDataLimits())},getJSONData:function(){var e,t,a,o,r,i=this.JSONData.data,n=this.components.data,s=[],l={};for(r=0,o=i.length;r<o;r++){e=i[r],t=n[r],l={};for(a in e)l[a]="value"===a?t.config.setValue:e[a];s.push(l)}return{data:s}}},"Area"]),FusionCharts.register("component",["datasetGroup","DragArea",{getJSONData:function(){var e,t,a,o=this.chart,r=o.components.dataset,o=o.jsonData&&o.jsonData.dataset,i=[],n=r.length;for(a=0;a<n;a++)e=r[a],t=ie({},o[a]),delete t.data,e=e.getJSONData(),i.push(ie(t,e));return i}},"area"]),FusionCharts.register("component",["dataset","DragLine",{configure:FusionCharts.get("component",["dataset","DragArea"]).prototype.configure,drawTracker:FusionCharts.get("component",["dataset","DragArea"]).prototype.drawTracker,dragStart:function(){var e=this.data("drag-options"),t=e.chart.config;e._origY=e._lastY||(e._lastY=0),e.boundaryTop=t.canvasTop,e.boundaryBottom=t.canvasTop+t.canvasHeight,e.startValue=e.dataObj.config.setValue,e.origY=this.attr("cy"),e.origX=this.attr("cx"),e.latestY=e.origY,e.draged=!1},dragMove:function(e,a){var o,i,n=this.data("drag-options"),s=n.items,l=s[n.pointIndex],h=n.dataObj,d=h.config,c=n.chart,p=c.components,g=p.dataset[n.datasetIndex],u=FusionCharts.get("component",["dataset","DragArea"]),m=c.config.animationObj,f=p.yAxis[0],x=h._xPos,v=m.duration,b=p.numberFormatter,w=c.config.canvasTop,y=l.graphics,l=f.getPixel(f.getAxisBase()),C=h.config.allowNegDrag?n.boundaryBottom:l,k=y.image,A=h.config.anchorProps,L=A.imageUrl,l=g.graphics.lineElement,p=h.config.showValue,S=s.length,y=y.element;for(i=n.origY+a,n.draged||(o={dataIndex:n.pointIndex+1,datasetIndex:n.datasetIndex,startValue:n.startValue,datasetName:n.name},t.raiseEvent("dataplotDragStart",o,c.chartInstance)),i<n.boundaryTop&&(a=n.boundaryTop-n.origY),i>C&&(a=C-n.origY),i=n.origY+a,this.attr({cy:i}),r&&L?k=y:(C=y.data("setRolloverAttr"),(c=y.data("setRolloutAttr"))&&(c.polypath[2]=i),C&&(C.polypath[2]=i),y&&y.attr({polypath:[A.symbol[1]||2,x,i,A.radius,90,0]}),y.data("setRolloverAttr",C),y.data("setRolloutAttr",c)),h._yPos=i,k&&u.prototype.updateImage.call(g,h),n.latestY=i,h._yPos=i,h=d.setValue=f.getValue(i-w),h=b.dataLabels(h),d.toolTipValue=h,d.displayValue=ee(d.setDisplayValue,h),d=0;d<S;d++)y=s[d].graphics,(h=y.connector)&&(f=s[d],u=f.config.connStartIndex,f=f.config.connEndIndex,u=g.getLinePath(s,{},{begin:u,end:f+1}),h.attr({path:u.getPathArr()}));l&&(d=g.config,u=d.pathStartIndex,f=d.pathEndIndex,u=g.getLinePath(s,{},{begin:u,end:f}),l.attr({path:u.getPathArr()})),m.duration=0,p&&g.drawLabel(n.pointIndex),m.duration=v,n.draged=!0,this.data("draged",!0),n.lastY=a},getJSONData:function(){var e,t,a,o,r,i=this.JSONData.data,n=this.components.data,s=[],l={};for(r=0,o=i.length;r<o;r++){e=i[r],a=n[r],l={};for(t in e)l[t]="value"===t?a.config.setValue:e[t];s.push(l)}return{data:s}}},Y]),ot("selectscatter",{isXY:!0,hasLegend:!0,applicableDSList:{selectScatter:!0},friendlyName:"Dragable Scatter Chart",standaloneInit:!0,creditLabel:!1,defaultDatasetType:"selectScatter",defaultZeroPlaneHighlighted:!1,configure:ot.dragbase.configure,_createToolBox:ot.dragbase._createToolBox,_manageActionBarSpace:ot.dragbase._manageActionBarSpace,drawActionBar:ot.dragbase.drawActionBar,getData:function(e){var a,o=this.getCollatedData(),r=[],i=o.dataset,n=i&&i.length||0,s=0,l=0;if(e)r=/^json$/gi.test(e)?o:/^csv$/gi.test(e)?this.getCSVString():t.core.transcodeData(o,"json",e);else for(;s<n;s+=1)if(o=i[s]){for((a=e=(o=i[s]&&i[s].data)&&o.length||0)&&(r[l]||(r[l]=[te(i[s].id,"null")]));a--;)r[l][a+1]=te(o[a].id,"null");e&&(l+=1)}return r},getCSVString:function(){for(var e=this.getData(),t=e.length;t--;)e[t]=e[t].join(",");return e.join("|")},getCollatedData:function(){for(var e,a,o,r,i,n,s,l,h,d=this.config._selectEleArr,c=d&&d.length,p=ie({},this.chartInstance.getChartData(t.dataFormats.JSON)),g=p.dataset,u=[];c--;)if(e=d[c])for(n=e.startX,s=e.endX,l=e.startY,h=e.endY,r=g.length;r--;)for(u[r]||(u[r]={data:[]}),i=(o=g[r].data)&&o.length;i--;)a=o[i],e=a.x,a=a.y,e>n&&e<s&&a<l&&a>h&&(u[r].data[i]=!0);for(r=g.length;r--;)for(i=(o=g[r].data)&&o.length;i--;)u[r]&&u[r].data[i]||o.splice(i,1);return this.updatedDataObj=p},createSelectionBox:function(e){var t=e.chart,a=t.components,o=a.paper,r=t.config,i=a.yAxis&&a.yAxis[0],a=a.xAxis&&a.xAxis[0],n=e.selectionLeft,s=e.selectionTop,l=e.selectionWidth;e=e.selectionHeight;var h=n+l,d=s+e,c=15<l&&15<e,p={resizeEleRadius:15,canvasTop:r.canvasTop,canvasRight:r.canvasLeft+r.canvasWidth,canvasLeft:r.canvasLeft,canvasBottom:r.canvasTop+r.canvasHeight},g=t.graphics.trackerGroup,u=r._selectEleArr||(r._selectEleArr=[]);p.index=u.length,p.id="SELECT_"+p.index,p.selectBoxG=g=o.group("selection-box",g).toFront(),p.selectBoxTracker=o.rect(n,s,l,e,g).attr({"stroke-width":1,stroke:se(r.selectBorderColor),ishot:!0,fill:r.selectFillColor}).css({cursor:"move"}),p.selectBoxTracker.data(y,{position:6,selectEleObj:p,xChange:!0,yChange:!0}),p.topTracker=o.rect(n,s-6,l,12,g).attr({"stroke-width":0,ishot:!0,fill:De}).css("cursor",he&&"ns-resize"||"n-resize"),p.topTracker.data(y,{position:1,selectEleObj:p,yChange:!0}),p.rightTracker=o.rect(n+l-6,s,12,e,g).attr({"stroke-width":0,ishot:!0,fill:De}).css("cursor",he&&"ew-resize"||"w-resize"),p.rightTracker.data(y,{position:2,selectEleObj:p,xChange:!0}),p.bottomTracker=o.rect(n,s+e-6,l,12,g).attr({"stroke-width":0,ishot:!0,fill:De}).css("cursor",he&&"ns-resize"||"n-resize"),p.bottomTracker.data(y,{position:3,selectEleObj:p,yChange:!0}),p.leftTracker=o.rect(n-6,s,12,e,g).attr({"stroke-width":0,ishot:!0,fill:De}).css("cursor",he&&"ew-resize"||"e-resize"),p.leftTracker.data(y,{position:4,selectEleObj:p,xChange:!0}),p.cornerInnerSymbol=o.symbol("resizeIcon",0,0,15,g).attr({transform:"t"+h+","+d,"stroke-width":1,visibility:c?Pe:B,ishot:!0,stroke:"#999999"}),p.cornerOuterSymbol=o.symbol("resizeIcon",0,0,-12,g).attr({transform:"t"+h+","+d,strokeWidth:1,visibility:c?B:Pe,ishot:!0,stroke:"#777777"}),p.resizeTracker=o.circle(h,d,12,g).attr({"stroke-width":1,stroke:De,ishot:!0,fill:De}).css("cursor",he&&"nwse-resize"||"nw-resize"),p.resizeTracker.data(y,{position:5,selectEleObj:p,yChange:!0,xChange:!0}),p.closeButton=o.symbol("closeIcon",0,0,6,g).attr({transform:"t"+h+","+s,"stroke-width":2,stroke:r.selectionCancelButtonBorderColor,fill:r.selectionCancelButtonFillColor,"stroke-linecap":N,ishot:!0,"stroke-linejoin":N}).css({cursor:"pointer",_cursor:"hand"}).click(function(){t.deleteSelection(this,t)}),p.closeButton.data(y,{index:p.index}),p.chart=t,p.startX=a.getValue(n-r.canvasLeft),p.startY=i.getValue(s-r.canvasTop),p.endX=a.getValue(h-r.canvasLeft),p.endY=i.getValue(d-r.canvasTop),p.isVisible=!0,u.push(p),t.bindDragEvent(p)},_deleteAllSelection:function(){var e,t,a,o,r=this.config._selectEleArr;for(a in r)if(r.hasOwnProperty(a)){e=r[a];for(o in e)e.hasOwnProperty(o)&&(t=e[o],t.remove&&t.remove(),delete e[o]);delete r[a]}},deleteSelection:function(e,a){var o,r,i=e.data(y).index,n=a.components,s=a.config._selectEleArr,l=s[i];r=l.selectBoxTracker.getBBox(),r={selectionLeft:r.x,selectionTop:r.y,selectionWidth:r.width,selectionHeight:r.height,startXValue:n.xAxis[0].getAxisPosition(r.x,1),startYValue:n.yAxis[0].getAxisPosition(r.y,1),endXValue:n.xAxis[0].getAxisPosition(r.x+r.width,1),endYValue:n.yAxis[0].getAxisPosition(r.y+r.height,1),data:a.getCollatedData(),id:l.id};for(o in l)l.hasOwnProperty(o)&&(n=l[o],n.remove&&n.remove(),delete l[o]);delete s[i],t.raiseEvent("selectionRemoved",r,a.chartInstance)},bindDragEvent:function(e){for(var t in e)/Tracker/.test(t)&&e[t].drag(this.move,this.start,this.up)},start:function(){var e=this.data(y).selectEleObj,t=e.topTracker,a=e.rightTracker,o=e.bottomTracker,r=e.leftTracker,i=e.resizeTracker,n=t.data(y),s=a.data(y),l=o.data(y),h=r.data(y),d=i.data(y),c=e.selectBoxTracker.data(y),p=e.selectBoxTracker.getBBox();n.ox=p.x,n.oy=p.y,s.ox=p.x2,s.oy=p.y,l.ox=p.x,l.oy=p.y2,h.ox=p.x,h.oy=p.y,n.ox=p.x,n.oy=p.y,d.ox=p.x2,d.oy=p.y2,c.ox=p.x,c.oy=p.y,c.ow=p.width,c.oh=p.height,c.ox2=p.x2,c.oy2=p.y2,e.selectBoxG.toFront(),t.hide(),a.hide(),o.hide(),r.hide(),i.hide(),this.show()},move:function(e,a){var o,r,i=this.data(y),n=i.selectEleObj,s=n.chart,l=s.config,h=s.components,d=n.topTracker,c=n.rightTracker,p=n.bottomTracker,g=n.leftTracker,u=n.resizeTracker,m=n.selectBoxTracker,f=n.canvasLeft,x=n.canvasRight,v=n.canvasTop,b=n.canvasBottom,w=m.data(y),C={};switch(e=i.xChange?e:0,a=i.yChange?a:0,o=e+i.ox,r=a+i.oy,o=Oe(x-(i.ow||0),Fe(o,f)),r=Oe(b-(i.oh||0),Fe(r,v)),i.position){case 1:C.y=Oe(w.oy2,r),C.height=Me(w.oy2-r)||1,d.attr({y:r+-6});break;case 2:C.x=Oe(w.ox,o),C.width=Me(w.ox-o)||1,c.attr({x:o+-6});break;case 3:C.y=Oe(w.oy,r),C.height=Me(w.oy-r)||1,p.attr({y:r+-6});break;case 4:C.x=Oe(w.ox2,o),C.width=Me(w.ox2-o)||1,g.attr({x:o+-6});break;case 5:C.x=Oe(w.ox,o),C.width=Me(w.ox-o)||1,C.y=Oe(w.oy,r),C.height=Me(w.oy-r)||1,u.attr({cx:o,cy:r});break;default:C.x=o,C.y=r}this.data("dragStarted")||(i=m.getBBox(),l={selectionLeft:i.x,selectionTop:i.y,selectionWidth:i.width,selectionHeight:i.height,startXValue:h.xAxis[0].getValue(i.x-l.canvasLeft),startYValue:h.yAxis[0].getValue(i.y-l.canvasTop),endXValue:h.xAxis[0].getValue(i.x+i.width-l.canvasLeft),endYValue:h.yAxis[0].getValue(i.y+i.height-l.canvasTop),id:n.id},t.raiseEvent("BeforeSelectionUpdate",l,s.chartInstance),this.data("dragStarted",1)),m.animate(C),n.isVisible&&(n.closeButton.hide(),n.cornerInnerSymbol.hide(),n.cornerOuterSymbol.hide(),n.isVisible=!1)},up:function(){var e,a,o=this,r=o.data(y).selectEleObj,i=r.chart,n=i.components,s=i.config,l=n.xAxis&&n.xAxis[0],h=n.yAxis&&n.yAxis[0],d=r.topTracker,c=r.rightTracker,p=r.bottomTracker,g=r.leftTracker,u=r.resizeTracker,m=r.selectBoxTracker;setTimeout(function(){e=m.getBBox(),r.startX=l.getValue(e.x-s.canvasLeft),r.startY=h.getValue(e.y-s.canvasTop),r.endX=l.getValue(e.x2-s.canvasLeft),r.endY=h.getValue(e.y2-s.canvasTop),d.attr({x:e.x,y:e.y+-6,width:e.width}),c.attr({x:e.x2+-6,y:e.y,height:e.height}),p.attr({x:e.x,y:e.y2+-6,width:e.width}),g.attr({x:e.x+-6,y:e.y,height:e.height}),u.attr({cx:e.x2,cy:e.y2}),r.closeButton.transform("t"+e.x2+","+e.y),r.cornerInnerSymbol.transform("t"+e.x2+","+e.y2),r.cornerOuterSymbol.transform("t"+e.x2+","+e.y2),r.closeButton.show(),15>e.width||15>e.height?(r.cornerInnerSymbol.hide(),r.cornerOuterSymbol.show()):(r.cornerInnerSymbol.show(),r.cornerOuterSymbol.hide()),r.isVisible=!0,d.show(),c.show(),p.show(),g.show(),u.show(),o.data("dragStarted")&&(a={selectionLeft:e.x,selectionTop:e.y,selectionWidth:e.width,selectionHeight:e.height,startXValue:n.xAxis[0].getValue(e.x-s.canvasLeft),startYValue:n.yAxis[0].getValue(e.y-s.canvasTop),endXValue:n.xAxis[0].getValue(e.x+e.width-s.canvasLeft),endYValue:n.yAxis[0].getValue(e.y+e.height-s.canvasTop),data:i.getCollatedData(),id:r.id},t.raiseEvent("SelectionUpdated",a,i.chartInstance),o.data("dragStarted",0))},100)},restoreData:function(){var e,t=this.components.dataset;for(this._deleteAllSelection(),e=0;e<t.length;e++)t[e].draw();return a.raiseEvent("dataRestored",{},this.chartInstance,[this.chartInstance.id]),!0},submitData:function(){var e,o,r,n,s,l=this.chartInstance,h=new t.ajax,d=this.config,c=t.dataFormats.JSON,p=t.dataFormats.CSV,g=t.dataFormats.XML,u=d.formAction||"",m=d.submitFormAsAjax;d.formDataFormat===c?(e=c,o=JSON.stringify(this.getCollatedData())):this.formDataFormat===p?(e=p,void 0===(o=l.getCSVString&&l.getCSVString())&&(o=t.core.transcodeData(this.getCollatedData(),c,p))):(e=g,o=t.core.transcodeData(this.getCollatedData(),c,g)),t.raiseEvent("beforeDataSubmit",{data:o},l,void 0,function(){m?(h.onError=function(e,t,r,i){a.raiseEvent("dataSubmitError",{xhrObject:t.xhr,url:i,statusText:e,httpStatus:t.xhr&&t.xhr.status?t.xhr.status:-1,data:o},l,[l.id,e,t.xhr&&t.xhr.status])},h.onSuccess=function(e,t,r,i){a.raiseEvent("dataSubmitted",{xhrObject:h,response:e,url:i,data:o},l,[l.id,e])},r={},r["str"+e.toUpperCase()]=o,h.open&&h.abort(),h.post(u,r)):(n=i.document.createElement("span"),n.innerHTML='<form style="display:none" action="'+u+'" method="'+d.formMethod+'" target="'+d.formTarget+'"> <input type="hidden" name="strXML" value="'+ht(o)+'"><input type="hidden" name="dataFormat" value="'+e.toUpperCase()+'" /></form>',s=n.removeChild(n.firstChild),i.document.body.appendChild(s),s.submit&&s.submit(),s.parentNode.removeChild(s),n=s=null)},function(){t.raiseEvent("dataSubmitCancelled",{data:o},l)})},_postSpaceManagement:function(){ot("mscartesian")._postSpaceManagement.call(this),this._deleteAllSelection()},eiMethods:{getData:function(e){var t=this.apiInstance;return t&&t.getData(e)},restoreData:function(){var e=this.apiInstance;return e&&e.restoreData()},submitData:function(){var e=this.apiInstance;return e&&e.submitData()}}},ot.scatterBase),FusionCharts.register("component",["dataset","selectScatter",{configure:function(){var e=this.chart,a=e.config,o=e.jsonData.chart,e=e.components.colorManager,r=ee(o.selectbordercolor,e.getColor("canvasBorderColor")),i=ae(o.selectborderalpha,e.getColor("canvasBorderAlpha"));FusionCharts.get("component",["dataset","scatter"]).prototype.configure.call(this),a.selectBorderColor={FCcolor:{color:r,alpha:i}},a.selectFillColor=$e(ee(o.selectfillcolor,e.getColor(b)),ae(o.selectfillalpha,e.getColor(w))),a.selectionCancelButtonBorderColor=$e(ee(o.selectioncancelbuttonbordercolor,r),ae(o.selectioncancelbuttonborderalpha,i)),a.selectionCancelButtonFillColor=$e(ee(o.selectioncancelbuttonfillcolor,c),ae(o.selectioncancelbuttonfillalpha,100)),a.connativeZoom=!1,a.zoomType="xy",a.formAction=te(o.formaction),o.submitdataasxml!==F||o.formdataformat||(o.formdataformat=t.dataFormats.CSV),a.formDataFormat=ee(o.formdataformat,t.dataFormats.XML),a.formTarget=ee(o.formtarget,"_self"),a.formMethod=ee(o.formmethod,"POST"),a.submitFormAsAjax=ae(o.submitformusingajax,1)},draw:function(){var e=this.chart,a=e.linkedItems.container;FusionCharts.get("component",["dataset","scatter"]).prototype.draw.call(this),at(e,{selectionStart:function(e){var o=st(a,e.originalEvent),o=ie({selectionLeft:e.selectionLeft,selectionTop:e.selectionTop,selectionWidth:e.selectionWidth,selectionHeight:e.selectionHeight,startXValue:e.chart.components.xAxis[0].getAxisPosition(e.selectionLeft,1),startYValue:e.chart.components.yAxis[0].getAxisPosition(e.selectionTop,1)},o);t.raiseEvent("selectionStart",o,e.chart.chartInstance)},selectionEnd:function(e){var o=st(a,e.originalEvent),r=e.chart.components.xAxis[0],i=e.chart.components.yAxis[0],o=ie({selectionLeft:e.selectionLeft,selectionTop:e.selectionTop,selectionWidth:e.selectionWidth,selectionHeight:e.selectionHeight,startXValue:r.getAxisPosition(e.selectionLeft,1),startYValue:i.getAxisPosition(e.selectionTop,1),endXValue:r.getAxisPosition(e.selectionLeft+e.selectionWidth,1),endYValue:i.getAxisPosition(e.selectionTop+e.selectionHeight,1)},o);t.raiseEvent("selectionEnd",o,e.chart.chartInstance),e.chart.createSelectionBox(e)}})}},"scatter"]),ot("candlestick",{friendlyName:"Candlestick Chart",standaloneInit:!0,creditLabel:!1,paletteIndex:3,defaultDatasetType:"candlestick",hasLegend:!0,applicableDSList:{candlestick:!0},canvasborderthickness:1,hasInteractiveLegend:!1,init:function(e,t,a,o){var r;this.jsonData=t,r=this.components=this.components||(this.components={}),r.canvasVolume=r.canvasVolume||(r.canvasVolume={graphics:{},config:{}}),ot.mscartesian.init.call(this,e,t,a,o)},configure:function(){var e,t,a,o=this.components.colorManager,r=this.jsonData.chart,i=this.components;this.base.configure.call(this),e=this.config,a=i.canvas.config,e.showVolumeChart=ae(r.showvolumechart,1),t=ae(r.volumeheightpercent,40),e.volumeHeightPercent=20>t?20:80<t?80:t,e.canvasBorderWidth=ae(r.canvasborderthickness,1),e.rollOverBandColor=$e(ee(r.rolloverbandcolor,o.getColor(b)),ee(r.rolloverbandalpha,o.getColor(w))),ie(i.canvasVolume.config,a)},_createDatasets:function(){var e,t,a,o,r,i,n,s,l=this.config,h=this.components,d=this.jsonData,c=d.dataset,p=d.trendset||[],g=this.config.showVolumeChart,u=c&&c.length,m=this.defaultDatasetType,f=ee(re(d.chart.plotpriceas),q),x=0,v=l.datasetMap||(l.datasetMap={trendset:[],candlestick:[]}),b={},w={trendset:[],candlestick:[]},y=h.legend;if(c){for(this.config.categories=d.categories&&d.categories[0].category,e=h.dataset=[],d=0,u=c.length;d<u;d++)r=c[d],r.seriesname&&(r.seriesname=re(r.seriesname)),a=(a=ee(r.renderas,m))&&a.toLowerCase(),o=FusionCharts.get("component",["dataset",a]),s=v[a],t=s[0],o&&(void 0===b[a]?b[a]=0:b[a]++,t?(i=t,t.index=d,f!==i.config.plotType?(Le.call(i),t=e[x]=new o,t.chart=this,t.index=x,t.init(r)):(i=(i=t.JSONData)&&i.data&&i.data.length,n=r.data&&r.data.length,i>n&&t.removeData(n-1,i-n,!1),t.JSONData=r),t.configure(),w[a].push(t),e.push(t),s.shift()):(t=new o,e.push(t),w[a].push(t),t.chart=this,t.index=x,t.init(r))),x++,s=h.yAxis&&h.yAxis[1],g&&this.config.drawVolume?(s&&s.show(),o&&(void 0===b[a]?b[a]=0:b[a]++,s=v[a],(t=s[0])?(i=(i=t.JSONData)&&i.data&&i.data.length,n=r.data&&r.data.length,i>n&&t.removeData(n-1,i-n,!1),t.JSONData=r,t.configure(),e.push(t),w[a].push(t),s.shift()):(t=new o,t.chart=this,e.push(t),w[a].push(t),t.init(r,K))),x++):s&&s.hide(),g=this.config.drawVolume&&g?this.config.showVolumeChart=1:this.config.showVolumeChart=0;for(d=0,u=p.length;d<u;d++)r=p[d],a="trendset",s=v[a],t=s[0],void 0===b[a]?b[a]=0:b[a]++,t?(i=(i=t.JSONData)&&i.data&&i.data.length,n=r.data&&r.data.length,w[a].push(t),e.push(t),t.index=x,i>n&&t.removeData(n-1,i-n,!1),t.JSONData=r,t.configure(),s.shift()):(o=FusionCharts.get("component",["dataset",a]),h=new o,e.push(h),w[a].push(h),h.chart=this,h.index=x,h.init(r)),x++;for(c in v)if(s=v[c],u=s.length)for(p=0;p<u;p++)y.removeItem(s[p].legendItemId),Le.call(s[p]);l.datasetMap=w}else this.setChartMessage()},_spaceManager:function(){var e,t,a,o=this.config,r=this.components,i=o.legendPosition,n=r.xAxis&&r.xAxis[0],s=r.xAxis&&r.xAxis[1],l=r.yAxis&&r.yAxis[0],h=r.yAxis&&r.yAxis[1];t=this.hasLegend;var d,c=r.legend,p=this.config.showVolumeChart,g=p?o.volumeHeightPercent:0,u=r.canvas.config,m=r.canvasVolume.config,f=o.width,x=o.height,v={};e=o.chartBorderWidth,r=r.canvas.config.canvasBorderWidth,d=o.minCanvasHeight,a=o.minCanvasWidth;var b,w,y=o.canvasMarginLeft,C=o.canvasMarginRight,k=o.canvasMarginTop,A=o.canvasMarginBottom,L=o.origCanvasTopMargin,S=o.origCanvasBottomMargin,D=o.origCanvasLeftMargin,T=o.origCanvasRightMargin;this._allocateSpace({top:e,bottom:e,left:e,right:e}),e=.225*o.availableHeight,e=this._manageActionBarSpace&&this._manageActionBarSpace(e)||{},this._allocateSpace(e),e=i===et?.225*o.canvasWidth:.3*o.canvasHeight,!1!==t&&n&&this._allocateSpace(c._manageLegendPosition(e)),t=.7*o.canvasWidth,l=l.placeAxis(t),h=p?h.placeAxis(t):{},v.left=Fe(l.left,h.left||0),v.right=Fe(l.right,h.right||0),this._allocateSpace(v),a>f-y-C&&(w=!0,h=o.canvasWidth-a,v=y+C,y=o.canvasMarginLeft=h*y/v,C=o.canvasMarginRight=h*C/v),y=y>o.canvasLeft?y-o.canvasLeft:0,f=C>f-o.canvasRight?C+o.canvasRight-f:0,this._allocateSpace({left:y,right:f}),w&&(v=D+T,w=o.canvasWidth,w>a&&(h=w-a,y=h*D/v,f=h*T/v),this._allocateSpace({left:y,right:f})),a=i===j?.6*o.canvasHeight:.6*o.canvasWidth,this._manageChartMenuBar(a),this._allocateSpace({top:o.canvasMarginTop,bottom:o.canvasMarginBottom}),a=.3*o.canvasHeight,i=n.placeAxis(a),n&&this._allocateSpace(i),i.bottom+=6,p&&(n=s.placeAxis(a),this._allocateSpace(n)),this._allocateSpace({top:r,bottom:2*r,left:r,right:r}),d>x-k-A&&(b=!0,h=o.canvasHeight-d,v=k+A,k=o.canvasMarginTop=h*k/v,A=o.canvasMarginBottom=h*A/v),n=k>o.canvasTop?k-o.canvasTop:0,x=A>x-o.canvasBottom?A+o.canvasBottom-x:0,this._allocateSpace({top:n,bottom:x}),b&&(v=L+S,b=o.canvasHeight,b>d&&(h=b-d,n=h*L/v,x=h*S/v),this._allocateSpace({top:n,bottom:x})),d=o.canvasHeight,u.canvasHeight=Ne((100-g)/100*d),m.canvasHeight=g/100*d,u.canvasTop=o.canvasTop,u.canvasLeft=o.canvasLeft,u.canvasBottom=u.canvasTop+u.canvasHeight,u.canvasWidth=o.canvasWidth,u.canvasRight=o.canvasRight,m.canvasTop=u.canvasBottom+i.bottom+2*r,m.canvasLeft=o.canvasLeft,m.canvasBottom=m.canvasTop+m.canvasHeight+2*r,m.canvasRight=o.canvasRight,m.canvasWidth=o.canvasWidth,g=o.canvasTop+u.canvasHeight+r,o=o.canvasTop+u.canvasHeight+i.bottom+2*r,u.canvasY=g,m.canvasY=o},_postSpaceManagement:function(){var e=this.components,t=this.config.showVolumeChart,a=e.xAxis&&e.xAxis[0],o=e.yAxis&&e.yAxis[0],r=e.xAxis&&e.xAxis[1],i=e.yAxis&&e.yAxis[1],n=e.canvas.config,s=e.legend,e=e.canvasVolume.config,l=n.canvasBorderWidth;a&&a.setAxisDimention({x:n.canvasLeft,y:n.canvasY,opposite:n.canvasTop-l,axisLength:n.canvasWidth}),o&&o.setAxisDimention({x:n.canvasLeft-l,y:n.canvasTop,opposite:n.canvasRight+l,axisLength:n.canvasHeight}),t&&(r&&r.setAxisDimention({x:n.canvasLeft,y:e.canvasBottom,opposite:e.canvasTop-l,axisLength:n.canvasWidth}),i&&i.setAxisDimention({x:n.canvasLeft-l,y:e.canvasY,opposite:e.canvasRight+l,axisLength:e.canvasHeight}),r&&r.setCanvas(e),i&&i.setCanvas(e)),a.setCanvas(n),o.setCanvas(n),s.postSpaceManager()},_drawCanvas:function(){var e,t=this.components,a=this.graphics,o=t.paper,r=t.canvas,i=t.canvas.config,n=i.clip||(i.clip=[]),s=t.canvasVolume.config,l=r.graphics,t=t.canvasVolume.graphics,h=r.config,d=l.topCanvas,c=l.topCanvasBorderElement,r=t.volumeCanvas,p=i.canvasLeft,g=i.canvasTop,u=i.canvasWidth,i=i.canvasHeight,m=s.canvasTop,s=s.canvasHeight,a=a.canvasGroup,f=h.canvasBorderRadius,x=h.canvasBorderWidth,v=.5*x,b=h.canvasBorderColor,w=this.get(y,C),k=w.dummyObj,A=w.animObj,L=w.animType,w=w.transposeAnimDuration,S=this.config.showVolumeChart,D=h.shadow,T=h.shadowOnCanvasFill,h=h.canBGColor;e={x:p-v,y:g-v,width:u+x,height:i+x,r:f,"stroke-width":x,stroke:b,"stroke-linejoin":2<x?N:I},c?w?c.animateWith(k,A,{x:p-v,y:g-v,width:u+x,height:i+x,r:f},w,L):c.attr(e):c=l.topCanvasBorderElement=o.rect(e,a).shadow(D),c.attr({"stroke-width":x,stroke:b,"stroke-linejoin":2<x?N:I}),n["clip-canvas"]=[Fe(0,p),Fe(0,g),Fe(1,u),Fe(1,i)],n["clip-canvas-init"]=[Fe(0,p),Fe(0,g),1,Fe(1,i)],d?w?d.animate({x:p,y:g,width:u,height:i},w,L).attr({r:f}):d.attr(void 0):(l.topCanvas=d=o.rect(a),d.attr({x:p,y:g,width:u,height:i}).shadow(T)),d.animateWith(k,A,{x:p,y:g,width:u,height:i},w,L),d.attr({r:f,"stroke-width":0,stroke:"none",fill:se(h)}),S?(n={x:p-v,y:m-v-1,width:u+x,height:s+x},r||(t.volumeCanvas=r=o.rect(a).attr(n).shadow(T).crisp()),r.show().animateWith(k,A,n,w,L).attr({r:f,fill:se(h),"stroke-width":x,stroke:b,"stroke-linejoin":2<x?N:I,"shape-rendering":"crisp"})):r&&r.hide()},_createAxes:function(){var e,t,a,o=this.components,r=FusionCharts.register("component",["axis","cartesian"]),i=this.config.showVolumeChart;o.yAxis=[],o.xAxis=[],o.yAxis[0]=t=new r,o.yAxis[1]=e=new r,o.xAxis[0]=a=new r,t.chart=this,e.chart=this,a.chart=this,i&&(o.xAxis[1]=o=new r,o.chart=this,o.init()),t.init(),e.init(),a.init(),this._setCategories()},_feedAxesRawData:function(){var e,t,a=this.components,o=a.colorManager,r=this.jsonData,i=r.chart,n=this.is3d,s=n?we.chart3D:we.chart2D,l=FusionCharts.register("component",["axis","cartesian"]),h=this.config.showVolumeChart;e={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.xaxisnamepadding,axisValuePadding:i.labelpadding,axisNameFont:i.xaxisnamefont,axisNameFontSize:i.xaxisnamefontsize,axisNameFontColor:i.xaxisnamefontcolor,axisNameFontBold:i.xaxisnamefontbold,axisNameFontItalic:i.xaxisnamefontitalic,axisNameBgColor:i.xaxisnamebgcolor,axisNameBorderColor:i.xaxisnamebordercolor,axisNameAlpha:i.xaxisnamealpha,axisNameFontAlpha:i.xaxisnamefontalpha,axisNameBgAlpha:i.xaxisnamebgalpha,
axisNameBorderAlpha:i.xaxisnameborderalpha,axisNameBorderPadding:i.xaxisnameborderpadding,axisNameBorderRadius:i.xaxisnameborderradius,axisNameBorderThickness:i.xaxisnameborderthickness,axisNameBorderDashed:i.xaxisnameborderdashed,axisNameBorderDashLen:i.xaxisnameborderdashlen,axisNameBorderDashGap:i.xaxisnameborderdashgap,useEllipsesWhenOverflow:i.useellipseswhenoverflow,divLineColor:ee(i.vdivlinecolor,i.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:ee(i.vdivlinealpha,i.divlinealpha,n?o.getColor(m):o.getColor(f)),divLineThickness:ae(i.vdivlinethickness,i.divlinethickness,1),divLineIsDashed:!!ae(i.vdivlinedashed,i.vdivlineisdashed,i.divlinedashed,i.divlineisdashed,0),divLineDashLen:ae(i.vdivlinedashlen,i.divlinedashlen,4),divLineDashGap:ae(i.vdivlinedashgap,i.divlinedashgap,2),showAlternateGridColor:ae(i.showalternatevgridcolor,0),alternateGridColor:ee(i.alternatevgridcolor,o.getColor(x)),alternateGridAlpha:ee(i.alternatevgridalpha,o.getColor(v)),numDivLines:i.numvdivlines,labelFont:i.labelfont,labelFontSize:i.labelfontsize,labelFontColor:i.labelfontcolor,labelFontAlpha:i.labelalpha,labelFontBold:i.labelfontbold,labelFontItalic:i.labelfontitalic,axisName:i.xaxisname,axisMinValue:i.xaxisminvalue,axisMaxValue:i.xaxismaxvalue,setAdaptiveMin:i.setadaptivexmin,adjustDiv:i.adjustvdiv,labelDisplay:i.labeldisplay,showLabels:i.showlabels,rotateLabels:i.rotatelabels,slantLabel:ae(i.slantlabels,i.slantlabel),labelStep:ae(i.labelstep,i.xaxisvaluesstep),showAxisValues:ae(i.showxaxisvalues,i.showxaxisvalue),showLimits:i.showvlimits,showDivLineValues:ae(i.showvdivlinevalues,i.showvdivlinevalues),showZeroPlane:i.showvzeroplane,zeroPlaneColor:i.vzeroplanecolor,zeroPlaneThickness:i.vzeroplanethickness,zeroPlaneAlpha:i.vzeroplanealpha,showZeroPlaneValue:i.showvzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showxaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.xaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.xaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.xaxislinecolor,i.axislinecolor,g)},n={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.xaxisnamepadding,axisValuePadding:i.labelpadding,axisNameFont:i.xaxisnamefont,axisNameFontSize:i.xaxisnamefontsize,axisNameFontColor:i.xaxisnamefontcolor,axisNameFontBold:i.xaxisnamefontbold,axisNameFontItalic:i.xaxisnamefontitalic,axisNameBgColor:i.xaxisnamebgcolor,axisNameBorderColor:i.xaxisnamebordercolor,axisNameAlpha:i.xaxisnamealpha,axisNameFontAlpha:i.xaxisnamefontalpha,axisNameBgAlpha:i.xaxisnamebgalpha,axisNameBorderAlpha:i.xaxisnameborderalpha,axisNameBorderPadding:i.xaxisnameborderpadding,axisNameBorderRadius:i.xaxisnameborderradius,axisNameBorderThickness:i.xaxisnameborderthickness,axisNameBorderDashed:i.xaxisnameborderdashed,axisNameBorderDashLen:i.xaxisnameborderdashlen,axisNameBorderDashGap:i.xaxisnameborderdashgap,useEllipsesWhenOverflow:i.useellipseswhenoverflow,divLineColor:ee(i.vdivlinecolor,o.getColor(s.divLineColor)),divLineAlpha:ee(i.vdivlinealpha,o.getColor(f)),divLineThickness:ae(i.vdivlinethickness,1),divLineIsDashed:!!ae(i.vdivlinedashed,i.vdivlineisdashed,0),divLineDashLen:ae(i.vdivlinedashlen,4),divLineDashGap:ae(i.vdivlinedashgap,2),showAlternateGridColor:ae(i.showalternatevgridcolor,0),alternateGridColor:ee(i.alternatevgridcolor,o.getColor(x)),alternateGridAlpha:ee(i.alternatevgridalpha,o.getColor(v)),numDivLines:i.numvdivlines,labelFont:i.labelfont,labelFontSize:i.labelfontsize,labelFontColor:i.labelfontcolor,labelFontAlpha:i.labelalpha,labelFontBold:i.labelfontbold,labelFontItalic:i.labelfontitalic,axisName:i.xaxisname,axisMinValue:i.xaxisminvalue,axisMaxValue:i.xaxismaxvalue,setAdaptiveMin:i.setadaptivexmin,adjustDiv:i.adjustvdiv,labelDisplay:i.labeldisplay,showLabels:1,rotateLabels:i.rotatelabels,slantLabel:ae(i.slantlabels,i.slantlabel),labelStep:ae(i.labelstep,i.xaxisvaluesstep),showAxisValues:ae(i.showxaxisvalues,i.showxaxisvalue),showLimits:i.showvlimits,showDivLineValues:ae(i.showvdivlinevalues,i.showvdivlinevalues),showZeroPlane:i.showvzeroplane,zeroPlaneColor:i.vzeroplanecolor,zeroPlaneThickness:i.vzeroplanethickness,zeroPlaneAlpha:i.vzeroplanealpha,showZeroPlaneValue:i.showvzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showxaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.xaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.xaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.xaxislinecolor,i.axislinecolor,g)},t={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.yaxisnamepadding,axisValuePadding:i.yaxisvaluespadding,axisNameFont:i.pyaxisnamefont,axisNameFontSize:i.pyaxisnamefontsize,axisNameFontColor:i.pyaxisnamefontcolor,axisNameFontBold:i.pyaxisnamefontbold,axisNameFontItalic:i.pyaxisnamefontitalic,axisNameBgColor:i.pyaxisnamebgcolor,axisNameBorderColor:i.pyaxisnamebordercolor,axisNameAlpha:i.pyaxisnamealpha,axisNameFontAlpha:i.pyaxisnamefontalpha,axisNameBgAlpha:i.pyaxisnamebgalpha,axisNameBorderAlpha:i.pyaxisnameborderalpha,axisNameBorderPadding:i.pyaxisnameborderpadding,axisNameBorderRadius:i.pyaxisnameborderradius,axisNameBorderThickness:i.pyaxisnameborderthickness,axisNameBorderDashed:i.pyaxisnameborderdashed,axisNameBorderDashLen:i.pyaxisnameborderdashlen,axisNameBorderDashGap:i.pyaxisnameborderdashgap,axisNameWidth:i.yaxisnamewidth,useEllipsesWhenOverflow:i.useellipseswhenoverflow,rotateAxisName:ae(i.rotateyaxisname,1),axisName:i.pyaxisname,divLineColor:ee(i.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:ee(i.divlinealpha,o.getColor(f)),divLineThickness:ae(i.divlinethickness,1),divLineIsDashed:!!ae(i.divlinedashed,i.divlineisdashed,1),divLineDashLen:ae(i.divlinedashlen,4),divLineDashGap:ae(i.divlinedashgap,2),showAlternateGridColor:ae(i.showalternatehgridcolor,1),alternateGridColor:ee(i.alternatehgridcolor,o.getColor(b)),alternateGridAlpha:ee(i.alternatehgridalpha,o.getColor(w)),numDivLines:ae(i.numpdivlines,5),axisMinValue:i.pyaxisminvalue,axisMaxValue:i.pyaxismaxvalue,setAdaptiveMin:ae(i.setadaptiveymin,1),adjustDiv:i.adjustdiv,labelStep:i.yaxisvaluesstep,showAxisValues:ae(i.showyaxisvalues,i.showyaxisvalue),showLimits:ae(i.showyaxislimits,i.showlimits,this.showLimits),showDivLineValues:ae(i.showdivlinevalues,i.showdivlinevalue),showZeroPlane:i.showzeroplane,zeroPlaneColor:i.zeroplanecolor,zeroPlaneThickness:i.zeroplanethickness,zeroPlaneAlpha:i.zeroplanealpha,showZeroPlaneValue:i.showzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showyaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.yaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.yaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.yaxislinecolor,i.axislinecolor,g)},o={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(s.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.yaxisnamepadding,axisValuePadding:i.yaxisvaluespadding,axisNameFont:i.vyaxisnamefont,axisNameFontSize:i.vyaxisnamefontsize,axisNameFontColor:i.vyaxisnamefontcolor,axisNameFontBold:i.vyaxisnamefontbold,axisNameFontItalic:i.vyaxisnamefontitalic,axisNameBgColor:i.vyaxisnamebgcolor,axisNameBorderColor:i.vyaxisnamebordercolor,axisNameAlpha:i.vyaxisnamealpha,axisNameFontAlpha:i.vyaxisnamefontalpha,axisNameBgAlpha:i.vyaxisnamebgalpha,axisNameBorderAlpha:i.vyaxisnameborderalpha,axisNameBorderPadding:i.vyaxisnameborderpadding,axisNameBorderRadius:i.vyaxisnameborderradius,axisNameBorderThickness:i.vyaxisnameborderthickness,axisNameBorderDashed:i.vyaxisnameborderdashed,axisNameBorderDashLen:i.vyaxisnameborderdashlen,axisNameBorderDashGap:i.vyaxisnameborderdashgap,axisNameWidth:i.yaxisnamewidth,useEllipsesWhenOverflow:i.useellipseswhenoverflow,rotateAxisName:ae(i.rotateyaxisname,1),axisName:i.vyaxisname,divLineColor:ee(i.divlinecolor,o.getColor(s.divLineColor)),divLineAlpha:ee(i.divlinealpha,o.getColor(f)),divLineThickness:ae(i.divlinethickness,1),divLineIsDashed:!!ae(i.divlinedashed,i.divlineisdashed,1),divLineDashLen:ae(i.divlinedashlen,4),divLineDashGap:ae(i.divlinedashgap,2),showAlternateGridColor:ae(i.showalternatehgridcolor,1),alternateGridColor:ee(i.alternatehgridcolor,o.getColor(b)),alternateGridAlpha:ee(i.alternatehgridalpha,o.getColor(w)),numDivLines:i.numdivlines,axisMinValue:i.vyaxisminvalue,axisMaxValue:i.vyaxismaxvalue,setAdaptiveMin:i.setadaptiveymin,adjustDiv:i.adjustdiv,labelStep:i.yaxisvaluesstep,showAxisValues:ae(i.showyaxisvalues,i.showyaxisvalue),showLimits:ae(i.showsecondarylimits,i.showlimits),showDivLineValues:ae(i.showdivlinevalues,i.showdivlinevalue),showZeroPlane:i.showzeroplane,zeroPlaneColor:i.zeroplanecolor,zeroPlaneThickness:i.zeroplanethickness,zeroPlaneAlpha:i.zeroplanealpha,showZeroPlaneValue:i.showzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showyaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.yaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.yaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.yaxislinecolor,i.axislinecolor,g)},e.vtrendlines=r.vtrendlines,n.vtrendlines=r.vtrendlines,t.trendlines=r.trendlines,i=a.yAxis[0],r=a.yAxis[1],s=a.xAxis[0],i.setCommonConfigArr(t,!0,!1,!1),i.configure(),r.setCommonConfigArr(o,!0,!1,!1),r.configure(),i.setAxisConfig({drawLabelsOpposit:1,axisNameAlignCanvas:1,relativeAxis:r}),r.setAxisConfig({drawLabelsOpposit:1,axisNameAlignCanvas:1,uniqueClassName:1,relativeAxis:i}),s.setCommonConfigArr(e,!1,!1,!1),s.configure(),s.setAxisConfig({drawTrendLabels:!h}),h?(a.xAxis[1]?a.xAxis[1].show():(l=a.xAxis[1]=new l,l.chart=this,l.init()),l=a.xAxis[1],l.setCommonConfigArr(n,!1,!1,!1),l.configure(),l.setAxisConfig({drawLabels:!1,drawPlotlines:!0,drawPlotBands:!1,drawAxisName:!1,drawTrendLines:!0,drawOnlyCategoryLine:!0,uniqueClassName:1})):a.xAxis[1]&&a.xAxis[1].hide()},_setCategories:function(){var e,t,a=this.jsonData,o=this.components.xAxis,a=a.categories&&a.categories[0].category||[],r=[];for(t=0;t<a.length;t++)e=ie({},a[t]),e.label=Z,r.push(e);o[0].setAxisPadding(.5,.5),o[0].setCategory(a),o[1]&&o[1].setAxisPadding(.5,.5),o[1]&&o[1].setCategory(r)},_setAxisLimits:function(){var e,t,a,o=this.components,r=o.dataset,i=o.yAxis,o=o.xAxis,n=r.length,s=-1/0,l=1/0,h=-1/0,d=1/0,c=1/0,p=-1/0,g=0,u={};for(t=0;t<n;t++)e=r[t],a=e.groupManager,g=e.config.parentYAxis,a?(u[e.type]=a,u[e.type].yAxisIndex=g):(e=e.getDataLimits(),1===g?(h=Fe(h,e.max),d=Oe(d,e.min)):(s=Fe(s,e.max),l=Oe(l,e.min)),p=Fe(p,e.xMax||-1/0),c=Oe(c,e.xMin||1/0));for(a in u)e=u[a].getDataLimits(),s=Fe(s,e.max),l=Oe(l,e.min);r=this._getTrendLineMinMax("h"),s=Fe(s,r.max),l=Oe(l,r.min),i[0].setDataLimit(s,l),i[1].setDataLimit(h,d),-1/0===p&&1/0===c||(o[0].setAxisRange({min:c-.5,max:p+.5,tickInterval:1}),o[1]&&o[1].setAxisRange({min:c-.5,max:p+.5,tickInterval:1}))},isDual:!0},ot.mscartesian),FusionCharts.register("component",["dataset","Candlestick",{type:"Candlestick",configure:function(){if(this.plotType===K)this._configureVolume();else{var e,t,o,r,i,n,s,l,h,p,g,u,m,f,x,v,b,w=this.config,y=this.chart,C=y.components,k=this.JSONData,A=k.data||[],L=y.jsonData.chart,S=A.length,D=w.plotPriceAs=te(L.plotpriceas,Z).toLowerCase(),T=C.numberFormatter,V=C.colorManager,C=w.bearBorderColor=Ye(ee(L.bearbordercolor,d)),P=w.bearFillColor=Ye(ee(L.bearfillcolor,d)),I=w.bullBorderColor=Ye(ee(L.bullbordercolor,V.getColor("canvasBorderColor"))),B=w.bullFillColor=Ye(ee(L.bullfillcolor,c)),_=w.linethickness=w.plotBorderThickness=ae(L.plotlinethickness,D==Y||D==X?2:1),E=w.plotLineDashLen=ae(L.plotlinedashlen,5),N=w.plotLineDashGap=ae(L.plotlinedashgap,4),O=!!ae(L.drawanchors,1),M=ae(L.anchorstartangle,90),R=ae(L.anchorradius,this.anchorRadius,3),W=Ye(ee(L.anchorbordercolor,I)),G=ae(L.anchorborderthickness,this.anchorBorderThickness,1),V=Ye(ee(L.anchorbgcolor,V.getColor("anchorBgColor"))),z=ee(L.anchoralpha,F),j=ee(L.anchorbgalpha,z),H=!1,J=-1/0,Q=1/0,$=-1/0,oe=1/0,ie=a.graphics.mapSymbolName;switch(w.parentYAxis=0,w.toolText=te(re(ee(k.tooltext,L.plottooltext))),w.name=te(k.seriesname),w.showTooltip=ee(L.showtooltip,1),D){case Y:w.plotType=Y;break;case X:w.plotType=X;break;default:w.plotType=q,w.showErrorValue=!0,w.errorBarWidthPercent=0,H=!0}for(w.animation={duration:200},i=ee(L.maxcolwidth),w.maxColWidth=Me(ae(i,50))||1,w.enableAnimation=i=ae(L.animation,L.defaultanimation,1),w.animation=!!i&&{duration:1e3*ae(L.animationduration,1)},w.lineAlpha=ee(L.plotlinealpha,"100"),i=Fe(ae(L.plotspacepercent,20)%100,0),w.plotSpacePercent=w.groupPadding=i/200,x=this.components.data=this.components.data||(this.components.data=[]),w.valuePadding=ae(k.valuepadding,L.valuepadding,2),w.plotBorderThickness=_,i=0;i<S;i+=1)if(v=A[i],(n=x[i])||(n=x[i]={}),!n.config&&(n.config={}),!n.graphics&&(n.graphics={}),b=n.config,v&&!v.vline){switch(b.setLink=ee(v.link),n=b.open=T.getCleanValue(v.open),l=b.close=T.getCleanValue(v.close),h=b.high=T.getCleanValue(v.high),p=b.low=T.getCleanValue(v.low),g=b.volume=T.getCleanValue(v.volume,!0),null!==g&&(y.config.drawVolume=!0),g=b.x=T.getCleanValue(v.x),b.openVal=H?Me(l-n):n,m=b.closeVal=Oe(n,l),f=b.yVal=Fe(n,l),r=D===Y?1:0,s=Oe(n,l,h,p),u=Fe(n,l,h,p),re(te(v.valuetext,Z)),t=Ye(ee(v.bordercolor,l<n?C:I)),o=ee(v.alpha,r?w.lineAlpha:"100"),e=Ye(ee(v.color,l<n?P:B)),r=ae(v.dashed)?ne(E,N):"none",b.dashStyle=r,r={opacity:o/100},b.color=H?e:t,b.alpha=o,b.setColor=b.color,b.setAlpha=b.alpha,b.anchorImageUrl=ee(v.anchorimageurl,k.anchorimageurl,L.anchorimageurl),t=b.borderColor=t,b.borderAlpha=b.plotLineAlpha,b.colorArr=[{color:b.color,alpha:b.alpha},{color:b.borderColor,alpha:b.borderAlpha}],b.anchorSides=ae(v.anchorsides,k.anchorsides,L.anchorsides),b.symbol=ie(b.anchorSides).split(U),b.anchorProps={enabled:O,bgColor:V,symbol:b.symbol,bgAlpha:j*z/100+Z,borderColor:W,borderAlpha:z,borderThickness:G,imageUrl:b.anchorImageUrl,radius:R,imageScale:ae(v.imagescale,k.imagescale,L.imagescale,100),imagePadding:ae(v.anchorimagepadding,k.anchorimagepadding,L.anchorimagepadding,1),imageAlpha:ae(k.anchorimagealpha,L.anchorimagealpha,100),startAngle:M},b.showValue=1,b.hoverEffects={},w.plotType){case Y:b.y=l,b.link=ee(v.link);break;case q:b.y=Me(l-n),b.previousY=m,b.link=ee(v.link),b.errorValue=[],0<h-f&&b.errorValue.push({errorValue:h-f,errorStartValue:f,errorBarColor:t,errorBarThickness:_,opacity:1}),0>p-m&&b.errorValue.push({errorValue:p-m,errorStartValue:m,errorBarColor:t,errorBarThickness:_,opacity:1});break;default:b.y=n,b.previousY=l,b.link=ee(v.link)}b.setValue=b.y,null!==s&&(!J&&0!==J&&(J=s),!Q&&0!==Q&&(Q=s),J=Fe(J,s),Q=Oe(Q,s)),null!==u&&(!J&&(J=u),!Q&&(Q=u),J=Fe(J,u),Q=Oe(Q,u)),null!==g&&($=Fe($,g),oe=Oe(oe,g)),s=this._parseToolText(i),b.toolText=s,b.toolTipValue=Z,g=g||i+1,b.x=g,b.displayValue=re(ee(v.displayvalue,v.valuetext,Z)),b.high=Fe(n,l,h,p),b.low=Oe(n,l,h,p),b.shadow=r}w.yMax=J,w.yMin=Q,w.xMax=$,w.xMin=oe}},_parseToolText:function(e){var t=this.config,a=this.chart,o=a.jsonData.chart,r=t.plotType===Y?1:0,i=this.JSONData.data[e],n=this.components.data[e].config,a=a.components.xAxis[0].getLabel(n.x).label;e=n.open;var s=n.close,l=this.yAxis,h=n.high,d=n.low,n=n.volume,c=void 0!==n?i.volumetooltext:void 0;return t.showTooltip?(t=te(re(ee(c,i.tooltext,t.volumeToolText,t.toolText))),void 0!==t?t=$(t,[3,5,6,10,54,55,56,57,58,59,60,61,81,82],{label:a,yaxisName:re(o.yaxisname),xaxisName:re(o.xaxisname),openValue:i.open,openDataValue:l.dataLabels(e),closeValue:i.close,closeDataValue:l.dataLabels(s),highValue:i.high,highDataValue:l.dataLabels(h),lowValue:i.low,lowDataValue:l.dataLabels(d),volumeValue:i.volume,volumeDataValue:l.dataLabels(n)},i,o):(t=null===e||r?Z:"<b>Open:</b> "+l.dataLabels(e)+"<br />",t+=null!==s?"<b>Close:</b> "+l.dataLabels(s)+"<br />":Z,t+=null===h||r?Z:"<b>High:</b> "+l.dataLabels(h)+"<br />",t+=null===d||r?Z:"<b>Low:</b> "+l.dataLabels(d)+"<br />",t+=null!==n?"<b>Volume:</b> "+l.dataLabels(n):Z)):t=Z,t},init:function(e,t){var a=this.chart;this.yAxis=t===K?a.components.yAxis[1]:a.components.yAxis[0],this.components={},this.graphics={},this.JSONData=e,this.visible=1,this.plotType=t,this.configure()},_configureVolume:function(){var e,t,o,r,i,n,s,l=this.config,h=this.chart,p=this.JSONData,g=p.data||[],u=h.jsonData.chart,m=g.length,f=h.components.colorManager,x=l.bearBorderColor=Ye(ee(u.bearbordercolor,d)),v=l.bearFillColor=Ye(ee(u.bearfillcolor,d)),f=l.bullBorderColor=Ye(ee(u.bullbordercolor,f.getColor("canvasBorderColor"))),b=l.bullFillColor=Ye(ee(u.bullfillcolor,c)),w=ae(u.showvplotborder,1)?ae(u.vplotborderthickness,1):0,y=l.plotLineDashLen=ae(u.plotlinedashlen,5),C=l.plotLineDashGap=ae(u.plotlinedashgap,4),k=this.yAxis,A=-1/0,L=1/0,S=-1/0,D=1/0;for(i=h.components.vNumberFormatter,l.plotType=q,l.parentYAxis=1,l.volumeToolText=te(re(ee(p.volumetooltext,u.volumetooltext,u.plottooltext))),l.name=te(p.seriesname),l.showTooltip=ee(u.showtooltip,1),l.enableAnimation=p=ae(u.animation,u.defaultanimation,1),l.animation=!!p&&{duration:1e3*ae(u.animationduration,1)},p=ee(u.maxcolwidth),l.maxColWidth=Me(ae(p,50))||1,p=Fe(ae(u.plotspacepercent,20)%100,0),l.plotSpacePercent=l.groupPadding=p/200,l.plotBorderThickness=w,p=this.components.data=this.components.data||(this.components.data=[]),u=ie(ie({},u),{forcedecimals:oe(u.forcevdecimals,u.forcedecimals),forceyaxisvaluedecimals:oe(u.forcevyaxisvaluedecimals,u.forceyaxisvaluedecimals),yaxisvaluedecimals:oe(u.vyaxisvaluedecimals,u.yaxisvaluedecimals),formatnumber:oe(u.vformatnumber,u.formatnumber),formatnumberscale:oe(u.vformatnumberscale,u.formatnumberscale),defaultnumberscale:oe(u.vdefaultnumberscale,u.defaultnumberscale),numberscaleunit:oe(u.vnumberscaleunit,u.numberscaleunit),vnumberscalevalue:oe(u.vnumberscalevalue,u.numberscalevalue),scalerecursively:oe(u.vscalerecursively,u.scalerecursively),maxscalerecursion:oe(u.vmaxscalerecursion,u.maxscalerecursion),scaleseparator:oe(u.vscaleseparator,u.scaleseparator),numberprefix:oe(u.vnumberprefix,u.numberprefix),numbersuffix:oe(u.vnumbersuffix,u.numbersuffix),decimals:oe(u.vdecimals,u.decimals)}),i?i.configure(u):i=h.components.vNumberFormatter=new a.NumberFormatter(h,u),k.setNumberFormatter(i),h=0;h<m;h+=1)i=g[h],(u=p[h])||(u=p[h]={}),!u.config&&(u.config={}),!u.graphics&&(u.graphics={}),s=u.config,i&&!i.vline&&(r=s.open=k.getCleanValue(i.open),e=s.close=k.getCleanValue(i.close),s.high=k.getCleanValue(i.high),s.low=k.getCleanValue(i.low),n=s.volume=k.getCleanValue(i.volume,!0),u=s.x=k.getCleanValue(i.x),s.openVal=Me(e-r),s.closeVal=Oe(r,e),A=Fe(A,n),L=Oe(L,n),S=Fe(S,u),D=Oe(D,u),re(te(i.valuetext,Z)),t=Ye(ee(i.bordercolor,e<r?x:f)),o=ee(i.alpha,"100"),e=Ye(ee(i.color,e<r?v:b)),s.dashStyle=ae(i.dashed)?ne(y,C):"none",r={opacity:o/100},s.color=e,s.alpha=o,s.setLink=i.link,s.borderWidth=w,s.borderColor=t,s.borderAlpha=ee(s.plotLineAlpha,o),s.y=n,s.colorArr=[{color:s.color,alpha:s.alpha},{color:s.borderColor,alpha:s.borderAlpha}],s.setValue=s.y,i=this._parseToolText(h),s.toolText=i,s.toolTipValue=Z,u=u||h+1,s.x=u,s.shadow=r);l.yMax=A,l.yMin=L,l.xMax=S,l.xMin=D},draw:function(){var e=this.config,t=e.plotType;t===Y?this.__base__.draw.call(this):t===q?(this._drawColumn(),e.showErrorValue&&this._drawErrorValue()):this._drawCandlestickBar(),this.drawn=!0},_drawColumn:function(){var e,t,o,r,i,n,s,l,h,d,c=this,p=c.JSONData,g=c.chart,u=g.getJobList(),m=c.chart.jsonData.chart,f=c.config,x=c.index,v=p.data,b=v&&v.length,w=c.visible,k=g.components.paper,D=g.components.xAxis[0],T=c.yAxis,V=g.graphics,P=a.parseUnsafeString,B=a.getValidValue,_=a.Raphael,E=f.showTooltip,N=g.get(y,C),O=N.duration,F=N.dummyObj,M=N.animObj,R=D.getPVR(),W=f.plotSpacePercent,G=f.maxColWidth,R=(1-.01*f.definedGroupPadding)*R||Oe(R*(1-2*W),1*G),W=R/2,R=R/1,G=Oe(R-1,0),W=0*R-W+G/2,G=c.components.data,z=T.getAxisBase(),j=T.yBasePos=T.getAxisPosition(z),H=f.plotBorderThickness,J=f.plotRadius||0,Y=c.graphics.container,X=c.graphics.trackerContainer,K=c.graphics.shadowContainer;d=V.trackerGroup;var Q,$,te=!g.config.plotAnimDone,oe=c.components.removeDataArr||[],re=oe.length,ie=FusionCharts.get("component",["dataset",q]).prototype.drawLabel,ne=function(){var e=c.graphics.errorGroupContainer;e&&e.show()};for(Q=V.datasetGroup,V=c.components.pool||[],Y||(Y=c.graphics.container=k.group(A,Q),w||Y.hide()),X||(X=c.graphics.trackerContainer=k.group(L,d),w||X.hide()),K||(K=c.graphics.shadowContainer=k.group(S,Q).toBack(),w||K.hide()),X=R,f.columnWidth=R,f=0;f<b;f++)e=v[f],d=(t=G[f])&&t.config,n=d.setLink,s=d.y,o=ae(d.x,f),Q=d.colorArr,null!==s&&(n=d.setLink,t.graphics||(G[f].graphics={}),h=c.index+U+f,d.groupId=h,h=d.displayValue,B(P(ee(e.tooltext,p.plottooltext,m.plottooltext))),e=d.previousY,r=T.getAxisPosition(e||z),e=T.getAxisPosition(s+(e||0)),o=D.getAxisPosition(o)+W,r=Me(e-r),r=_.crispBound(o,e,X,r,H),o=r.x,e=r.y,X=r.width,r=r.height||1,i=d.toolText,$=d.dashStyle,l=d.eventArgs,l||(l=d.eventArgs={}),l.index=f,l.link=n,l.value=s,l.displayValue=h,l.categoryLabel=D.getLabel(f).label,l.toolText=i,l.id=Z,l.datasetIndex=x,l.datasetName=p.seriesname,l.visible=w,t._xPos=o,t._yPos=e,t._height=r,t._width=R,n=t.graphics.element,n||(V.element&&V.element.length?n=t.graphics.element=V.element.shift():(n=t.graphics.element=k.rect(Y),O&&n.attr({x:o,y:j,width:X,height:0}))),t=d._elemPositions,t||(t=d._elemPositions={}),t.x=o,t.y=e,t.width=X,t.height=r,n.show().animateWith(F,M,t,O,N.animType,te&&ne),t=d._elemCosmetics,t||(t=d._elemCosmetics={}),t.r=J,t.ishot=!E,t.fill=se(Q[0]),t.stroke=se(Q[1]),t["stroke-width"]=H,t["stroke-dasharray"]=$,t["stroke-linejoin"]=I,t.visibility=w,n.attr(t).shadow(d.shadow,K),g.config.plotAnimDone=!0);for(u.trackerDrawID.push(be.addJob(c.drawTracker,c,[],a.priorityList.tracker)),c.drawn?ie.call(c,0,G.length):u.labelDrawID.push(be.addJob(ie,c,[0,G.length],a.priorityList.label)),f=0;f<re;f++)(t=oe[0])&&(c._removeDataVisuals(t.graphics),oe.shift());c.drawn=!0},rolloverResponseSetter:function(e,t){return function(a){t.graphics.rollOverBand.transform("t"+(e._xPos+(e._width||0)/2)+",0").show(),lt.call(this,t,a,"DataPlotRollOver")}},rolloutResponseSetter:function(e,t){return function(e){t.graphics.rollOverBand.hide(),lt.call(this,t,e,"DataPlotRollOut")}},drawTracker:function(){var e,t,a,o,r,i,n,s,l,h,d,c,p=this.graphics.trackerContainer,g=this.components.data,u=this.config,m=this.chart,f=m.components.paper,x=g.length,v=this.components.pool||{},b=function(e){lt.call(this,m,e)},w=function(e){lt.call(this,m,e,"DataPlotRollOver")},y=function(e){lt.call(this,m,e,"DataPlotRollOut")},C=this.visible,k=u.plotRadius||0,A=u.plotBorderThickness,L=m.components,S=m.graphics.datasetGroup,D=m.graphics.rollOverBand,T=L.canvas.config,V=L.canvasVolume.config,L=u.columnWidth,P=m.config.rollOverBandColor,I=this.graphics.errorTrackerContainer;if(s=FusionCharts.get("component",["dataset","line"]).prototype.drawTracker,u.plotType===Y)s.call(this);else for(u=0;u<x;u++)for(d=g[u],o=d.config,t=d._width,a=d._height,i=d._yPos,n=d._xPos,c=o.eventArgs,s=o.setLink,e=d.graphics.hotElement,h=o.toolText,a<Je&&(i-=(Je-a)/2,a=Je),l=o.groupId,r=o._hotElemAttrs,r||(r=o._hotElemAttrs={}),r.x=n,r.y=i,r.width=t,r.height=a,r.r=k,r.cursor=s?"pointer":Z,r.stroke=De,r["stroke-width"]=A,r.fill=De,r.ishot=!0,r.visibility=C,e=d.graphics.hotElement||v.hotElement&&v.hotElement.shift(),e||(e=d.graphics.hotElement=f.rect(p),e.click(b).mouseover(this.rolloverResponseSetter(d,m)).mouseout(this.rolloutResponseSetter(d,m))),e.data("x",n+t/2),e.attr(r),e.data("eventArgs",c).data("groupId",l).tooltip(h),e=(a=o.errorValue)&&a.length||0;e--;)t=d.graphics.error[e],r=t.errorTrackerElem||v.errorTrackerElem&&v.errorTrackerElem.shift(),o=a[e],o=o.errorPath,r||(r=t.errorTrackerElem=f.path(I),r.click(b).hover(w,y)),r.attr({path:o,stroke:De,"stroke-width":Je,cursor:s?"pointer":Z,ishot:!!s,visibility:C}).data("groupId",l).tooltip(h),r.data("eventArgs",c);p=["M",0,T.canvasTop,"L",0,T.canvasBottom,"M",0,V.canvasTop-V.canvasBorderWidth,"L",0,V.canvasTop+V.canvasHeight+V.canvasBorderWidth/2],D||(D=m.graphics.rollOverBand=f.path(S)),D.transform(Z),D.attr({path:p,"stroke-width":L,ishot:!0,stroke:P,"stroke-linecap":"butt"}),D.data("width",L),D.toBack(),D.hide()},_removeDataVisuals:function(e){var t,a,o,r,i,n=this.components.pool||(this.components.pool={});e.graphics&&(e=e.graphics);for(a in e){if(t=n[a]||(n[a]=[]),(o=e[a])instanceof Array)for(r=0,i=o.length;r<i;r++)this._removeDataVisuals(o[r]);else o.hide&&"function"==typeof o.hide&&o.hide();t.push(e[a])}},_drawCandlestickBar:function(){var e,t,a,o,r,i,n=this.chart,s=n.components,l=this.config,h=this.components.data,d=h.length,c=s.xAxis[0],p=this.yAxis,g=n.graphics,s=s.paper,u=l.numColumns||1,m=l.columnPosition||0,f=c.getPVR(),x=l.groupPadding,v=l.maxColWidth,f=(1-.01*l.plotspacepercent)*f||Oe(f*(1-2*x),v*u),u=f/u*m-f/2,g=g.datasetGroup,m=n.get(y,C)||{},f=m.duration,x=m.dummyObj,v=m.animObj,b=this.graphics.container,w=this.components.pool||{};e=this.visible;var k,L,S,D,T=this.components.removeDataArr||[],V=T.lengt;for(b||(b=this.graphics.container=s.group(A,g),e||b.hide()),t=0;t<d;t+=1)a=h[t],e=a.config,D=a.graphics,null!==(r=e.y)&&(o=ae(e.x,t),a=e.link,o=c.getAxisPosition(o),i=e.previousY,i=p.getAxisPosition(i),r=p.getAxisPosition(r),k=p.getAxisPosition(e.high),L=p.getAxisPosition(e.low),Me(r-i),S=u,i=["M",o,L,"L",o,k,"M",o,r,"L",o+S,r,"M",o,i,"L",o-S,i],o=D.element,o||(w.element&&w.element.length?D.element=s.path(g):o=D.element=s.path(i,b)),o.show().animateWith(x,v,{path:i},f,m.animType),n.config.plotAnimDone=!0,o.attr({fill:se(e.color),stroke:se(e.borderColor),"stroke-width":l.linethickness,"stroke-dasharray":e.dashStyle,"stroke-linecap":N,"stroke-linejoin":N,"shape-rendering":"crisp",cursor:a?"pointer":Z,visibility:_}).shadow(e.shadow));for(t=0;t<V;t++)this._removeDataVisuals(T.shift())},_drawErrorValue:function(){var e,t=this.config,a=this.JSONData.data,a=a&&a.length;e=this.visible;var o,r,i,n,s,l,h,d,c,p,g,u,m,f=this.chart,x=f.components.paper,v=f.components.yAxis[0],b=this.components.data,w=t.errorBarWidthPercent,k=f.graphics,A=k.datasetGroup,t=t.showTooltip,L=this.graphics.errorGroupContainer,S=this.graphics.errorTrackerContainer,V=k.trackerGroup,f=f.get(y,C),k=f.duration,P=f.dummyObj,I=f.animObj;i=this.drawn;var B,_,E=this.components.pool||[];for(L||(L=this.graphics.errorGroupContainer=x.group(D,A),e||L.hide()),S||(S=this.graphics.errorTrackerContainer=x.group(T,V).toBack(),e||S.hide()),e&&(L.show(),S.show()),k&&!i&&L.hide(),e=0;e<a;e++)if(i=(A=b[e])&&A.config,l=i.y,S=i.errorValue,V=S.length,!A.graphics.error&&(A.graphics.error=[]),null!==l){if(i=i.setLink,l=0>l,n=A._xPos,s=A._yPos,m=A._width,_=A._height,s+=_,n+=m/2,o=A.graphics.error,(r=o.length)>V)for(B=V;B<r;B++)u=o.pop(),this._removeDataVisuals(u);for(;V--;)(B=A.graphics.error[V])||(B=A.graphics.error[V]={}),u=B.errorLineElem,p=S[V],h=p.errorValue,d=p.errorStartValue,r=p.errorBarColor,o=p.errorBarThickness,c=isNaN(d)?s:v.getAxisPosition(d),g=w/100*m,g/=2,h=v.getAxisPosition((Se(d)?d:void 0)+h),l&&(h+=_),h=Ne(h)+o%2/2,d=Ne(n)+o%2/2,c=["M",d,c,"V",h,"M",d-g,h,"H",d+g],p.errorPath=c,p=A.graphics.hotElement||A.graphics.element,p.data("groupId"),u||(u=E.errorLineElem&&E.errorLineElem.length?B.errorLineElem=E.errorLineElem.shift():B.errorLineElem=x.path(L)),u.show().animateWith(P,I,{path:c},k,f.animType),u.attr({stroke:r,ishot:!t,"stroke-width":o,cursor:i?"pointer":Z,"stroke-linecap":N})}},getDataLimits:function(){var e=this.config;return{max:e.yMax,min:e.yMin,xMax:e.xMax,xMin:e.xMin}},removeData:function(e,t){var a=this.components,o=a.data,r=a.removeDataArr||(a.removeDataArr=[]);a.removeDataArr=r.concat(o.splice(e||0,t||1))}},Y]),FusionCharts.register("component",["dataset","Trendset",{configure:function(){var e,t,a,o=this.chart,r=o.jsonData.chart,i=this.JSONData,n=this.index,s=i.data||i.set||[],l=this.config,h=this.components.data,d=-1/0,c=1/0,p=-1/0,g=1/0,u=o.components.numberFormatter,n=Ye(ee(i.color,r.trendsetcolor,"666666"));t=ee(i.alpha,r.trendsetalpha,"100"),a=ae(i.thickness,r.trendsetthickness,2),e=!!ae(i.dashed,r.trendsetdashed,0);var m=ae(i.dashlen,r.trendsetdashlen,4),f=ae(i.dashgap,r.trendsetdashgap,4);for(l.includeInLegend=ae(i.includeinlegend,1),l.lineColor=n,l.lineAlpha=t,l.connectNullData=ae(r.connectnulldata,0),l.lineThickness=a,l.lineDashStyle=e?ne(m,f):"none",l.name=te(i.name),l.includeInLegend=ae(i.includeinlegend,1),h||(h=this.components.data=[]),n=0,a=s.length;n<a;n+=1)(e=s[n])&&!e.vline&&(i=h[n]=h[n]||(h[n]={}),t=i.config=i.config||(i.config={}),r=t.setValue=u.getCleanValue(e.value),e=u.getCleanValue(e.x),e=t.x=null!==e?e:n+1,d=Fe(d,r),c=Oe(c,r),g=Oe(g,e),p=Fe(p,e),i.graphics||(i.graphics={}));l.max=d,l.min=c,l.xMax=p,l.xMin=g,this.yAxis=o.components.yAxis[0],this.visible=!0,this._addLegend()},_addLegend:function(){var e=this.JSONData,t=this.config,a=this.chart.components.legend,e={enabled:t.includeInLegend,interactiveLegend:!1,type:this.type,drawLine:!0,strokeColor:se({color:t.lineColor,alpha:nt}),label:oe(e.name)};this.legendItemId=a.addItems(this,this.legendInteractivity,e)},legendInteractivity:function(){},draw:function(){var e,t,a,o,r=this.chart,i=r.components,n=this.config,s=i.canvas.config.clip,l=this.components.data.length,h=i.paper,i=i.xAxis[0],d=this.yAxis,c=r.graphics,p=r.get(y,C),r=p.duration,g=p.dummyObj,u=p.animObj,p=p.animType,m=this.components.data,f=n.lineThickness,x=this.graphics.container,v=c.datasetGroup,c=n.shadow,b=function(){v.line.attr({"clip-rect":null}),x.lineShadowGroup.show()},w=s["clip-canvas"].slice(0),s=s["clip-canvas-init"].slice(0),k=n.lineDashStyle,n={color:n.lineColor,alpha:n.lineAlpha},A=!1,L=this.graphics.lineElement,S=this.visible;for(v.line=v.line||h.group(Y,v),v.lineConnector=v.lineConnector||h.group("line-connector",v),x||(x=this.graphics.container={lineShadowGroup:h.group("connector-shadow",v.line),lineGroup:h.group(Y,v.line)},S||(x.lineShadowGroup.hide(),x.lineGroup.hide())),e=0;e<l;e++)o=m[e],t=o.config,a=t.setValue,t=t.x,t=i.getAxisPosition(t),a=d.getAxisPosition(a),o._xPos=t,o._yPos=a;l=this.getLinePath(m,{}).getPathArr(),L||(L=this.graphics.lineElement=h.path(x.lineGroup),A=!0),L.show().animateWith(g,u,{path:l},r,p),L.attr({"stroke-dasharray":k,"stroke-width":f,stroke:se(n),"stroke-linecap":N,"stroke-linejoin":2<=f?N:I}).shadow(c,x.lineShadowGroup),r&&S&&A&&(x.lineShadowGroup.hide(),v.line.attr({"clip-rect":s}).animateWith(g,u,{"clip-rect":w},r,p,b))},getDataLimits:function(){var e=this.config;return{max:e.max,min:e.min,xMax:e.xMax,xMin:e.xMin}}},Y]),ot("kagi",{standaloneInit:!0,friendlyName:"Kagi Chart",creditLabel:!1,defaultDatasetType:"kagi",applicableDSList:{kagi:!0},singleseries:!0,hasLegend:!1,_postSpaceManagement:function(){var e=this.config,t=this.components,a=t.xAxis&&t.xAxis[0],o=t.yAxis&&t.yAxis[0],r=t.canvas.config,i=r.canvasBorderWidth,n=r.canvasPadding||15,s=r.canvasPaddingTop,r=r.canvasPaddingBottom,l=this.jsonData.chart,h=(t=t.dataset[0].config)&&t.shiftCount,d=ae(a.getAxisConfig("axisMinValue"),0),c=ae(a.getAxisConfig("axisMaxValue"),h-1),p=this.config.canvasWidth;Oe(ae(l.canvaspadding,0),p/2-10);var g,l=ae(l.maxhshiftpercent,10),p=p-2*n;o&&o.setAxisDimention({x:e.canvasLeft-i,y:e.canvasTop+s,
opposite:e.canvasRight+i,axisLength:e.canvasHeight-s-r}),this._setPosition(),t&&(g=t.xShiftLength=Oe(p/h,(0>=l?10:l)*p/100),Fe(h-1,1),c=Fe(c,1)),this._adjustCanvasPadding(),a&&a.setAxisDimention({x:this.config.canvasLeft+n+g/2,axisLength:g*(c-d),y:e.canvasBottom+(e.shift||0)+i,opposite:e.canvasTop-i})},_setPosition:function(){var e,t,a,o,r,i,n;e=this.components,o=this.jsonData;var s=e.dataset[0],l=o.data||s&&s[0]&&s[0].data,h=(s=s.components.data)&&s.length,d=e.yAxis[0],c=0,p=c,g=[];for(e=0;e<h;e++)t=s[e].config,a=t.setValue,(o=s[e])||(s[e]={graphics:{}}),t.isDefined||(a=t.plotValue),a=ee(t.plotValue,a),t.plotY=le(d.getAxisPosition(t.setValue),2),t.graphY=le(d.getAxisPosition(a),2),t.plotX=p,t.isShift?(p=c+=1,l&&g.push(l[e])):e===h-1&&l&&g.push(l[e]),e&&(n=s[e-1].config,o=t&&t.objParams&&t.objParams.isRally,a=t&&t.objParams&&t.objParams.lastHigh,r=t&&t.objParams&&t.objParams.lastLow,i=t&&t.objParams&&t.objParams.isRallyInitialised,n&&i&&n.isRally!==t.isRally?(t.isChanged=!0,t.ty=le(d.getAxisPosition(o?a:r),2)):t.isChanged=!1)},_setAxisLimits:function(){var e,t,a,o=this.components,r=o.dataset,i=o.yAxis,o=o.xAxis,n=r.length,s=-1/0,l=1/0,h=1/0,d=-1/0,c={},p=[],g=function(e){s=Fe(s,e.max),l=Oe(l,e.min),d=Fe(d,e.xMax||-1/0),h=Oe(h,e.xMin||1/0)};for(t=0;t<n;t++)e=r[t],(a=e.groupManager)?c[e.type]=a:p.push(e);for(a in c)r=c[a].getDataLimits(),g(r);for(n=p.length,t=0;t<n;t++)r=p[t].getDataLimits(),g(r);g(this._getTrendLineMinMax("h")),-1/0===s&&(s=0),1/0===l&&(l=0),this.config.yMax=s,this.config.yMin=l,i[0].setAxisConfig({setAdaptiveMin:!0}),i[0].setDataLimit(s,l),-1/0===d&&1/0===h||(o[0].config.xaxisrange={max:d,min:h},o[0].setDataLimit(d,h))}},ot.waterfall2d,{},ot.areabase),a.BoxAndWhiskerStatisticalCalc=e=function(e,t,a){this.nf=t,this.dataSeparator=a,this.method=(e||Q).toLowerCase().replace(/\s/g,Z)},e.prototype={setArray:function(e){var t=this.nf,a=this.dataSeparator,o=0;for(!e&&(e=Q),e=this.dataLength=(a=e.replace(/\s/g,Q).split(a))&&a.length;e--;)o+=a[e]=t.getCleanValue(a[e]);a&&a.sort(function(e,t){return e-t}),this.values=a,this.mean=o/this.dataLength,this.getFrequencies()},getQuartiles:function(){var e,t,a=this.values,o=this.dataLength,r=o%2;switch(this.method){case"tukey":r?(r=(o+3)/4,o=(3*o+1)/4):(r=(o+2)/4,o=(3*o+2)/4);break;case"mooremccabe":r?(r=(o+1)/4,o=3*r):(r=(o+2)/4,o=(3*o+2)/4);break;case"freundperles":r=(o+3)/4,o=(3*o+1)/4;break;case"mendenhallsincich":r=Ne((o+1)/4),o=Ne(3*r);break;default:r=(o+1)/4,o=3*r}return--r,--o,e=Ge(r),t=Ge(o),r=r-e?a[e]+(a[We(r)]-a[e])*(r-e):a[r],a=o-t?a[t]+(a[We(o)]-a[t])*(o-t):a[o],this.quartiles={q1:r,q3:a}},getMinMax:function(){var e=this.values;return{min:e[0],max:e[this.dataLength-1]}},getMean:function(){return this.mean},getMD:function(){for(var e,t=this.mean,a=this.frequencies,o=a.length,r=0;o--;)e=a[o],r+=e.frequency*Me(e.value-t);return r/this.dataLength},getSD:function(){for(var e=this.mean,t=this.values,a=this.dataLength,o=a,r=0;a--;)r+=je(t[a]-e,2);return ze(r)/o},getQD:function(){return.5*(this.quartiles.q3-this.quartiles.q1)},getFrequencies:function(){var e,t,a,o=[],r=this.dataLength,i=this.values,n=0;for(a=0;a<r;a+=1)n+=e=i[a],Se(o[a])?o[a].frequency+=1:(t={},t.value=e,t.frequency=1,o[a]=t);this.sum=n,this.frequencies=o},getMedian:function(){var e=this.dataLength,t=.5*e,a=this.values;return 0==e%2?(a[t]+a[t-1])/2:a[Ge(t)]}},e.prototype.constructor=e,ue&&ue({whiskerslimitswidthratio:{type:fe,pAttr:"whiskerslimitswidthratio"},outliersupperrangeratio:{type:fe,pAttr:"outliersupperrangeratio"},outlierslowerrangeratio:{type:fe,pAttr:"outlierslowerrangeratio"},showalloutliers:{type:fe,pAttr:"showalloutliers"},showmean:{type:fe,pAttr:"showmean"},showsd:{type:fe,pAttr:"showsd"},showmd:{type:fe,pAttr:"showmd"},showqd:{type:fe,pAttr:"showqd"},showminvalues:{type:fe,pAttr:"showminvalues"},showmaxvalues:{type:fe,pAttr:"showmaxvalues"},showq1values:{type:fe,pAttr:"showq1values"},showq3values:{type:fe,pAttr:"showq3values"},showmedianvalues:{type:fe,pAttr:"showmedianvalues"}}),ot("boxandwhisker2d",{friendlyName:"Box and Whisker Chart",standaloneInit:!0,creditLabel:!1,chart:ot.errorbar2d.chart,drawErrorValue:ot.errorbar2d.drawErrorValue,decimals:2,maxColWidth:1/0,useErrorAnimation:1,avoidCrispError:0,tooltipsepchar:": ",defaultDatasetType:"boxandwhisker2d",applicableDSList:{boxandwhisker2d:!0},hasSubDataset:!0,fireGroupEvent:!0,fireInitialAnimation:!0,_drawDataset:function(){var e,t,a,o=this.components.dataset,r=o.length,i={};for(t=0;t<r;t++)e=o[t],a=e.groupManager,i[e.type]=a;for(a in i)i[a].draw();for(o.flag=!0,t=0;t<r;t++)for(o[t].components.mean&&o[t].components.mean.draw(),o[t].components.sd&&o[t].components.sd.draw(),o[t].components.md&&o[t].components.md.draw(),o[t].components.qd&&o[t].components.qd.draw(),a=o[t].config.maxNumberOfOutliers||o[t].components.outliers.length,e=0;e<a;e++)o[t].config.showOutliersLegend||(o[t].components.outliers[e].visible=!1),o[t].components.outliers&&o[t].components.outliers[e].draw()},_createDatasets:function(){var e,t,a,o=this.components,r=o.xAxis[0],i=this.jsonData,n=i.dataset,s=n&&n.length,l=this.defaultDatasetType,h=this.applicableDSList,d=this.components.legend;e=d.components.items||[];var c,p,g,u,m,f,x=this.isStacked,v=[],b=this.isRealTime,w=this.config.catLen,y={};for(n||this.setChartMessage(),this.config.categories=i.categories&&i.categories[0].category,i=o.dataset||(o.dataset=[]),t=i.length,d.emptyItems(0,e.length),e=0;e<s;e++)u=n[e],u.seriesname&&(u.seriesname=re(u.seriesname)),a=u.parentyaxis||Z,p=(p=this.isDual&&a.toLowerCase()===R?ee(u.renderas,this.sDefaultDatasetType):ee(u.renderas,l))&&p.toLowerCase(),h[p]||(p=l),(g=FusionCharts.get("component",["dataset",p]))&&(void 0===y[p]?y[p]=0:y[p]++,m="datasetGroup_"+p,a=FusionCharts.register("component",["datasetGroup",p]),(c=o[m])&&v.push(c),a&&!c&&(c=o[m]=new a,c.chart=this,c.init()),(a=i[e])?(p=r.getCategoryLen(),m=w-p,g=b?a.components:a.JSONData,f=g.data&&g.data.length||0,g=u.data&&u.data.length||0,f-=g,m>f||(m=f,p=g),0<m&&a.removeData(p,m,!1),i[e].JSONData=u,i[e].configure(),i[e]._deleteGridImages&&i[e]._deleteGridImages()):(a=new g,i.push(a),a.chart=this,a.index=e,c&&(x?c.addDataSet(a,0,y[p]):c.addDataSet(a,y[p],0)),a.init(u)));if(t>s){for(m=t-s,c&&x&&c.removeDataSet(0,e,m),o=e,s=m+e;o<s;o++)c&&!x&&c.removeDataSet(e,0,1),d.removeItem(i[o].legendItemId),Le.call(i[o]);i.splice(e,m)}this.config.catLen=r.getCategoryLen()}},ot.mscartesian,{showplotborder:1,plotborderdashlen:5,plotborderdashgap:4,plotfillalpha:nt,useroundedges:0,plotborderthickness:1,showvalues:1,valuepadding:2,showtooltip:1,maxcolwidth:50,rotatevalues:0,use3dlighting:1,whiskerslimitswidthratio:40,outliersupperrangeratio:0,outlierslowerrangeratio:0,showalloutliers:0,showmean:0,showsd:0,showmd:0,showqd:0,showminvalues:1,showmaxvalues:1,showq1values:0,showq3values:0,showmedianvalues:1}),FusionCharts.register("component",["dataset","boxandwhisker2d",{type:"boxandwhisker2d",configure:function(){var e,t,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b,w,y,C,k,A,L,S,D,T,V,P,I,B,_,E,N,O,F,W,G,z,j,H,U,J,Y,q,X,K,Q,$,oe,re,ie,ne,le,he,de,ce,pe,ge,ue,fe,xe,ve,be,we,ye,Ce,ke,Ae,Le,Se,De,Te,Ve,Pe,Ie,Be,_e,Ee=this.chart,Ne=this.config,Me=this.JSONData,Re=Me.data,We=Ee.config.categories,Ge=Ee.singleseries,ze=Ee.config,je=Oe(We&&We.length,Re&&Re.length),He=Ee.jsonData.chart,Ue=Ee.components.colorManager,Je=this.index||this.positionIndex,qe=Ne.plotColor=Ue.getPlotColor(Je),Xe=ae(Me.dashed,He.plotborderdashed),Qe=ae(He.useplotgradientcolor,1),et=a.parseUnsafeString,tt=et(He.yaxisname),at=et(He.xaxisname),ot=et(ee(He.tooltipsepchar,": ")),rt=a.parseTooltext,st=a.getDashStyle,lt=this.components.data,ht=Ee.components.numberFormatter,dt=0,ct=0,pt=a.BoxAndWhiskerStatisticalCalc,gt=0;for(this.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.__setDefaultConfig(),me(Me,Ne,ze,{data:!0}),Ne.includeInLegend=ae(Me.includeinlegend,1),Ne.legendSymbolColor=Ne.plotColor,e=Ne.showplotborder,h=Ne.plotborderdashlen,d=Ne.plotborderdashgap,m=Ne.plotfillalpha,p=Ne.useroundedges,f=Ne.ratio,c=Ne.plotborderthickness,ke=Ne.showvalues,t=Ne.showtooltip,Ne.rotatevalues&&(Ne.rotatevalues=270),Ae=Ne.showalloutliers,Ne.plotfillAngle=u=ae(360-He.plotfillangle,90),Ne.plotColor=qe=ee(Me.color,qe),Ne.plotRadius=ae(He.useroundedges,p?1:0),Ne.plotgradientcolor=x=a.getDefinedColor(He.plotgradientcolor,Ue.getColor("plotGradientColor")),!Qe&&(x=Z),Ne.plotBorderAlpha=v=e?ee(He.plotborderalpha,m,nt):0,Ne.plotBorderColor=b=ee(He.plotbordercolor,Ue.getColor("plotBorderColor")),Ne.plotBorderDashStyle=w=Xe?st(h,d,c):"none",Ne.showShadow=p?ae(He.showshadow,1):ae(He.showshadow,Ue.getColor("showShadow")),Ne.showHoverEffect=g=ae(He.plothovereffect,He.showhovereffect,void 0),Ne.definedGroupPadding=Fe(ae(He.plotspacepercent),0),Ne.plotSpacePercent=Fe(ae(He.plotspacepercent,20)%100,0),Ne.parentYAxis=X=ee(Me.parentyaxis&&Me.parentyaxis.toLowerCase(),M)===R?1:0,Ne.dataSeparator=it,Ne.bwCalc=re=new pt(void 0,ht,Ne.dataSeparator),Ne.textDirection="1"===He.hasrtltext?"rtl":Z,Ne.showMeanLegend=Ne.showSDLegend=Ne.showMDLegend=Ne.showQDLegend=Ne.showOutliersLegend=0,!this.components.data&&(this.components.data=[]),lt=this.components.data,oe=0;oe<je;oe++)if(y=Re&&Re[oe],A=(k=lt[oe])&&k.config,k||(k=lt[oe]={graphics:{}}),k.config||(A=lt[oe].config={}),y.value){if(y.value&&(re.setArray(y.value),ie=re.getQuartiles(),ne=ie.q1,le=ie.q3,he=re.getMinMax(),A.min=de=he.min,A.max=ce=he.max,pe=re.getMedian(),A.mean=ge=re.getMean(),A.md=ue=re.getMD(),A.sd=fe=re.getSD(),A.qd=xe=re.getQD()),y.outliers&&(A.outliers=y.outliers.split(","),gt=Fe(gt,A.outliers.length)),A.showMean=De=ae(y.showmean,Ne.showmean),A.showSD=Te=ae(y.showsd,Ne.showsd),A.showMD=Ve=ae(y.showmd,Ne.showmd),A.showQD=Pe=ae(y.showqd,Ne.showqd),y.outliers&&(Ne.showOutliersLegend=1),De&&(Ne.showMeanLegend=1),Te&&(Ne.showSDLegend=1),Ve&&(Ne.showMDLegend=1),Pe&&(Ne.showQDLegend=1),A.upperQuartile={value:le,color:$e(ee(y.upperquartilecolor,Me.upperquartilecolor,He.upperquartilecolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),ae(y.upperquartilealpha,Me.upperquartilealpha,He.upperquartilealpha,He.plotborderalpha,100)),borderWidth:ae(y.upperquartilethickness,Me.upperquartilethickness,He.upperquartilethickness,He.plotborderthickness,p?0:1),displayValue:ht.dataLabels(le)},A.lowerQuartile={value:ne,color:$e(ee(y.lowerquartilecolor,Me.lowerquartilecolor,He.lowerquartilecolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),ae(y.lowerquartilealpha,Me.lowerquartilealpha,He.lowerquartilealpha,He.plotborderalpha,100)),borderWidth:ae(y.lowerquartilethickness,Me.lowerquartilethickness,He.lowerquartilethickness,He.plotborderthickness,p?0:1),displayValue:ht.dataLabels(ne)},A.upperBoxBorder={color:$e(ee(y.upperboxbordercolor,Me.upperboxbordercolor,He.upperboxbordercolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),ae(y.upperboxborderalpha,Me.upperboxborderalpha,He.upperboxborderalpha,He.plotborderalpha,100)),borderWidth:ae(y.upperboxborderthickness,Me.upperboxborderthickness,He.upperboxborderthickness,!p&&He.plotborderthickness,p?0:1)},A.lowerBoxBorder={color:$e(ee(y.lowerboxbordercolor,Me.lowerboxbordercolor,He.lowerboxbordercolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),ae(y.lowerboxborderalpha,Me.lowerboxborderalpha,He.lowerboxborderalpha,He.plotborderalpha,100)),borderWidth:ae(y.lowerboxborderthickness,Me.lowerboxborderthickness,He.lowerboxborderthickness,!p&&He.plotborderthickness,p?0:1)},A.median={value:pe,color:$e(ee(y.mediancolor,Me.mediancolor,He.mediancolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),ae(y.medianalpha,Me.medianalpha,He.medianalpha,He.plotborderalpha,100)),borderWidth:ae(y.medianthickness,Me.medianthickness,He.medianthickness,He.plotborderthickness,1),displayValue:ht.dataLabels(pe)},Ne.upperBoxColor=ve=ee(y.upperboxcolor,Me.upperboxcolor,He.upperboxcolor,Ue.getPlotColor(2*Je)),be=Ne.upperBoxAlpha=ee(y.upperboxalpha,Me.upperboxalpha,He.upperboxalpha,m,nt),Ne.lowerBoxColor=we=ee(y.lowerboxcolor,Me.lowerboxcolor,He.lowerboxcolor,Ue.getPlotColor(2*Je+1)),ye=Ne.lowerBoxAlpha=ee(y.lowerboxalpha,Me.lowerboxalpha,He.lowerboxalpha,m,nt),A.upperColorArr=a.graphics.getColumnColor(ve,be,void 0,void 0,p,b,v.toString(),0,!1),A.lowerColorArr=a.graphics.getColumnColor(we,ye,void 0,void 0,p,b,v.toString(),0,!1),A.showMinValues=ke?ae(y.showminvalues,Ne.showminvalues):0,A.showMaxValues=ke?ae(y.showmaxvalues,Ne.showmaxvalues):0,A.showQ1Values=ke?ae(y.showq1values,Ne.showq1values):0,A.showQ3Values=ke?ae(y.showq3values,Ne.showq3values):0,A.showMedianValues=ke?ae(y.showmedianvalues,Ne.showmedianvalues):0,A.upperWhiskerAlpha=Ce=Ke(ee(y.upperwhiskeralpha,Me.upperwhiskeralpha,He.upperwhiskeralpha,He.plotborderalpha,100)),A.upperWhiskerColor=$e(Ye(ee(y.upperwhiskercolor,Me.upperwhiskercolor,He.upperwhiskercolor,He.plotbordercolor,Ue.getColor("plotBorderColor"))),Ce),A.upperWhiskerThickness=ae(y.upperwhiskerthickness,Me.upperwhiskerthickness,He.upperwhiskerthickness,He.plotborderthickness,1),A.upperWhiskerShadowOpacity=Ne.showShadow?Ce/250:0,A.lowerWhiskerAlpha=Se=Ke(ee(y.lowerwhiskeralpha,Me.lowerwhiskeralpha,He.lowerwhiskeralpha,He.plotborderalpha,100)),A.lowerWhiskerColor=$e(Ye(ee(y.lowerwhiskercolor,Me.lowerwhiskercolor,He.lowerwhiskercolor,He.plotbordercolor,Ue.getColor("plotBorderColor"))),Se),A.lowerWhiskerThickness=ae(y.lowerwhiskerthickness,Me.lowerwhiskerthickness,He.lowerwhiskerthickness,He.plotborderthickness,1),A.lowerWhiskerShadowOpacity=Ne.showShadow?Se/250:0,A.showValue=ae(y.showvalue,Ne.showvalues),A.setValue=C=ht.getCleanValue(y.value),A.setLink=ee(y.link),A.toolTipValue=Y=ht.dataLabels(C,X),A.setDisplayValue=q=et(y.displayvalue),A.displayValue=ee(q,Y),K=ae(y.dashed),Q=ae(y.dashlen,h),$=d=ae(y.dashgap,d),dt=Fe(dt,ce),ct=Oe(ct,de),Ae&&y.outliers)for(_e=0;_e<A.outliers.length;_e++)dt=Fe(dt,A.outliers[_e]),ct=Oe(ct,A.outliers[_e]);A.plotBorderDashStyle=1===K?st(Q,$,c):0===K?"none":w,Ge?(qe=Ue.getPlotColor(oe),qe=ee(y.color,qe),f=ee(y.ratio,Ne.ratio)):qe=ee(y.color,Ne.plotColor),m=ee(y.alpha,Ne.plotfillalpha),0>C&&!p&&(s=u,u=360-u),A.colorArr=a.graphics.getColumnColor(qe+","+x,m,f,u,p,b,v.toString(),0,!1),A.label=L=te(et(ee(We[oe].tooltext,We[oe].label))),0!==g&&(S=ee(y.upperboxhovercolor,Me.upperboxhovercolor,He.upperboxhovercolor,ve),D=ee(y.upperboxhoveralpha,Me.upperboxhoveralpha,He.upperboxhoveralpha,be),T=ee(y.upperboxborderhovercolor,Me.upperboxborderhovercolor,He.upperboxborderhovercolor,y.upperboxbordercolor,Me.upperboxbordercolor,He.upperboxbordercolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),V=ee(y.upperboxborderhoveralpha,Me.upperboxborderhoveralpha,He.upperboxborderhoveralpha,y.upperboxborderalpha,Me.upperboxborderalpha,He.upperboxborderalpha,He.plotborderalpha,100),P=p?0:ee(y.upperboxborderhoverthickness,Me.upperboxborderhoverthickness,He.upperboxborderhoverthickness,A.upperBoxBorder.borderWidth),I=ee(y.lowerboxhovercolor,Me.lowerboxhovercolor,He.lowerboxhovercolor,we),B=ee(y.lowerboxhoveralpha,Me.lowerboxhoveralpha,He.lowerboxhoveralpha,ye),_=ee(y.lowerboxborderhovercolor,Me.lowerboxborderhovercolor,He.lowerboxborderhovercolor,y.lowerboxbordercolor,Me.lowerboxbordercolor,He.lowerboxbordercolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),E=ee(y.lowerboxborderhoveralpha,Me.lowerboxborderhoveralpha,He.lowerboxborderhoveralpha,y.lowerboxborderalpha,Me.lowerboxborderalpha,He.lowerboxborderalpha,He.plotborderalpha,100),N=p?0:ee(y.lowerboxborderhoverthickness,Me.lowerboxborderhoverthickness,He.lowerboxborderhoverthickness,A.lowerBoxBorder.borderWidth),O=ee(y.upperquartilehovercolor,Me.upperquartilehovercolor,He.upperquartilehovercolor,y.upperquartilecolor,Me.upperquartilecolor,He.upperquartilecolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),F=ee(y.upperquartilehoveralpha,Me.upperquartilehoveralpha,He.upperquartilehoveralpha,y.upperquartilealpha,Me.upperquartilealpha,He.upperquartilealpha,He.plotborderalpha,100),W=ee(y.upperquartilehoverthickness,Me.upperquartilehoverthickness,He.upperquartilehoverthickness,A.upperQuartile.borderWidth),G=ee(y.lowerquartilehovercolor,Me.lowerquartilehovercolor,He.lowerquartilehovercolor,y.lowerquartilecolor,Me.lowerquartilecolor,He.lowerquartilecolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),z=ee(y.lowerquartilehoveralpha,Me.lowerquartilehoveralpha,He.lowerquartilehoveralpha,y.lowerquartilealpha,Me.lowerquartilealpha,He.lowerquartilealpha,He.plotborderalpha,100),j=ee(y.lowerquartilehoverthickness,Me.lowerquartilehoverthickness,He.lowerquartilehoverthickness,A.lowerQuartile.borderWidth),H=ee(y.medianhovercolor,Me.medianhovercolor,He.medianhovercolor,y.mediancolor,Me.mediancolor,He.mediancolor,He.plotbordercolor,Ue.getColor("plotBorderColor")),U=ee(y.medianhoveralpha,Me.medianhoveralpha,He.medianhoveralpha,y.medianalpha,Me.medianalpha,He.medianalpha,He.plotborderalpha,100),J=ee(y.medianhoverthickness,Me.medianhoverthickness,He.medianhoverthickness,A.median.borderWidth),1==g&&(ve===S&&(S=Ze(S,70)),we===I&&(I=Ze(I,70))),A.upperBoxHoverColorArr=a.graphics.getColumnColor(S,D,void 0,void 0,p,b,v.toString(),0,!1),A.lowerBoxHoverColorArr=a.graphics.getColumnColor(I,B,void 0,void 0,p,b,v.toString(),0,!1),A.setUpperBoxRolloutAttr={fill:se(A.upperColorArr[0])},A.setUpperBoxRolloverAttr={fill:se(A.upperBoxHoverColorArr[0])},A.setLowerBoxRolloutAttr={fill:se(A.lowerColorArr[0])},A.setLowerBoxRolloverAttr={fill:se(A.lowerBoxHoverColorArr[0])},A.setUpperBoxBorderRolloverAttr={stroke:$e(T,V),"stroke-width":P},A.setUpperBoxBorderRolloutAttr={stroke:A.upperBoxBorder.color,"stroke-width":A.upperBoxBorder.borderWidth},A.setLowerBoxBorderRolloverAttr={stroke:$e(_,E),"stroke-width":N},A.setLowerBoxBorderRolloutAttr={stroke:A.lowerBoxBorder.color,"stroke-width":A.lowerBoxBorder.borderWidth},A.setUpperQuartileRolloverAttr={stroke:$e(O,F),"stroke-width":W},A.setUpperQuartileRolloutAttr={stroke:A.upperQuartile.color,"stroke-width":A.upperQuartile.borderWidth},A.setLowerQuartileRolloverAttr={stroke:$e(G,z),"stroke-width":j},A.setLowerQuartileRolloutAttr={stroke:A.lowerQuartile.color,"stroke-width":A.lowerQuartile.borderWidth},A.setMedianRolloverAttr={stroke:$e(H,U),"stroke-width":J},A.setMedianRolloutAttr={stroke:A.median.color,"stroke-width":A.median.borderWidth}),o=A.toolTipValue,i=te(et(ee(y.tooltext,Me.plottooltext,He.plottooltext))),t?null===o?l=!1:void 0!==i?(n=[1,2,3,4,5,6,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],r={maxValue:ce,maxDataValue:ht.dataLabels(ce),minValue:de,minDataValue:ht.dataLabels(de),Q1:ht.dataLabels(ne),unformattedQ1:ne,Q3:ht.dataLabels(le),unformattedQ3:le,median:ht.dataLabels(pe),unformattedMedian:pe,SD:ht.dataLabels(fe),unformattedsd:fe,QD:ht.dataLabels(xe),unformattedQD:xe,MD:ht.dataLabels(ue),unformattedMD:ue,mean:ht.dataLabels(ge),unformattedMean:ge,label:L,yaxisName:tt,xaxisName:at,formattedValue:o,value:L},l=rt(i,n,r,y,He,Me)):l="<b>Maximum"+ot+"</b>"+ht.dataLabels(ce)+"<br /><b>Q3"+ot+"</b>"+ht.dataLabels(le)+"<br /><b>Median"+ot+"</b>"+ht.dataLabels(pe)+"<br /><b>Q1"+ot+"</b>"+ht.dataLabels(ne)+"<br /><b>Minimum"+ot+"</b>"+ht.dataLabels(de):l=!1,A.toolText=l,A.setTooltext=l,s&&(u=s)}for(Ne.maxNumberOfOutliers=gt,Ne.maxValue=dt,Ne.minValue=ct,Ae||(Le=dt-ct,Ne.maxValue+=Ne.outliersupperrangeratio*Le,Ne.minValue-=Ne.outlierslowerrangeratio*Le),!1!==Ee.hasLegend&&this._addLegend(),this.subDS=0,this.components.mean=this._createSubDS(0,"Mean"),Ne.showMeanLegend&&this._addLegendSubDS(this.components.mean),Ne.showMeanLegend&&(this.subDS+=1),this.components.sd=this._createSubDS(1,"SD"),Ne.showSDLegend&&this._addLegendSubDS(this.components.sd),Ne.showSDLegend&&(this.subDS+=1),this.components.md=this._createSubDS(2,"MD"),Ne.showMDLegend&&this._addLegendSubDS(this.components.md),Ne.showMDLegend&&(this.subDS+=1),this.components.qd=this._createSubDS(3,"QD"),Ne.showQDLegend&&this._addLegendSubDS(this.components.qd),Ne.showQDLegend&&(this.subDS+=1),!this.components.outliers&&(this.components.outliers=[]),Be=this.config.maxNumberOfOutliers||this.components.outliers.length,oe=0;oe<Be;oe++)Ie=this._createSubDS(4+oe,"Outliers",oe),this.components.outliers[oe]=Ie;Ne.showOutliersLegend&&this._addLegendOutliers(this.components.outliers),Ne.showOutliersLegend&&(this.subDS+=1)},_createSubDS:function(e,t,a){var o,r,i=this.chart,n=i.jsonData.dataset,s=n&&n.length,l=this.components,n=i.components.legend,h={},l=l.dataset||(l.dataset=[]),s=s*(e+1)+this.index;switch(l[e]?(r=l[e],r.index=s,i=ie({},this.JSONData),r.JSONData=i):(o=FusionCharts.get("component",["dataset","subDS"]))&&(void 0===h.subDS?h.subDS=0:h.subDS++,r=new o,r.chart=i,r.index=s,l.push(r),i=ie({},this.JSONData),this.initSubDataset(i,r),r.name=t),e){case 0:this.configureMean(r),!this.config.showMeanLegend&&n.removeItem(r.legendItemId);break;case 1:this.configureSD(r),!this.config.showQDLegend&&n.removeItem(r.legendItemId);break;case 2:this.configureMD(r),!this.config.showMDLegend&&n.removeItem(r.legendItemId);break;case 3:this.configureQD(r),!this.config.showQDLegend&&n.removeItem(r.legendItemId);break;default:this.configureOutliers(r,a),!this.config.showOutliersLegend&&n.removeItem(this.components.outliers.legendItemId)}return r},configureMean:function(e){var t,o,r,i,n=e.chart,s=n.components,l=a.parseUnsafeString,h=e.config,d=e.JSONData,c=n.jsonData.chart,p=s.colorManager,u=e.index||e.stackIndex,m=e.type,f=!n.singleseries||te(c.palettecolors)?p.getPlotColor(u):p.getColor(H).split(/\s*\,\s*/)[0],u=d.data,x=n.config.categories,x=Oe(x&&x.length,u&&u.length),v=s.numberFormatter,b=n.use3dlineshift,w=-1/0,y=1/0,C=ee(c.tooltipsepchar,": "),k=ae(d.dashed,c.linedashed);for(i=n.isStacked,t=n.hasLineSet,s=s.xAxis[0],e.visible=1===ae(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),h.use3dlineshift=void 0!==b?ae(c.use3dlineshift,b):1,h.plotColor=f,h.legendSymbolColor=h.plotColor,n=ae(n.defaultPlotShadow,p.getColor("showShadow")),h.drawFullAreaBorder=ae(c.drawfullareaborder,1),h.parentYAxis=r=t?1:ee(d.parentyaxis&&d.parentyaxis.toLowerCase(),M)===R?1:0,h.connectNullData=ae(c.connectnulldata,0),h.enableAnimation=p=ae(c.animation,c.defaultanimation,1),h.animation=!!p&&{duration:1e3*ae(c.animationduration,1)},h.transposeanimation=ae(c.transposeanimation,p),h.transposeanimduration=1e3*ae(c.transposeanimduration,.2),h.showValues=0,h.valuePadding=ae(c.valuepadding,2),h.valuePosition=ee(d.valueposition,c.valueposition,"auto"),h.stack100Percent=p=ae(c.stack100percent,0),h.showPercentValues=ae(c.showpercentvalues,i&&p?1:0),h.showPercentInToolTip=ae(c.showpercentintooltip,i&&p?1:0),h.showTooltip=ae(c.showtooltip,1),h.seriesNameInTooltip=ae(c.seriesnameintooltip,1),h.showHoverEffect=ae(c.plothovereffect,c.anchorhovereffect,c.showhovereffect,void 0),h.rotateValues=ae(c.rotatevalues)?270:0,h.linethickness=ae(d.linethickness,c.linethickness,1),h.lineDashLen=ae(d.linedashlen,c.linedashlen,5),h.lineDashGap=ae(d.linedashgap,c.linedashgap,4),h.drawLine=h.alpha=ae(c.drawmeanconnector,d.drawmeanconnector,0)&&100,i=a.getDashStyle(h.lineDashLen,h.lineDashGap,h.linethickness),h.lineDashStyle=k?i:"none",h.shadow={opacity:ae(c.showshadow,n)?m===Y?h.alpha/100:h.plotBorderAlpha/100:0},h.drawAnchors=ae(d.drawanchors,d.showanchors,c.drawanchors,c.showanchors),h.anchorBgColor=ee(d.meaniconcolor,c.meaniconcolor,g),h.anchorBorderColor=g,h.anchorRadius=ae(d.meaniconradius,c.meaniconradius,5),h.anchorAlpha=ee(d.alpha,d.meaniconalpha,c.meaniconalpha),h.anchorBgAlpha=ee(d.meaniconalpha,c.meaniconalpha,100),h.anchorBorderThickness=ee(d.anchorborderthickness,c.anchorborderthickness,1),h.anchorSides=ee(d.meaniconsides,c.meaniconsides,3),h.linecolor=h.anchorBgColor,h.minimizeTendency=ae(c.minimizetendency,c.minimisetendency,0),h.anchorImageUrl=ee(d.anchorimageurl,c.anchorimageurl),h.anchorImageAlpha=ae(d.anchorimagealpha,c.anchorimagealpha,100),h.anchorImageScale=ae(d.anchorimagescale,c.anchorimagescale,100),h.anchorImagePadding=ae(d.anchorimagepadding,c.anchorimagepadding,1),h.anchorStartAngle=ae(d.anchorstartangle,c.anchorstartangle,90),h.anchorShadow=ae(d.anchorshadow,c.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,f=0;f<x;f++)t=u&&u[f],m=n[f]=n[f]||{},m.config=m.config||{},p=m.config,b=this.components.data[f].config,t.value=b.showMean?b.mean:null,p.x=this.components.data[f]._xPos,p.setValue=b=v.getCleanValue(t.value),p.setLink=ee(t.link),p.anchorProps=this._parseAnchorProperties(f,e,"mean"),o=s.getLabel(f),p.label=a.getValidValue(l(ee(o.tooltext,o.label,o.name))),p.showValue=0,p.dashed=ae(t.dashed,k),p.color=ee(t.color,h.lineColor),p.alpha=ee(t.alpha,t.alpha,h.alpha),w=Fe(w,b),y=Oe(y,b),p.dashStyle=p.dashed?i:"none",p.toolTipValue=b=v.dataLabels(b,r),p.setDisplayValue=o=l(t.displayvalue),p.displayValue=ee(o,b),p.formatedVal=p.toolTipValue,p.setTooltext=a.getValidValue(l(ee(t.tooltext,d.plottooltext,c.plottooltext))),t=ee(t.meaniconshape,d.meaniconshape,c.meaniconshape,"polygon"),h.dip=p.dip="polygon"===t?0:"spoke"===t?1:0,t=!!h.showTooltip&&"<b>Mean"+C+"</b>",p.toolText=t,p.setTooltext=t,m?m.graphics||(n[f].graphics={}):n[f]={graphics:{}},p.hoverEffects={enabled:!1};h.maxValue=w,h.minValue=y},configureSD:function(e){var t,o,r,i,n=e.chart,s=n.components,l=a.parseUnsafeString,h=e.config,d=e.JSONData,c=n.jsonData.chart,p=s.colorManager,u=e.index||e.stackIndex,m=e.type,f=!n.singleseries||te(c.palettecolors)?p.getPlotColor(u):p.getColor(H).split(/\s*\,\s*/)[0],u=d.data,x=n.config.categories,x=Oe(x&&x.length,u&&u.length),v=s.numberFormatter,b=n.use3dlineshift,w=-1/0,y=1/0,C=ee(c.tooltipsepchar,": "),k=ae(d.dashed,c.linedashed);for(i=n.isStacked,t=n.hasLineSet,s=s.xAxis[0],e.visible=1===ae(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),h.use3dlineshift=void 0!==b?ae(c.use3dlineshift,b):1,h.plotColor=f,h.legendSymbolColor=h.plotColor,n=ae(n.defaultPlotShadow,p.getColor("showShadow")),h.drawFullAreaBorder=ae(c.drawfullareaborder,1),h.parentYAxis=r=t?1:ee(d.parentyaxis&&d.parentyaxis.toLowerCase(),M)===R?1:0,h.connectNullData=ae(c.connectnulldata,0),h.enableAnimation=p=ae(c.animation,c.defaultanimation,1),h.animation=!!p&&{duration:1e3*ae(c.animationduration,1)},h.transposeanimation=ae(c.transposeanimation,p),h.transposeanimduration=1e3*ae(c.transposeanimduration,.2),h.showValues=0,h.valuePadding=ae(c.valuepadding,2),h.valuePosition=ee(d.valueposition,c.valueposition,"auto"),h.stack100Percent=p=ae(c.stack100percent,0),h.showPercentValues=ae(c.showpercentvalues,i&&p?1:0),h.showPercentInToolTip=ae(c.showpercentintooltip,i&&p?1:0),h.showTooltip=ae(c.showtooltip,1),h.seriesNameInTooltip=ae(c.seriesnameintooltip,1),h.showHoverEffect=ae(c.plothovereffect,c.anchorhovereffect,c.showhovereffect,void 0),h.rotateValues=ae(c.rotatevalues)?270:0,h.linethickness=ae(d.linethickness,c.linethickness,1),h.lineDashLen=ae(d.linedashlen,c.linedashlen,5),h.lineDashGap=ae(d.linedashgap,c.linedashgap,4),h.drawLine=h.alpha=ae(c.drawsdconnector,d.drawsdconnector,0)&&100,i=a.getDashStyle(h.lineDashLen,h.lineDashGap,h.linethickness),h.lineDashStyle=k?i:"none",h.shadow={opacity:ae(c.showshadow,n)?m===Y?h.alpha/100:h.plotBorderAlpha/100:0},h.drawAnchors=ae(d.drawanchors,d.showanchors,c.drawanchors,c.showanchors),h.anchorBgColor=ee(d.sdiconcolor,c.sdiconcolor,g),h.anchorBorderColor=g,h.anchorRadius=ae(d.sdiconradius,c.sdiconradius,5),h.anchorAlpha=ee(d.alpha,d.sdiconalpha,c.sdiconalpha),h.anchorBgAlpha=ee(d.sdiconalpha,c.sdiconalpha,100),h.anchorBorderThickness=ee(d.anchorborderthickness,c.anchorborderthickness,1),h.anchorSides=ee(d.sdiconsides,c.sdiconsides,3),h.linecolor=h.anchorBgColor,h.minimizeTendency=ae(c.minimizetendency,c.minimisetendency,0),h.anchorImageUrl=ee(d.anchorimageurl,c.anchorimageurl),h.anchorImageAlpha=ae(d.anchorimagealpha,c.anchorimagealpha,100),h.anchorImageScale=ae(d.anchorimagescale,c.anchorimagescale,100),h.anchorImagePadding=ae(d.anchorimagepadding,c.anchorimagepadding,1),h.anchorStartAngle=ae(d.anchorstartangle,c.anchorstartangle,90),h.anchorShadow=ae(d.anchorshadow,c.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,f=0;f<x;f++)t=u&&u[f],m=n[f]=n[f]||{},m.config=m.config||{},p=m.config,b=this.components.data[f].config,t.value=b.showSD?b.sd:null,p.x=this.components.data[f]._xPos,p.setValue=b=v.getCleanValue(t.value),p.setLink=ee(t.link),p.anchorProps=this._parseAnchorProperties(f,e,"sd"),o=s.getLabel(f),p.label=a.getValidValue(l(ee(o.tooltext,o.label,o.name))),p.showValue=0,p.dashed=ae(t.dashed,k),p.color=ee(t.color,h.lineColor),p.alpha=ee(t.alpha,t.alpha,h.alpha),w=Fe(w,b),y=Oe(y,b),p.dashStyle=p.dashed?i:"none",p.toolTipValue=b=v.dataLabels(b,r),p.setDisplayValue=o=l(t.displayvalue),p.displayValue=ee(o,b),p.formatedVal=b=p.toolTipValue,p.setTooltext=a.getValidValue(l(ee(t.tooltext,d.plottooltext,c.plottooltext))),t=ee(t.sdiconshape,d.sdiconshape,c.sdiconshape,"polygon"),h.dip=p.dip="polygon"===t?0:"spoke"===t?1:0,t=!!h.showTooltip&&(null!==b&&"<b>SD"+C+"</b>"),p.toolText=t,p.setTooltext=t,m?m.graphics||(n[f].graphics={}):n[f]={graphics:{}},p.hoverEffects={enabled:!1};h.maxValue=w,h.minValue=y},configureMD:function(e){var t,o,r,i,n=e.chart,s=n.components,l=a.parseUnsafeString,h=e.config,d=e.JSONData,c=n.jsonData.chart,p=s.colorManager,u=e.index||e.stackIndex,m=e.type,f=!n.singleseries||te(c.palettecolors)?p.getPlotColor(u):p.getColor(H).split(/\s*\,\s*/)[0],u=d.data,x=n.config.categories,x=Oe(x&&x.length,u&&u.length),v=s.numberFormatter,b=n.use3dlineshift,w=-1/0,y=1/0,C=ee(c.tooltipsepchar,": "),k=ae(d.dashed,c.linedashed);for(i=n.isStacked,t=n.hasLineSet,s=s.xAxis[0],e.visible=1===ae(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),h.use3dlineshift=void 0!==b?ae(c.use3dlineshift,b):1,h.plotColor=f,h.legendSymbolColor=h.plotColor,n=ae(n.defaultPlotShadow,p.getColor("showShadow")),h.drawFullAreaBorder=ae(c.drawfullareaborder,1),h.parentYAxis=r=t?1:ee(d.parentyaxis&&d.parentyaxis.toLowerCase(),M)===R?1:0,h.connectNullData=ae(c.connectnulldata,0),h.enableAnimation=p=ae(c.animation,c.defaultanimation,1),h.animation=!!p&&{duration:1e3*ae(c.animationduration,1)},h.transposeanimation=ae(c.transposeanimation,p),h.transposeanimduration=1e3*ae(c.transposeanimduration,.2),h.showValues=0,h.valuePadding=ae(c.valuepadding,2),h.valuePosition=ee(d.valueposition,c.valueposition,"auto"),h.stack100Percent=p=ae(c.stack100percent,0),h.showPercentValues=ae(c.showpercentvalues,i&&p?1:0),h.showPercentInToolTip=ae(c.showpercentintooltip,i&&p?1:0),h.showTooltip=ae(c.showtooltip,1),h.seriesNameInTooltip=ae(c.seriesnameintooltip,1),h.showHoverEffect=ae(c.plothovereffect,c.anchorhovereffect,c.showhovereffect,void 0),h.rotateValues=ae(c.rotatevalues)?270:0,h.linethickness=ae(d.linethickness,c.linethickness,1),h.lineDashLen=ae(d.linedashlen,c.linedashlen,5),h.lineDashGap=ae(d.linedashgap,c.linedashgap,4),h.drawLine=h.alpha=ae(c.drawmdconnector,d.drawmdconnector,0)&&100,i=a.getDashStyle(h.lineDashLen,h.lineDashGap,h.linethickness),h.lineDashStyle=k?i:"none",h.shadow={opacity:ae(c.showshadow,n)?m===Y?h.alpha/100:h.plotBorderAlpha/100:0},h.drawAnchors=ae(d.drawanchors,d.showanchors,c.drawanchors,c.showanchors),h.anchorBgColor=ee(d.mdiconcolor,c.mdiconcolor,g),h.anchorBorderColor=g,h.anchorRadius=ae(d.mdiconradius,c.mdiconradius,5),h.anchorAlpha=ee(d.alpha,d.mdiconalpha,c.mdiconalpha),h.anchorBgAlpha=ee(d.mdiconalpha,c.mdiconalpha,100),h.anchorBorderThickness=ee(d.anchorborderthickness,c.anchorborderthickness,1),h.anchorSides=ee(d.mdiconsides,c.mdiconsides,3),h.linecolor=h.anchorBgColor,h.minimizeTendency=ae(c.minimizetendency,c.minimisetendency,0),h.anchorImageUrl=ee(d.anchorimageurl,c.anchorimageurl),h.anchorImageAlpha=ae(d.anchorimagealpha,c.anchorimagealpha,100),h.anchorImageScale=ae(d.anchorimagescale,c.anchorimagescale,100),h.anchorImagePadding=ae(d.anchorimagepadding,c.anchorimagepadding,1),h.anchorStartAngle=ae(d.anchorstartangle,c.anchorstartangle,90),h.anchorShadow=ae(d.anchorshadow,c.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,f=0;f<x;f++)t=u&&u[f],m=n[f]=n[f]||{},m.config=m.config||{},p=m.config,b=this.components.data[f].config,t.value=b.showMD?b.md:null,p.x=this.components.data[f]._xPos,
p.setValue=b=v.getCleanValue(t.value),p.setLink=ee(t.link),p.anchorProps=this._parseAnchorProperties(f,e,"md"),o=s.getLabel(f),p.label=a.getValidValue(l(ee(o.tooltext,o.label,o.name))),p.showValue=0,p.dashed=ae(t.dashed,k),p.color=ee(t.color,h.lineColor),p.alpha=ee(t.alpha,t.alpha,h.alpha),w=Fe(w,b),y=Oe(y,b),p.dashStyle=p.dashed?i:"none",p.toolTipValue=b=v.dataLabels(b,r),p.setDisplayValue=o=l(t.displayvalue),p.displayValue=ee(o,b),p.formatedVal=p.toolTipValue,p.setTooltext=a.getValidValue(l(ee(t.tooltext,d.plottooltext,c.plottooltext))),t=ee(t.mdiconshape,d.mdiconshape,c.mdiconshape,"polygon"),h.dip=p.dip="polygon"===t?0:"spoke"===t?1:0,t=!!h.showTooltip&&"<b>MD"+C+"</b>",p.toolText=t,p.setTooltext=t,m?m.graphics||(n[f].graphics={}):n[f]={graphics:{}},p.hoverEffects={enabled:!1};h.maxValue=w,h.minValue=y},configureQD:function(e){var t,o,r,i,n=e.chart,s=n.components,l=a.parseUnsafeString,h=e.config,d=e.JSONData,c=n.jsonData.chart,p=s.colorManager,u=e.index||e.stackIndex,m=e.type,f=!n.singleseries||te(c.palettecolors)?p.getPlotColor(u):p.getColor(H).split(/\s*\,\s*/)[0],u=d.data,x=n.config.categories,x=Oe(x&&x.length,u&&u.length),v=s.numberFormatter,b=n.use3dlineshift,w=-1/0,y=1/0,C=ee(c.tooltipsepchar,": "),k=ae(d.dashed,c.linedashed);for(i=n.isStacked,t=n.hasLineSet,s=s.xAxis[0],e.visible=1===ae(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),h.use3dlineshift=void 0!==b?ae(c.use3dlineshift,b):1,h.plotColor=f,h.legendSymbolColor=h.plotColor,n=ae(n.defaultPlotShadow,p.getColor("showShadow")),h.drawFullAreaBorder=ae(c.drawfullareaborder,1),h.parentYAxis=r=t?1:ee(d.parentyaxis&&d.parentyaxis.toLowerCase(),M)===R?1:0,h.connectNullData=ae(c.connectnulldata,0),h.enableAnimation=p=ae(c.animation,c.defaultanimation,1),h.animation=!!p&&{duration:1e3*ae(c.animationduration,1)},h.transposeanimation=ae(c.transposeanimation,p),h.transposeanimduration=1e3*ae(c.transposeanimduration,.2),h.showValues=0,h.valuePadding=ae(c.valuepadding,2),h.valuePosition=ee(d.valueposition,c.valueposition,"auto"),h.stack100Percent=p=ae(c.stack100percent,0),h.showPercentValues=ae(c.showpercentvalues,i&&p?1:0),h.showPercentInToolTip=ae(c.showpercentintooltip,i&&p?1:0),h.showTooltip=ae(c.showtooltip,1),h.seriesNameInTooltip=ae(c.seriesnameintooltip,1),h.showHoverEffect=ae(c.plothovereffect,c.anchorhovereffect,c.showhovereffect,void 0),h.rotateValues=ae(c.rotatevalues)?270:0,h.linethickness=ae(d.linethickness,c.linethickness,1),h.lineDashLen=ae(d.linedashlen,c.linedashlen,5),h.lineDashGap=ae(d.linedashgap,c.linedashgap,4),h.drawLine=h.alpha=ae(c.drawqdconnector,d.drawqdconnector,0)&&100,i=a.getDashStyle(h.lineDashLen,h.lineDashGap,h.linethickness),h.lineDashStyle=k?i:"none",h.shadow={opacity:ae(c.showshadow,n)?m===Y?h.alpha/100:h.plotBorderAlpha/100:0},h.drawAnchors=ae(d.drawanchors,d.showanchors,c.drawanchors,c.showanchors),h.anchorBgColor=ee(d.qdiconcolor,c.qdiconcolor,g),h.anchorBorderColor=g,h.anchorRadius=ae(d.qdiconradius,c.qdiconradius,5),h.anchorAlpha=ee(d.alpha,d.qdiconalpha,c.qdiconalpha),h.anchorBgAlpha=ee(d.qdiconalpha,c.qdiconalpha,100),h.anchorBorderThickness=ee(d.anchorborderthickness,c.anchorborderthickness,1),h.anchorSides=ee(d.qdiconsides,c.qdiconsides,3),h.linecolor=h.anchorBgColor,h.minimizeTendency=ae(c.minimizetendency,c.minimisetendency,0),h.anchorImageUrl=ee(d.anchorimageurl,c.anchorimageurl),h.anchorImageAlpha=ae(d.anchorimagealpha,c.anchorimagealpha,100),h.anchorImageScale=ae(d.anchorimagescale,c.anchorimagescale,100),h.anchorImagePadding=ae(d.anchorimagepadding,c.anchorimagepadding,1),h.anchorStartAngle=ae(d.anchorstartangle,c.anchorstartangle,90),h.anchorShadow=ae(d.anchorshadow,c.anchorshadow,0),!e.components.data&&(e.components.data=[]),n=e.components.data,f=0;f<x;f++)t=u&&u[f],m=n[f]=n[f]||{},m.config=m.config||{},p=m.config,b=this.components.data[f].config,t.value=b.showQD?b.qd:null,p.x=this.components.data[f]._xPos,p.setValue=b=v.getCleanValue(t.value),p.setLink=ee(t.link),p.anchorProps=this._parseAnchorProperties(f,e,"qd"),o=s.getLabel(f),p.label=a.getValidValue(l(ee(o.tooltext,o.label,o.name))),p.showValue=0,p.dashed=ae(t.dashed,k),p.color=ee(t.color,h.lineColor),p.alpha=ee(t.alpha,t.alpha,h.alpha),w=Fe(w,b),y=Oe(y,b),p.dashStyle=p.dashed?i:"none",p.toolTipValue=b=v.dataLabels(b,r),p.setDisplayValue=o=l(t.displayvalue),p.displayValue=ee(o,b),p.formatedVal=b=p.toolTipValue,p.setTooltext=a.getValidValue(l(ee(t.tooltext,d.plottooltext,c.plottooltext))),t=ee(t.qdiconshape,d.qdiconshape,c.qdiconshape,"polygon"),h.dip=p.dip="polygon"===t?0:"spoke"===t?1:0,t=!!h.showTooltip&&(null!==b&&"<b>QD"+C+"</b>"),p.toolText=t,p.setTooltext=t,m?m.graphics||(n[f].graphics={}):n[f]={graphics:{}},p.hoverEffects={enabled:!1};h.maxValue=w,h.minValue=y},configureOutliers:function(e,t){var o,r,i,n,s=e.chart,l=s.components,h=a.parseUnsafeString,d=e.config,c=e.JSONData,p=s.jsonData.chart,u=l.colorManager,m=e.index||e.stackIndex,f=e.type,x=!s.singleseries||te(p.palettecolors)?u.getPlotColor(m):u.getColor(H).split(/\s*\,\s*/)[0],m=c.data,v=s.config.categories,v=Oe(v&&v.length,m&&m.length),b=l.numberFormatter,w=s.use3dlineshift,y=-1/0,C=1/0,k=ee(p.tooltipsepchar,": "),A=ae(c.dashed,p.linedashed);for(n=s.isStacked,o=s.hasLineSet,l=l.xAxis[0],e.visible=1===ae(e.JSONData.visible,!Number(e.JSONData.initiallyhidden),1),d.use3dlineshift=void 0!==w?ae(p.use3dlineshift,w):1,d.plotColor=x,d.legendSymbolColor=d.plotColor,s=ae(s.defaultPlotShadow,u.getColor("showShadow")),d.drawFullAreaBorder=ae(p.drawfullareaborder,1),d.parentYAxis=i=o?1:ee(c.parentyaxis&&c.parentyaxis.toLowerCase(),M)===R?1:0,d.connectNullData=ae(p.connectnulldata,0),d.enableAnimation=u=ae(p.animation,p.defaultanimation,1),d.animation=!!u&&{duration:1e3*ae(p.animationduration,1)},d.transposeanimation=ae(p.transposeanimation,u),d.transposeanimduration=1e3*ae(p.transposeanimduration,.2),d.showValues=0,d.valuePadding=ae(p.valuepadding,2),d.valuePosition=ee(c.valueposition,p.valueposition,"auto"),d.stack100Percent=u=ae(p.stack100percent,0),d.showPercentValues=ae(p.showpercentvalues,n&&u?1:0),d.showPercentInToolTip=ae(p.showpercentintooltip,n&&u?1:0),d.showTooltip=ae(p.showtooltip,1),d.seriesNameInTooltip=ae(p.seriesnameintooltip,1),d.showHoverEffect=ae(p.plothovereffect,p.anchorhovereffect,p.showhovereffect,void 0),d.rotateValues=ae(p.rotatevalues)?270:0,d.linethickness=ae(c.linethickness,p.linethickness,1),d.lineDashLen=ae(c.linedashlen,p.linedashlen,5),d.lineDashGap=ae(c.linedashgap,p.linedashgap,4),d.alpha=0,n=a.getDashStyle(d.lineDashLen,d.lineDashGap,d.linethickness),d.lineDashStyle=A?n:"none",d.shadow={opacity:ae(p.showshadow,s)?f===Y?d.alpha/100:d.plotBorderAlpha/100:0},d.drawAnchors=ae(c.drawanchors,c.showanchors,p.drawanchors,p.showanchors),d.anchorBgColor=ee(c.outliericoncolor,p.outliericoncolor,g),d.anchorBorderColor=g,d.anchorRadius=ae(c.outliericonradius,p.outliericonradius,5),d.anchorAlpha=ee(c.alpha,c.outliericonalpha,p.outliericonalpha),d.anchorBgAlpha=ee(c.outliericonalpha,p.outliericonalpha,100),d.anchorBorderThickness=ee(c.anchorborderthickness,p.anchorborderthickness,1),d.anchorSides=ee(c.outliericonsides,p.outliericonsides,3),d.linecolor=d.anchorBgColor,d.minimizeTendency=ae(p.minimizetendency,p.minimisetendency,0),d.anchorImageUrl=ee(c.anchorimageurl,p.anchorimageurl),d.anchorImageAlpha=ae(c.anchorimagealpha,p.anchorimagealpha,100),d.anchorImageScale=ae(c.anchorimagescale,p.anchorimagescale,100),d.anchorImagePadding=ae(c.anchorimagepadding,p.anchorimagepadding,1),d.anchorStartAngle=ae(c.anchorstartangle,p.anchorstartangle,90),d.anchorShadow=ae(c.anchorshadow,p.anchorshadow,0),!e.components.data&&(e.components.data=[]),s=e.components.data,x=0;x<v;x++)o=m&&m[x],f=s[x]=s[x]||{},f.config=f.config||{},u=f.config,r=this.components.data[x].config,o.value=r.outliers?r.outliers[t]:null,u.x=this.components.data[x]._xPos,u.setValue=w=b.getCleanValue(o.value),w>=r.min&&w<=r.max&&(u.setValue=o.value=null),u.setLink=ee(o.link),u.anchorProps=this._parseAnchorProperties(x,e,"outlier"),r=l.getLabel(x),u.label=a.getValidValue(h(ee(r.tooltext,r.label,r.name))),u.showValue=0,u.dashed=ae(o.dashed,A),u.color=ee(o.color,d.lineColor),u.alpha=ee(o.alpha,o.alpha,d.alpha),y=Fe(y,w),C=Oe(C,w),u.dashStyle=u.dashed?n:"none",u.toolTipValue=w=b.dataLabels(w,i),u.setDisplayValue=r=h(o.displayvalue),u.displayValue=ee(r,w),u.formatedVal=w=u.toolTipValue,u.setTooltext=a.getValidValue(h(ee(o.tooltext,c.plottooltext,p.plottooltext))),o=ee(o.outliericonshape,c.outliericonshape,p.outliericonshape,"polygon"),d.dip=u.dip="polygon"===o?0:"spoke"===o?1:0,o=!!d.showTooltip&&(null!==w&&"<b>Outlier"+k+"</b>"),u.toolText=o,u.setTooltext=o,f?f.graphics||(s[x].graphics={}):s[x]={graphics:{}},u.hoverEffects={enabled:!1};d.maxValue=y,d.minValue=C},initSubDataset:function(e,t){var a=t.chart,o=a.components,r=a.hasLineSet,r=e.parentyaxis&&e.parentyaxis.toLowerCase()===R||r?1:0;t.chart=a,t.yAxis=o.yAxis[r],t.components={},t.graphics={},t.JSONData=e},_parseAnchorProperties:function(e,t,o){var r=t.config,i="area"===t.type?0:1,n=t.JSONData,s=t.chart.jsonData.chart;e=n.data[e],t={};var l=a.graphics.mapSymbolName,n=void 0!==ee(e.anchorstartangle,n.anchorstartangle,s.anchorstartangle,e.anchorimagealpha,n.anchorimagealpha,s.anchorimagealpha,e.anchorimagescale,n.anchorimagescale,s.anchorimagescale,e.anchorimagepadding,n.anchorimagepadding,s.anchorimagepadding,e.anchorimageurl,n.anchorimageurl,s.anchorimageurl,e.meaniconradius,n.meaniconradius,s.meaniconradius,e.meaniconcolor,n.meaniconcolor,s.meaniconcolor,e.anchorbordercolor,n.anchorbordercolor,s.anchorbordercolor,e.anchoralpha,n.anchoralpha,s.anchoralpha,e.meaniconsides,n.meaniconsides,s.meaniconsides,e.anchorborderthickness,n.anchorborderthickness,s.anchorborderthickness,void 0),s=ae(e.drawanchors,r.drawAnchors);return t.enabled=n?ae(s,n):ae(s,i),t.startAngle=ae(e.anchorstartangle,r.anchorStartAngle),t.imageAlpha=ae(e.anchorimagealpha,r.anchorImageAlpha),t.imageScale=ae(e.anchorimagescale,r.anchorImageScale),t.imagePadding=ae(e.anchorimagepadding,r.anchorImagePadding),0>t.imagePadding&&(t.imagePadding=0),t.imageUrl=ee(e.anchorimageurl,r.anchorImageUrl),t.radius=ae(e[o+"iconradius"],r.anchorRadius),t.isAnchorRadius=t.radius,t.bgColor=ee(e[o+"iconcolor"],r.anchorBgColor),i=t.enabled?Ke(ee(e.anchoralpha,r.anchorAlpha,t.enabled?nt:F)):0,t.bgAlpha=Ke(ee(e[o+"iconalpha"],r.meaniconalpha,i)),t.borderColor=ee(e.anchorbordercolor,r.anchorBorderColor),t.borderAlpha=i,t.sides=ee(e[o+"iconsides"],r.anchorSides),t.borderThickness=ee(e.anchorborderthickness,r.anchorBorderThickness),t.symbol=l(t.sides).split(U),t.shadow=!!(ae(e.anchorshadow,r.anchorShadow)&&1<=t.radius)&&{opacity:i/100},t},init:function(e){var t=this.chart,a=t.components,o=e.parentyaxis&&e.parentyaxis.toLowerCase()===R?1:0,a=a.yAxis[o];if(!e)return!1;this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},this.configure()},draw:function(){var e,t,a,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b,w,A,L,D,T,V,I,B,E,O,F,M,R,H,J,Y,q,X,K,$,ee,te,oe,re,ie,ne,le,he,de,ce,pe,ge,ue,me,fe,xe,ve,be,we,ye,Ce,ke,Ae,Le,De,Te,Ve,Pe,Ie,Be,_e,Ee,Me,Re,We,Ge,ze,je,He,Ue=this,Je=Ue.JSONData,Ye=Ue.config,qe=Ue.groupManager,Xe=Ue.index,Ke=Ue.chart.config.categories,Qe=Je.data,Ze=Ke&&Ke.length,$e=Qe&&Qe.length,et=Ue.visible,at=Ue.chart,ot=at.config,rt=at.components.paper,it=at.components.xAxis[0],nt=Ue.yAxis,st=at.graphics.columnGroup,ht=at.graphics,dt=Ye.showtooltip,ct=at.get(y,C),pt=ct.animType,gt=ct.animObj,ut=ct.dummyObj,mt=ct.duration,ft=it.getAxisPosition(0),xt=it.getAxisPosition(1)-ft,vt=Ye.definedGroupPadding,bt=Ye.plotSpacePercent/200,wt=qe.getDataSetPosition(Ue),yt=Ye.maxcolwidth,Ct=(1-.01*vt)*xt||Oe(xt*(1-2*bt),1*yt),kt=ae(wt.columnWidth,Ct/1),At=wt.xPosOffset||0,Lt=wt.height,St=Ue.components.data,Dt=nt.getAxisBase(),Tt=Ye.showShadow,Vt=Ue.graphics.upperBoxContainer,Pt=Ue.graphics.lowerBoxContainer,It=Ue.graphics.medianContainer,Bt=Ue.graphics.upperWhiskerContainer,_t=Ue.graphics.lowerWhiskerContainer,Et=Ue.graphics.dataLabelContainer,Nt=Ue.graphics.shadowContainer,Ot=at.config.dataLabelStyle,Ft=ht.datalabelsGroup,Mt=Ye.rotatevalues,Rt=Ye.valuepadding,Wt=at.components.numberFormatter,Gt=Mt?tt:"middle",zt=at.linkedItems.smartLabel,jt=1/0,Ht=!0,Ut=(Ue.components.removeDataArr||[]).length,Jt=Ye.showHoverEffect,Yt=function(e){lt.call(this,at,e)},qt=function(e){return function(t){var a;if(0!==this.data(k))for(a in e)"label"!==a&&(e[a].attr(this.data("setRolloverAttr")[a]),lt.call(this,at,t,"DataPlotRollOver"))}},Xt=function(e){return function(t){var a;if(0!==this.data(k))for(a in e)"label"!==a&&(e[a].attr(this.data("setRolloutAttr")[a]),lt.call(this,at,t,"DataPlotRollOut"))}},Kt=function(){!1!==Ue.visible||!1!==Ue._conatinerHidden&&void 0!==Ue._conatinerHidden||(Vt.hide(),Pt.hide(),Bt.hide(),_t.hide(),It.hide(),Nt.hide(),Et&&Et.hide(),Ue._conatinerHidden=!0)};for(Et||(Et=Ue.graphics.dataLabelContainer=rt.group(P,Ft),et||Et.hide()),Vt||(Vt=Ue.graphics.upperBoxContainer=rt.group("upperBox",st).trackTooltip(!0).toBack(),et||Vt.hide()),Bt||(Bt=Ue.graphics.upperWhiskerContainer=rt.group("upperWhisker",st).trackTooltip(!0),et||Bt.hide()),Pt||(Pt=Ue.graphics.lowerBoxContainer=rt.group("lowerBox",st).trackTooltip(!0).toBack(),et||Pt.hide()),_t||(_t=Ue.graphics.lowerWhiskerContainer=rt.group("lowerWhisker",st).trackTooltip(!0),et||_t.hide()),It||(It=Ue.graphics.medianContainer=rt.group("median",st).trackTooltip(!0),et||It.hide()),Nt||(Nt=Ue.graphics.shadowContainer=rt.group(S,st).toBack(),et||Nt.hide()),et&&(Vt.show(),Pt.show(),Bt.show(),_t.show(),It.show(),Nt.show(),Et&&Et.show(),Ue._conatinerHidden=!1,Ue.components.mean.visible&&Ue.components.mean.show(),Ue.components.sd.visible&&Ue.components.sd.show(),Ue.components.qd.visible&&Ue.components.qd.show(),Ue.components.md.visible&&Ue.components.md.show()),s=Oe(Ze,$e),h=0;h<s;h++)if(f=(v=(u=St[h])&&u.config)&&v.setValue,_e=Be=Ie=Pe=Ve=Te=De=Le=Ae=!1,void 0!==u&&void 0!==f&&null!==f)for(ne=u.graphics,b=0<=f,m=v.setLink,u.graphics||(St[h].graphics={}),ne.label||(St[h].graphics.label=[]),w=b?v.previousPositiveY:v.previousNegativeY,A=nt.getAxisPosition(w||Dt),d=it.getAxisPosition(h)+At,0===Lt&&(jt=0,Ce=A),c=Oe(c,A),p=kt,L=v.upperQuartile||{},T=((D=L.value)||0===D)&&nt.getAxisPosition(D),V=v.lowerQuartile||{},B=((I=V.value)||0===I)&&nt.getAxisPosition(I),F=((O=(E=v.median)&&E.value)||0===O)&&nt.getAxisPosition(O),M=F-T,R=B-F,H=v.upperBoxBorder||{},J=v.lowerBoxBorder||{},g=v.toolText,le=Ue.index+U+h,x={index:h,link:m,maximum:v.max,minimum:v.min,median:O,q3:L.value,q1:V.value,maxDisplayValue:v.showMaxValues?Wt.dataLabels(v.max):Z,minDisplayValue:v.showMinValues?Wt.dataLabels(v.min):Z,medianDisplayValue:v.showMedianValues?Wt.dataLabels(O):Z,q1DisplayValue:v.showQ1Values?Wt.dataLabels(V.value):Z,q3DisplayValue:v.showQ3Values?Wt.dataLabels(L.value):Z,categoryLabel:v.label,toolText:g,datasetIndex:Xe,datasetName:Je.seriesname,visible:et},oe=Ne(d)+H.borderWidth%2*.5,re=Ne(d+p)+H.borderWidth%2*.5,ie=Ne(T)+L.borderWidth%2*.5,p=re-oe,e={fill:se(v.upperColorArr[0]),"stroke-width":0,"stroke-dasharray":"none",cursor:m?"pointer":Z,ishot:!0,visibility:et},t={fill:se(v.lowerColorArr[0]),"stroke-width":0,"stroke-dasharray":"none",cursor:m?"pointer":Q,ishot:!0,visibility:et},a={stroke:H.color,"stroke-width":H.borderWidth,"stroke-linecap":N,dashstyle:H.dashStyle,ishot:!0,visibility:et},o={stroke:J.color,"stroke-width":J.borderWidth,dashstyle:J.dashStyle,"stroke-linecap":N,ishot:!0,visibility:et},r={stroke:se(L.color),"stroke-width":L.borderWidth,"stroke-dasharray":L.dashSyle,"stroke-linecap":N,cursor:m?"pointer":Q,ishot:!0,visibility:et},i={stroke:se(V.color),"stroke-width":V.borderWidth,"stroke-dasharray":V.dashSyle,cursor:m?"pointer":Z,"stroke-linecap":N,ishot:!0,visibility:et},n={stroke:se(E.color),"stroke-width":E.borderWidth,"stroke-dasharray":E.dashSyle,cursor:m?"pointer":Z,"stroke-linecap":N,ishot:!0,visibility:et},Ge=Ce||ie,l={x:oe,y:Ce||ie,width:Fe(p,0),height:Fe(Oe(jt,M),0),r:0},(Y=u.graphics.upperBoxElem)?(Y.animateWith(ut,gt,l,mt,pt,Ht&&Kt),Ht=!1):(Y=u.graphics.upperBoxElem=rt.rect(l,Vt),Ae=!0),Y.attr(e).shadow({opacity:Tt?Ye.upperBoxAlpha/100:0},Nt),l={path:["M",oe,Ce||ie,"V",Ce||ie+M,"M",re,Ce||ie,"V",Ce||ie+M]},(q=u.graphics.upperBoxBorderEle)?q.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(q=u.graphics.upperBoxBorderEle=rt.path(l,Vt),De=!0),q.attr(a),l={path:["M",oe,Ce||ie,"H",oe+p]},(X=u.graphics.upperQuartileEle)?X.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(X=u.graphics.upperQuartileEle=rt.path(l,Vt),Ve=!0),X.attr(r),he=ie,de=Ye.whiskerslimitswidthratio/100*p,ce=de/2,ue=pe=nt.getAxisPosition(v.max),ge=oe,ue=Ne(pe)+v.upperWhiskerThickness%2/2,oe=Ne(oe+p/2)+v.upperWhiskerThickness%2/2,fe=["M",oe,Ce||he,"V",Oe(Ce||ue,Ge),"M",oe-ce,Oe(Ce||ue,Ge),"H",oe+ce],me=u.graphics.upperWhiskerEle,l={path:fe,ishot:!dt,"stroke-width":v.upperWhiskerThickness,cursor:m?"pointer":Z,"stroke-linecap":N},me?me.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(me=u.graphics.upperWhiskerEle=rt.path(l,Bt),Be=!0),me.attr({stroke:v.upperWhiskerColor}),me.shadow({opacity:v.upperWhiskerShadowOpacity},Nt),zt.useEllipsesOnOverflow(at.config.useEllipsesWhenOverflow),zt.setStyle(Ot),ve=zt.getOriSize(Wt.dataLabels(v.max)),be=Mt?ve.width:ve.height,ye=pe-.5*v.upperWhiskerThickness-Rt-be*(Mt?.5:1),ye-(Mt?be/2:0)<ot.canvasTop&&(ye=ot.canvasTop+(Mt?be/2:0)),l={text:Wt.dataLabels(v.max),x:ge+p/2,title:L.originalText||Z,y:ye,"text-anchor":Mt?"middle":Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,transform:rt.getSuggestiveRotation(Mt,ge+p/2,ye),"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]},v.showMaxValues?(ne.label[3]?(ne.label[3].show(),Re=ge+p/2,We=Ce||ye,ne.label[3].attr({text:Wt.dataLabels(v.max),title:L.originalText||Z,"text-anchor":Mt?"middle":Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]}),ne.label[3].animateWith(ut,gt,{x:Re,y:We,transform:rt.getSuggestiveRotation(Mt,Re,We)},mt,pt,Ht&&Kt)):ne.label[3]=rt.text(l,Et),ne.label[3].data("groupId",le)):ne.label[3]&&ne.label[3].hide()&&ne.label[3].attr({"text-bound":[]}),oe=Ne(d)+J.borderWidth%2*.5,re=Ne(d+p)+J.borderWidth%2*.5,ie=Ne(F+R)+V.borderWidth%2*.5,ze=Ce||F,je=Fe(Oe(jt,ie-F),0),He=ze+je,l={x:oe,y:ze,width:Fe(p,0),height:je,r:0},(K=u.graphics.lowerBoxElem)?K.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(K=u.graphics.lowerBoxElem=rt.rect(l,Pt),Le=!0),K.attr(t).shadow({opacity:Tt?Ye.lowerBoxAlpha/100:0},Nt),l={path:["M",oe,Ce||F,"V",Ce||F+R,"M",re,Ce||F,"V",Ce||F+R]},($=u.graphics.lowerBoxBorderEle)?$.animateWith(ut,gt,l,mt,pt,Ht&&Kt):($=u.graphics.lowerBoxBorderEle=rt.path(l,Pt),Te=!0),$.attr(o),ie=Ne(F+R)+V.borderWidth%2*.5,l={path:["M",oe,Ce||ie,"H",oe+p]},(ee=u.graphics.lowerQuartileEle)?ee.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(ee=u.graphics.lowerQuartileEle=rt.path(l,Pt),Pe=!0),ee.attr(i),he=ie,de=Ye.whiskerslimitswidthratio/100*p,ce=de/2,ue=pe=nt.getAxisPosition(v.min),ge=oe,ue=Ne(pe)+v.lowerWhiskerThickness%2/2,ge=Ne(ge+p/2)+v.lowerWhiskerThickness%2/2,fe=["M",ge,Ce||he,"V",Fe(Ce||ue,He),"M",ge-ce,Fe(Ce||ue,He),"H",ge+ce],xe=u.graphics.lowerWhiskerEle,zt.setStyle(Ot),ve=zt.getOriSize(Wt.dataLabels(v.min)),be=Mt?ve.width:ve.height,we=pe+.5*v.lowerWhiskerThickness+Rt,we+be>ot.canvasBottom&&(we=ot.canvasBottom-be),l={text:Wt.dataLabels(v.min),x:ge,title:L.originalText||Z,y:we,"text-anchor":Mt?z:Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,transform:rt.getSuggestiveRotation(Mt,ge,we),"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]},v.showMinValues?(ne.label[4]?(ne.label[4].show(),Re=ge,We=Ce||we,ne.label[4].animateWith(ut,gt,{x:Re,y:We,transform:rt.getSuggestiveRotation(Mt,Re,We)},mt,pt,Ht&&Kt),ne.label[4].attr({text:Wt.dataLabels(v.min),title:L.originalText||Z,"text-anchor":Mt?z:Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]})):ne.label[4]=rt.text(l,Et),ne.label[4].data("groupId",le)):ne.label[4]&&ne.label[4].hide()&&ne.label[4].attr({"text-bound":[]}),l={path:fe,ishot:!dt,"stroke-width":v.lowerWhiskerThickness,cursor:m?"pointer":Z,"stroke-linecap":N},xe?xe.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(xe=u.graphics.lowerWhiskerEle=rt.path(l,_t),_e=!0),xe.attr({stroke:v.lowerWhiskerColor}),xe.shadow({opacity:v.lowerWhiskerShadowOpacity},Nt),ie=Ne(F)+E.borderWidth%2*.5,l={path:["M",oe,Ce||ie,"H",oe+p]},(te=u.graphics.midLineElem)?te.animateWith(ut,gt,l,mt,pt,Ht&&Kt):(te=u.graphics.midLineElem=rt.path(l,It),Ie=!0),te.attr(n),Ee={upperBoxElem:v.setUpperBoxRolloverAttr,lowerBoxElem:v.setLowerBoxRolloverAttr,upperBoxBorderEle:v.setUpperBoxBorderRolloverAttr,lowerBoxBorderEle:v.setLowerBoxBorderRolloverAttr,upperQuartileEle:v.setUpperQuartileRolloverAttr,lowerQuartileEle:v.setLowerQuartileRolloverAttr,midLineElem:v.setMedianRolloverAttr},Me={upperBoxElem:v.setUpperBoxRolloutAttr,lowerBoxElem:v.setLowerBoxRolloutAttr,upperBoxBorderEle:v.setUpperBoxBorderRolloutAttr,lowerBoxBorderEle:v.setLowerBoxBorderRolloutAttr,upperQuartileEle:v.setUpperQuartileRolloutAttr,lowerQuartileEle:v.setLowerQuartileRolloutAttr,midLineElem:v.setMedianRolloutAttr},Y.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Ae&&Y.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),K.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Le&&K.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),q.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),De&&q.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),$.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Te&&$.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),X.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Ve&&X.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),ee.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Pe&&ee.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),te.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Ie&&te.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),me.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),Be&&me.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),xe.data("groupId",le).data("eventArgs",x).data(k,Jt).data("setRolloverAttr",Ee).data("setRolloutAttr",Me),_e&&xe.click(Yt).hover(qt(u.graphics),Xt(u.graphics)),Gt=Mt?tt:"middle",l={text:L.displayValue,x:d+p/2,title:L.originalText||Z,y:T-Rt,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":j,visibility:_,direction:Ye.textDirection,fill:Ot.color,transform:rt.getSuggestiveRotation(Mt,d+p/2,T-Rt),"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]},Se(L.displayValue)&&L.displayValue!==Q&&v.showQ3Values?(ne.label[0]?(ne.label[0].show(),Re=d+p/2,We=Ce||T-Rt,ne.label[0].animateWith(ut,gt,{x:Re,y:We,transform:rt.getSuggestiveRotation(Mt,Re,We)},mt,pt,Ht&&Kt),ne.label[0].attr({text:L.displayValue,title:L.originalText||Z,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":j,visibility:_,direction:Ye.textDirection,fill:Ot.color,"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]})):ne.label[0]=rt.text(l,Et),ne.label[0].data("groupId",le)):ne.label[0]&&ne.label[0].hide()&&ne.label[0].attr({"text-bound":[]}),l={text:E.displayValue,x:oe+p/2,y:F-Rt,title:E.originalText||Z,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":j,visibility:_,direction:Ye.textDirection,fill:Ot.color,transform:rt.getSuggestiveRotation(Mt,oe+p/2,F-Rt),"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]},Se(E.displayValue)&&E.displayValue!==Q&&v.showMedianValues?(ne.label[1]?(ne.label[1].show(),Re=oe+p/2,We=Ce||F-Rt,ne.label[1].animateWith(ut,gt,{x:Re,y:We,transform:rt.getSuggestiveRotation(Mt,Re,We)},mt,pt,Ht&&Kt),ne.label[1].attr({text:E.displayValue,title:E.originalText||Z,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":j,visibility:_,direction:Ye.textDirection,fill:Ot.color,"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]})):ne.label[1]=rt.text(l,Et),ne.label[1].data("groupId",le)):ne.label[1]&&ne.label[1].hide()&&ne.label[1].attr({"text-bound":[]}),l={text:V.displayValue,x:d+p/2,y:B+Rt,title:V.originalText||Z,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,transform:rt.getSuggestiveRotation(Mt,d+p/2,B+Rt),"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]},Se(V.displayValue)&&V.displayValue!==Q&&v.showQ1Values?(ne.label[2]?(ne.label[2].show(),Re=d+p/2,We=Ce||B+Rt,ne.label[2].animateWith(ut,gt,{x:Re,y:We,transform:rt.getSuggestiveRotation(Mt,Re,We)},mt,pt,Ht&&Kt),ne.label[2].attr({text:V.displayValue,title:V.originalText||Z,"text-anchor":Mt?W:Gt,"vertical-align":Mt?"middle":G,visibility:_,direction:Ye.textDirection,fill:Ot.color,"text-bound":[Ot.backgroundColor,Ot.borderColor,Ot.borderThickness,Ot.borderPadding,Ot.borderRadius,Ot.borderDash]})):ne.label[2]=rt.text(l,Et),ne.label[2].data("groupId",le)):ne.label[2]&&ne.label[2].hide()&&ne.label[2].attr({"text-bound":[]}),Ht&&Kt(),dt?(Y.tooltip(g),K.tooltip(g),q.tooltip(g),$.tooltip(g),X.tooltip(g),ee.tooltip(g),te.tooltip(g),me.tooltip(g),xe.tooltip(g)):(Y.tooltip(!1),K.tooltip(!1),q.tooltip(!1),$.tooltip(!1),X.tooltip(!1),ee.tooltip(!1),te.tooltip(!1),me.tooltip(!1),xe.tooltip(!1)),d+=p/2,Ue.components.mean.components.data[h].config.xPos=d,Ue.components.sd.components.data[h].config.xPos=d,Ue.components.qd.components.data[h].config.xPos=d,Ue.components.md.components.data[h].config.xPos=d,ke=0;ke<Ye.maxNumberOfOutliers;ke++)Ue.components.outliers[ke].components.data[h].config.xPos=d;Ue.flag=!0,Ut&&Ue.remove()},remove:function(){var e,t,a,o,r,i,n=this.components,s=n.removeDataArr,l=n.pool||(n.pool={element:[],hotElement:[],label:[]}),h=s.length,d=this.maxminFlag;for(o=0;o<h;o++)if(e=s[0],s.splice(0,1),e&&e.graphics){a=e.graphics;for(t in a)if("label"!==t)a[t].shadow({opacity:0}),a[t].hide();else for(r=a[t].length,i=0;i<r;i++)a[t][i]&&(a[t][i].shadow({opacity:0}),a[t][i].hide(),a[t][i].attr({"text-bound":[]}));e.graphics.element&&(l.element=l.element.concat(e.graphics.element)),e.graphics.hotElement&&(l.hotElement=l.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(l.label=l.label.concat(e.graphics.label))}n.pool=l,d&&this.setMaxMin()},removeData:function(e,t,a){var o=this.components,r=o.data,i=o.removeDataArr||(o.removeDataArr=[]),n=o.mean.components.removeDataArr||(o.mean.components.removeDataArr=[]),s=o.sd.components.removeDataArr||(o.sd.components.removeDataArr=[]),l=o.md.components.removeDataArr||(o.md.components.removeDataArr=[]),h=o.qd.components.removeDataArr||(o.qd.components.removeDataArr=[]),d=this.config,c=this.groupManager,p=this.maxminFlag;for(t=t||1,e=e||0,e+t===r.length?this.endPosition=!0:0!==e&&void 0!==e||(this.endPosition=!1),o.removeDataArr=i=i.concat(r.splice(e,t)),o.mean.components.removeDataArr=n.concat(o.mean.components.data.splice(e,t)),o.sd.components.removeDataArr=s.concat(o.sd.components.data.splice(e,t)),o.md.components.removeDataArr=l.concat(o.md.components.data.splice(e,t)),o.qd.components.removeDataArr=h.concat(o.qd.components.data.splice(e,t)),n=o.outliers.length,r=0;r<n;r++)s=o.outliers[r].components.removeDataArr||(o.outliers[r].components.removeDataArr=[]),o.outliers[r].components.removeDataArr=s.concat(o.outliers[r].components.data.splice(e,t));for(c&&c.removeSumLabels&&c.removeSumLabels(e,t,this.positionIndex),n=i.length,r=0;r<n&&(!i[r]||(e=i[r].config,e.setValue!==d.maxValue&&e.setValue!==d.minValue||(p=this.maxminFlag=!0),!p));r++);p&&this.setMaxMin(),a&&this.draw()},_addLegendSubDS:function(e){var t;t=e.config;var a=e.chart.components.legend,o=t.anchorBgColor;t={anchorSide:t.anchorSides,legendBackgroundColor:this.config.upperBoxColor,fillColor:$e(o),strokeColor:$e(g),enabled:this.config.includeInLegend,label:this.JSONData.seriesname&&oe(e.name),customLegendIcon:!1,spoke:t.dip?1:0,drawLine:!!t.drawLine,lineColor:se({color:o,alpha:nt})},e.itemId=a.addItems(e,e.legendInteractivity,t)},_addLegendOutliers:function(e){var t=this.JSONData,a=this.chart.jsonData.chart,o=this.config,r=o.upperBoxColor,i=this.chart.components.legend,n=ee(t.outliericoncolor,a.outliericoncolor,g),t={anchorSide:ae(t.outliericonsides,a.outliericonsides,3),fillColor:$e(n),legendBackgroundColor:r,strokeColor:$e(g),enabled:o.includeInLegend,label:this.JSONData.seriesname&&"Outliers",customLegendIcon:!1,spoke:e[0].config.dip?1:0,drawLine:!1,datasetObj:e[0]};e.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),e[0]&&(e[0].itemId=i.addItems(e,this.legendInteractivityOutliers,t))},legendInteractivityOutliers:function(e,t){var a,o,r=this.config,i=t.config,n=t.graphics,s=r.itemHiddenStyle.color,r=r.itemStyle.color,l=i.fillColor,i=i.strokeColor;for(e.visible=!e.visible,a=0;a<e.length;a++)o=e[a].visible,e[a].visible=!o,e[a].draw(),o?(e.visible=!1,n.legendItemSymbol&&n.legendItemSymbol.attr({fill:s,stroke:s}),n.legendItemText&&n.legendItemText.attr({fill:s}),n.legendIconLine&&n.legendIconLine.attr({stroke:s})):(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:l,stroke:i}),n.legendItemText&&n.legendItemText.attr({fill:r}),n.legendIconLine&&n.legendIconLine.attr({stroke:l}))},_addLegend:function(){var e;e=this.config;var t=this.chart.components.legend,a=e.upperBoxColor;e={fillColor:se({FCcolor:{color:a+","+e.lowerBoxColor,angle:90,ratio:"50, 0",alpha:"100, 100"}}),legendBackgroundColor:a,strokeColor:se(g),rawFillColor:a,rawStrokeColor:g,enabled:e.includeInLegend,label:oe(this.JSONData.seriesname),index:this.index,mainDS:!0},this.itemId=t.addItems(this,this.legendInteractivity,e)},legendInteractivity:function(e,t){var a=this.config,o=e.visible,r=t.config,i=t.graphics,n=a.itemHiddenStyle.color,a=a.itemStyle,s=a.color,l=r.fillColor,r=r.strokeColor,h=t.index,d=e.subDS;if(o?e.hide():e.show(),o)for(i.legendItemSymbol&&i.legendItemSymbol.attr({fill:n,stroke:n}),i.legendItemText&&i.legendItemText.attr({fill:n}),i.legendItemLine&&i.legendItemLine.attr({stroke:n}),o=h+1;o<=h+d;o++)(i=(r=this.components.items[o])&&r.graphics)&&(i.legendItemSymbol&&i.legendItemSymbol.attr({fill:n,stroke:n}),i.legendItemText&&i.legendItemText.attr({fill:n}),i.legendItemLine&&i.legendItemLine.attr({stroke:n}));else for(i.legendItemSymbol&&i.legendItemSymbol.attr({fill:l,stroke:r}),i.legendItemText&&i.legendItemText.attr({fill:s}),i.legendItemLine&&i.legendItemLine.attr({stroke:l}),o=h+1;o<=h+d;o++)(i=(r=this.components.items[o])&&r.graphics)&&(r=r.config,s=a.color,l=r.fillColor,r=r.strokeColor,i.legendItemSymbol&&i.legendItemSymbol.attr({fill:l,stroke:r}),i.legendItemText&&i.legendItemText.attr({fill:s}),i.legendItemLine&&i.legendItemLine.attr({stroke:l}))},show:function(){var e=this.graphics.upperBoxContainer,t=this.graphics.lowerBoxContainer,a=this.graphics.medianContainer,o=this.graphics.upperWhiskerContainer,r=this.graphics.lowerWhiskerContainer,i=this.graphics.dataLabelContainer,n=this.graphics.shadowContainer,s=this.chart,l=this.yAxis;for(s._chartAnimation(),this.visible=!0,this.components.outliers.visible=!0,this._conatinerHidden=!1,e.show(),t.show(),a.show(),o.show(),r.show(),i.show(),n.show(),e=0;e<this.config.maxNumberOfOutliers;e++)this.components.outliers[e].show();s._setAxisLimits(),l.draw(),s._drawDataset(),this.components.mean.show(),this.components.sd.show(),
this.components.qd.show(),this.components.md.show()},hide:function(){var e,t,a=this.chart,o=this.yAxis;for(a._chartAnimation(),this.visible=!1,e=this.config.maxNumberOfOutliers,t=0;t<e;t++)this.components.outliers[t].hide();for(a._setAxisLimits(),o.draw(),a._drawDataset(),this.components.mean.hide(),this.components.sd.hide(),this.components.qd.hide(),this.components.md.hide(),e=this.config.maxNumberOfOutliers||this.components.outliers.length,this.components.outliers.visible=!1,t=0;t<e;t++)this.components.outliers[t].visible=!1,this.components.outliers[t].draw()}},"Column",{showplotborder:void 0,plotborderdashlen:void 0,plotborderdashgap:void 0,plotfillalpha:void 0,useroundedges:void 0,ratio:void 0,plotborderthickness:void 0,showvalues:void 0,valuepadding:void 0,showtooltip:void 0,maxcolwidth:void 0,rotatevalues:void 0,use3dlighting:void 0,whiskerslimitswidthratio:void 0,outliersupperrangeratio:void 0,outlierslowerrangeratio:void 0,showalloutliers:void 0,showmean:void 0,showsd:void 0,showmd:void 0,showqd:void 0,showminvalues:void 0,showmaxvalues:void 0,showq1values:void 0,showq3values:void 0,showmedianvalues:void 0}]),FusionCharts.register("component",["dataset","subDS",{show:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!0,this._conatinerHidden=!1,e.config.transposeAxis&&(e._setAxisLimits(),t.draw()),this.draw()},hide:function(){var e=this.chart,t=this.yAxis;e._chartAnimation(),this.visible=!1,e.config.transposeAxis&&(e._setAxisLimits(),t.draw()),this.draw()},getEventArgs:function(){return{datasetName:this.name,datasetIndex:this.index,id:(this.config||{}).userID,visible:this.visible}},legendInteractivity:function(e,t){var a,o=this.config,r=e.visible,i=t.config,n=t.graphics,s=o.itemHiddenStyle.color,o=o.itemStyle.color,l=i.fillColor,h=i.strokeColor;r?e.hide():e.show(),r={legendItemSymbol:{fill:r?s:l,stroke:r?s:h},legendItemText:{fill:r?s:o},legendItemLine:{stroke:r?s:i.lineAttr&&i.lineAttr.stroke}};for(a in n)(i=n[a])&&r[a]&&i.attr(r[a])}},"Line"]),FusionCharts.register("component",["datasetGroup","boxandwhisker2d",{draw:function(){var e,t,a,o,r=this.positionStackArr,i=r.length;e=this.chart,t=e.graphics.datasetGroup;var n=e.graphics;a=e.components.canvas.config.clip["clip-canvas"].slice(0),o=ie([],e.components.canvas.config.clip["clip-canvas-init"]);var n=n.datalabelsGroup,s=e.get(y,C),l=s.animType,h=s.animObj,d=s.dummyObj,s=s.duration;for(e.fireInitialAnimation&&(t.attr({"clip-rect":o}),n.attr({"clip-rect":o})),e.fireInitialAnimation=!1,t.animateWith(d,h,{"clip-rect":a},s,l),n.animateWith(d,h,{"clip-rect":a},s,l),this.preDrawCalculate(),this.drawSumValueFlag=!0,e=0;e<i;e++)for(t=r[e],a=t.length,this.manageClip=!0,t=0;t<a;t++)o=r[e][t].dataSet,o.draw()}},q]),ot("heatmap",{friendlyName:"Heatmap Chart",standaloneInit:!0,creditLabel:!1,hasLegend:!0,tooltipsepchar:": ",tooltipConstraint:"chart",defaultDatasetType:"heatmap",applicableDSList:{heatmap:!0},isSingleSeries:!0,hasGradientLegend:!0,_createAxes:function(){var e,t=this.components,a=FusionCharts.register("component",["axis","cartesian"]);t.yAxis=[],t.xAxis=[],t.yAxis[0]=e=new a,t.xAxis[0]=t=new a,e.chart=this,t.chart=this,e.init(),t.init()},_postSpaceManagement:function(){var e=this.config,t=e.placeAxisLabelsOnTop,a=this.components,o=a.xAxis&&a.xAxis[0],r=a.yAxis&&a.yAxis[0],i=a.legend,n=e.xDepth,a=a.canvas.config.canvasBorderWidth;o&&o.setAxisDimention({x:e.canvasLeft,y:t?e.canvasTop+(e.shift||0)-a:e.canvasBottom+(e.shift||0)+a,opposite:e.canvasTop-a,axisLength:e.canvasWidth}),r&&r.setAxisDimention({x:e.canvasLeft-a,y:e.canvasTop,opposite:e.canvasRight+a,axisLength:e.canvasHeight}),o&&o.shiftLabels(-n,0),i.postSpaceManager(),this.config.realtimeEnabled&&this._setRealTimeCategories&&this._setRealTimeCategories(),this._adjustCanvasPadding()},_adjustCanvasPadding:function(){},_feedAxesRawData:function(){var e,t=this.components,o=t.colorManager,r=this.jsonData,i=r.chart;e=this.is3d;var n=a.chartPaletteStr,n=e?n.chart3D:n.chart2D;e={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(n.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.xaxisnamepadding,axisValuePadding:i.labelpadding,axisNameFont:i.xaxisnamefont,axisNameFontSize:i.xaxisnamefontsize,axisNameFontColor:i.xaxisnamefontcolor,axisNameFontBold:i.xaxisnamefontbold,axisNameFontItalic:i.xaxisnamefontitalic,axisNameBgColor:i.xaxisnamebgcolor,axisNameBorderColor:i.xaxisnamebordercolor,axisNameAlpha:i.xaxisnamealpha,axisNameFontAlpha:i.xaxisnamefontalpha,axisNameBgAlpha:i.xaxisnamebgalpha,axisNameBorderAlpha:i.xaxisnameborderalpha,axisNameBorderPadding:i.xaxisnameborderpadding,axisNameBorderRadius:i.xaxisnameborderradius,axisNameBorderThickness:i.xaxisnameborderthickness,axisNameBorderDashed:i.xaxisnameborderdashed,axisNameBorderDashLen:i.xaxisnameborderdashlen,axisNameBorderDashGap:i.xaxisnameborderdashgap,useEllipsesWhenOverflow:i.useellipseswhenoverflow,divLineColor:ee(i.vdivlinecolor,i.divlinecolor,o.getColor(n.divLineColor)),divLineAlpha:ee(i.vdivlinealpha,i.divlinealpha,e?o.getColor(m):o.getColor(f)),divLineThickness:ae(i.vdivlinethickness,i.divlinethickness,1),divLineIsDashed:!!ae(i.vdivlinedashed,i.vdivlineisdashed,i.divlinedashed,i.divlineisdashed,0),divLineDashLen:ae(i.vdivlinedashlen,i.divlinedashlen,4),divLineDashGap:ae(i.vdivlinedashgap,i.divlinedashgap,2),showAlternateGridColor:ae(i.showalternatevgridcolor,0),alternateGridColor:ee(i.alternatevgridcolor,o.getColor(x)),alternateGridAlpha:ee(i.alternatevgridalpha,o.getColor(v)),numDivLines:i.numvdivlines,labelFont:i.labelfont,labelFontSize:i.labelfontsize,labelFontColor:i.labelfontcolor,labelFontAlpha:i.labelalpha,labelFontBold:i.labelfontbold,labelFontItalic:i.labelfontitalic,axisName:i.xaxisname,axisMinValue:i.xaxisminvalue,axisMaxValue:i.xaxismaxvalue,setAdaptiveMin:i.setadaptivexmin,adjustDiv:i.adjustvdiv,labelDisplay:i.labeldisplay,showLabels:ae(i.showxaxislabels,i.showlabels),rotateLabels:i.rotatexaxislabels,slantLabel:ae(i.slantlabels,i.slantlabel),labelStep:ae(i.labelstep,i.xaxisvaluesstep),showAxisValues:ae(i.showxaxisvalues,i.showxaxisvalue),maxLabelHeight:i.maxlabelheight,showZeroPlane:i.showvzeroplane,zeroPlaneColor:i.vzeroplanecolor,zeroPlaneThickness:i.vzeroplanethickness,zeroPlaneAlpha:i.vzeroplanealpha,showZeroPlaneValue:i.showvzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showxaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.xaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.xaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.xaxislinecolor,i.axislinecolor,g)},o={outCanfontFamily:ee(i.outcnvbasefont,i.basefont,u),outCanfontSize:Xe(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:ee(i.outcnvbasefontcolor,i.basefontcolor,o.getColor(n.baseFontColor)).replace(/^#?([a-f0-9]+)/gi,"#$1"),axisNamePadding:i.yaxisnamepadding,axisValuePadding:i.yaxisvaluespadding,axisNameFont:i.yaxisnamefont,axisNameFontSize:i.yaxisnamefontsize,axisNameFontColor:i.yaxisnamefontcolor,axisNameFontBold:i.yaxisnamefontbold,axisNameFontItalic:i.yaxisnamefontitalic,axisNameBgColor:i.yaxisnamebgcolor,axisNameBorderColor:i.yaxisnamebordercolor,axisNameAlpha:i.yaxisnamealpha,axisNameFontAlpha:i.yaxisnamefontalpha,axisNameBgAlpha:i.yaxisnamebgalpha,axisNameBorderAlpha:i.yaxisnameborderalpha,axisNameBorderPadding:i.yaxisnameborderpadding,axisNameBorderRadius:i.yaxisnameborderradius,axisNameBorderThickness:i.yaxisnameborderthickness,axisNameBorderDashed:i.yaxisnameborderdashed,axisNameBorderDashLen:i.yaxisnameborderdashlen,axisNameBorderDashGap:i.yaxisnameborderdashgap,axisNameWidth:i.yaxisnamewidth,useEllipsesWhenOverflow:i.useellipseswhenoverflow,rotateAxisName:ae(i.rotateyaxisname,1),axisName:i.yaxisname,showAlternateGridColor:ae(i.showalternatehgridcolor,1),alternateGridColor:ee(i.alternatehgridcolor,o.getColor(b)),alternateGridAlpha:ee(i.alternatehgridalpha,o.getColor(w)),numDivLines:i.numdivlines,axisMinValue:i.yaxisminvalue,axisMaxValue:i.yaxismaxvalue,setAdaptiveMin:i.setadaptiveymin,adjustDiv:i.adjustdiv,labelStep:i.yaxisvaluesstep,showLabels:ae(i.showyaxislabels,i.showlabels),maxLabelWidthPercent:i.maxlabelwidthpercent,showAxisValues:ae(i.showyaxisvalues,i.showyaxisvalue),divLineColor:ee(i.hdivlinecolor,o.getColor(n.divLineColor)),divLineAlpha:ee(i.hdivlinealpha,o.getColor(f)),divLineThickness:ae(i.hdivlinethickness,1),divLineIsDashed:!!ae(i.hdivlinedashed,i.hdivlineisdashed,0),divLineDashLen:ae(i.hdivlinedashlen,4),divLineDashGap:ae(i.hdivlinedashgap,2),showZeroPlane:i.showzeroplane,zeroPlaneColor:i.zeroplanecolor,zeroPlaneThickness:i.zeroplanethickness,zeroPlaneAlpha:i.zeroplanealpha,showZeroPlaneValue:i.showzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:ae(i.showyaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:ae(i.yaxislinethickness,i.axislinethickness,1),axisLineAlpha:ae(i.yaxislinealpha,i.axislinealpha,100),axisLineColor:ee(i.yaxislinecolor,i.axislinecolor,g)},e.vtrendlines=r.vtrendlines,o.trendlines=r.trendlines,r=t.yAxis[0],t=t.xAxis[0],r.setCommonConfigArr(o,!0,!0,!1),t.setCommonConfigArr(e,!1,!1,!!this.config.placeAxisLabelsOnTop),r.configure(),t.configure(),this._setCategories()},_setAxisLimits:function(){},_setCategories:function(){var e,t,a,o,r,i,n=this.components,s=this.jsonData,l=n.xAxis,n=n.yAxis,h=s.dataset&&s.dataset[0].data&&s.dataset[0].data.length,d=[],c=[];if(!s.columns||!s.rows)for(s.columns={},s.columns.column=o=[],s.rows={},s.rows.row=r=[],e=0;e<h;e++){for(a=t=!0,i=0;i<o.length;i++)s.dataset[0].data[e].columnid==o[i].id&&(t=!1);for(t&&(t={id:s.dataset[0].data[e].columnid,label:s.dataset[0].data[e].columnid},s.columns.column.push(t)),i=0;i<r.length;i++)s.dataset[0].data[e].rowid==r[i].id&&(a=!1);a&&(a={id:s.dataset[0].data[e].rowid,label:s.dataset[0].data[e].rowid},s.rows.row.push(a))}for(o=s.columns.column,r=s.rows.row,e=0;e<(o&&o.length);e++)o[e].label=ee(o[e].label,o[e].name,o[e].id),void 0!==o[e].label&&d.push(o[e]);for(s.columns.column=d,e=0;e<(r&&r.length);e++)r[e].label=ee(r[e].label,r[e].name,r[e].id),void 0!==r[e].label&&c.push(r[e]);s.rows.row=c,s.columns&&l[0].setAxisPadding(.5,.5),s.columns&&l[0].setCategory(s.columns.column),s.columns&&n[0].setAxisPadding(.5,.5),s.rows&&n[0].setCategory(s.rows.row),l[0].setAxisConfig({categoryNumDivLines:s.columns.column.length-1,categoryDivLinesFromZero:0,showAlternateGridColor:0}),n[0].setAxisConfig({categoryNumDivLines:s.rows.row.length-1,categoryDivLinesFromZero:0,showAlternateGridColor:0})}},ot.mscartesian),FusionCharts.register("component",["dataset","HeatMap",{type:"heatmap",configure:function(){var e,t,o,r,i,n,s,l,h,d,p,g,u,m,f,x,v,b,w,y,C,k,A,L,S,D,T,V,P,I,B,_,E,N,O,F,W,G,z,j,H,U,Y,q,X,K,$,oe,re,ie,ne,le,he,de,ce,pe,ge,ue,me,fe,xe=this.chart,ve=xe.components,be=ve.postLegendInitFn,we=ve.gradientLegend,ye=xe.config.style,Ce=this.config,ke=xe.jsonData,Ae=this.JSONData,Le=Ae.data,Se=xe.singleseries,De=Le&&Le.length,Te=xe.jsonData.chart,Ve=xe.components.colorManager,Pe=Ce.plotColor=Ve.getPlotColor(this.index||this.positionIndex),Ie=ae(Ae.dashed,Te.plotborderdashed),Be=ae(Te.useplotgradientcolor,1),_e=ae(Te.showtooltip,1),Ee=a.parseUnsafeString,Me=Ee(Te.yaxisname),Re=Ee(Te.xaxisname),We=Ee(ee(Te.tooltipsepchar,": ")),Ge=a.parseTooltext,ze=ke.colorrange||{},je=xe.components.xAxis[0],He=xe.components.yAxis[0],Ue=Ce.mapByPercent=ae(ze.mapbypercent,0),Je=Ce.mapByCategory=ae(Te.mapbycategory,0),Ye=xe.jsonData,Xe=Ye.colorrange&&ae(Ye.colorrange.gradient),Ke=a.nonGradientColorRange,Qe=a.getDashStyle,et=this.components.data,tt=xe.components.numberFormatter,at=xe.isBar,ot=xe.is3D,rt=-1/0,it=1/0,st=te(Te.tltype,Q),lt=te(Te.trtype,Q),ht=te(Te.bltype,Q),dt=te(Te.brtype,Q),ct=Q,pt=Q,gt=Q,ut=Q;for(e=Ce.showplotborder=ae(Te.showplotborder,ot?0:1),Ce.plotDashLen=l=ae(Te.plotborderdashlen,5),Ce.plotDashGap=h=ae(Te.plotborderdashgap,4),Ce.plotfillAngle=u=ae(360-Te.plotfillangle,at?180:90),Ce.plotFillAlpha=m=ee(Ae.alpha,Te.plotfillalpha,nt),Ce.plotColor=Pe=ee(Ae.color,Pe),Ce.isRoundEdges=p=ae(Te.useroundedges,0),Ce.plotRadius=ae(Te.useRoundEdges,Ce.isRoundEdges?1:0),Ce.plotFillRatio=f=ee(Ae.ratio,Te.plotfillratio),Ce.plotgradientcolor=x=a.getDefinedColor(Te.plotgradientcolor,Ve.getColor("plotGradientColor")),!Be&&(x=Z),Ce.plotBorderAlpha=v=e?ee(Te.plotborderalpha,m,nt):0,Ce.plotBorderColor=b=ee(Te.plotbordercolor,ot?c:Ve.getColor("plotBorderColor")),Ce.plotBorderThickness=d=ae(Te.plotborderthickness,1),Ce.plotBorderDashStyle=y=Ie?Qe(l,h,d):"none",Ce.showValues=ae(Ae.showvalues,Te.showvalues,1),Ce.valuePadding=ae(Te.valuepadding,2),Ce.enableAnimation=U=ae(Te.animation,Te.defaultanimation,1),Ce.animation=!!U&&{duration:1e3*ae(Te.animationduration,1)},Ce.transposeAnimation=ae(Te.transposeanimation,U),Ce.transposeAnimDuration=1e3*ae(Te.transposeanimduration,.2),Ce.showShadow=p||ot?ae(Te.showshadow,1):ae(Te.showshadow,Ve.getColor("showShadow")),Ce.showHoverEffect=g=ae(Te.plothovereffect,Te.showhovereffect,void 0),Ce.showTooltip=ae(Te.showtooltip,1),Ce.definedGroupPadding=Fe(ae(Te.plotspacepercent),0),Ce.plotSpacePercent=Fe(ae(Te.plotspacepercent,20)%100,0),Ce.maxColWidth=ae(at?Te.maxbarheight:Te.maxcolwidth,50),Ce.plotPaddingPercent=ae(Te.plotpaddingpercent),Ce.rotateValues=ae(Te.rotatevalues)?270:0,Ce.placeValuesInside=ae(Te.placevaluesinside,0),pe=ye.inCanfontFamily,ge=parseInt(ye.inCanfontSize,10),ue=ye.inCancolor,Ce.tlLabelStyle={fontFamily:ee(Te.tlfont,pe),fontSize:ae(Te.tlfontsize,ge)+"px",color:$e(ee(Te.tlfontcolor,ue),100),fontWeight:J,fontStyle:J},qe(Ce.tlLabelStyle),Ce.trLabelStyle={fontFamily:ee(Te.trfont,pe),fontSize:ae(Te.trfontsize,ge)+"px",color:$e(ee(Te.trfontcolor,ue),100),fontWeight:J,fontStyle:J},Ce.brLabelStyle={fontFamily:ee(Te.brfont,pe),fontSize:ae(Te.brfontsize,ge)+"px",color:$e(ee(Te.brfontcolor,ue),100),fontWeight:J,fontStyle:J},Ce.blLabelStyle={fontFamily:ee(Te.blfont,pe),fontSize:ae(Te.blfontsize,ge)+"px",color:$e(ee(Te.blfontcolor,ue),100),fontWeight:J,fontStyle:J},Ce.use3DLighting=ae(Te.use3dlighting,1),Ce.parentYAxis=Y=ee(Ae.parentyaxis&&Ae.parentyaxis.toLowerCase(),M)===R?1:0,et||(et=this.components.data=[]),$=0;$<De;$++)C=Le&&Le[$],L=(A=et[$])&&A.config,A||(A=et[$]={graphics:{}}),A.config||(L=et[$].config={}),L.showValue=ae(C.showvalue,Ce.showValues),L.setValue=k=tt.getCleanValue(C.value),L.setLink=ee(C.link),L.toolTipValue=j=tt.dataLabels(k,Y),L.setDisplayValue=H=Ee(C.displayvalue),L.displayValue=ee(H,j),q=ae(C.dashed),X=ae(C.dashlen,l),K=h=ae(C.dashgap,h),rt=Fe(rt,k),it=Oe(it,k),L.plotBorderDashStyle=w=1===q?Qe(X,K,d):0===q?"none":y,Se?(Pe=Ve.getPlotColor($),Pe=ee(C.color,Pe),f=ee(C.ratio,Ce.plotFillRatio)):Pe=ee(C.color,Ce.plotColor),L.plotFillAlpha=m=ee(C.alpha,Ce.plotFillAlpha),0>k&&!p&&(n=u,u=at?180-u:360-u),L.colorArr=a.graphics.getColumnColor(Pe+","+Ce.plotgradientcolor,m,f=Ce.plotFillRatio,u,p,Ce.plotBorderColor,v.toString(),at?1:0,!!ot),t=L.toolTipValue,n&&(u=n);if(Ce.maxValue=rt,Ce.minValue=it,oe=rt-it,Xe&&!Je)be({min:it,max:rt}),this.components.colorRange=ze=we.colorRange;else{for(this.components.colorRange=ze=new Ke({colorRange:ke.colorrange,dataMin:it,dataMax:rt,sortLegend:0,mapByCategory:Je,defaultColor:"cccccc",numberFormatter:tt}),Ce.colorMap=[],$=0;$<ze.colorArr.length;$++)Ce.colorMap[$]={config:ze.colorArr[$],dataSet:this},Ce.colorMap[$].config.visible=!0;0===Ce.colorMap.length&&(xe.setChartMessage(),we&&we.elem&&we.elem.gl.carpet.group.hide())}for($=0;$<De;$++)C=Le&&Le[$],L=(A=et[$])&&A.config,L.percentValue=Ue?de=C.value&&Ne((C.value-it)/oe*1e4)/100:void 0,L.value=me=Je?C.colorrangelabel||C.categoryid:Ue?de:L.setValue,Xe&&!Je?fe=ze.getColorByValue(me):(re=ze.getColorObj(me),A.legendItemIndex=re.seriesIndex),void 0===re&&void 0===fe?L.visible=!1:re&&re.outOfRange?(L.visible=!1,L.displayValue=Z):(L.visible=!0,Pe=ee(C.color,re&&re.code||fe),L.color=$e(Pe,ee(C.alpha,Ce.plotFillAlpha)),0!==g&&(T=ee(C.hovercolor,Ae.hovercolor,Te.plotfillhovercolor,Te.columnhovercolor,Pe),V=ee(C.hoveralpha,Ae.hoveralpha,Te.plotfillhoveralpha,Te.columnhoveralpha,"25"),P=ee(C.hovergradientcolor,Ae.hovergradientcolor,Te.plothovergradientcolor,x),!P&&(P=Z),I=ee(C.hoverratio,Ae.hoverratio,Te.plothoverratio,f),B=ae(360-C.hoverangle,360-Ae.hoverangle,360-Te.plothoverangle,u),_=ee(C.borderhovercolor,Ae.borderhovercolor,Te.plotborderhovercolor,b),E=ee(C.borderhoveralpha,Ae.borderhoveralpha,Te.plotborderhoveralpha,v,m),N=ae(C.borderhoverthickness,Ae.borderhoverthickness,Te.plotborderhoverthickness,d),O=ae(C.borderhoverdashed,Ae.borderhoverdashed,Te.plotborderhoverdashed),F=ae(C.borderhoverdashgap,Ae.borderhoverdashgap,Te.plotborderhoverdashgap,l),W=ae(C.borderhoverdashlen,Ae.borderhoverdashlen,Te.plotborderhoverdashlen,h),G=O?Qe(W,F,N):w,1==g&&T===Pe&&(T=Ze(T,70)),z=a.graphics.getColumnColor(T,V,I,B,p,_,E.toString(),at?1:0,!!ot),L.setRolloutAttr={fill:se(L.color),stroke:e&&se(z[1]),"stroke-width":d,"stroke-dasharray":w},L.setRolloverAttr={fill:se(z[0]),stroke:e&&se(z[1]),"stroke-width":N,"stroke-dasharray":G}),Ue&&(de=tt.percentValue(de)),L.setValue=k=tt.getCleanValue(C.value),L.toolTipValue=j=tt.dataLabels(k,Y),t=L.toolTipValue,r=te(Ee(ee(C.tooltext,Ae.plottooltext,Te.plottooltext))),L.tlLabel=ie=Ee(ee(C.tllabel,C.ltlabel)),L.trLabel=ne=Ee(ee(C.trlabel,C.rtlabel)),L.blLabel=le=Ee(ee(C.bllabel,C.lblabel)),L.brLabel=he=Ee(ee(C.brlabel,C.rblabel)),H=te(Ee(C.displayvalue)),ce=Je?H:ee(C.displayvalue,t),L.displayValue=ee(H,de,L.toolTipValue),st!==Q&&(ct="<b>"+st+We+"</b>"),lt!==Q&&(pt="<b>"+lt+We+"</b>"),ht!==Q&&(gt="<b>"+ht+We+"</b>"),dt!==Q&&(ut="<b>"+dt+We+"</b>"),S=je.getCategoryFromId(Le[$].columnid.toLowerCase()),D=He.getCategoryFromId(Le[$].rowid.toLowerCase()),_e?(null===t?s=!1:void 0!==r?(i=[1,2,5,6,7,14,93,94,95,96,97,98,112,113,114,115,116,117],o={formattedValue:t,value:C.value,yaxisName:Me,xaxisName:Re,displayValue:H,percentValue:Ue?de:Q,tlLabel:ie,trLabel:ne,blLabel:le,brLabel:he,rowLabel:D.catObj&&D.catObj.label,columnLabel:S.catObj&&S.catObj.label,percentDataValue:Ue?de:Q,trtype:lt,tltype:st,brType:dt,blType:ht,colorRangeLabel:L.colorRangeLabel},s=Ge(r,i,o,C,Te,o)):s=(Ue?"<b>Value"+We+"</b>"+t+"<br /><b>Percentage"+We+"</b>"+de:ce)+(ie!==Q?"<br />"+(ct+ie):Q)+(ne!==Q?"<br />"+pt+ne:Q)+(le!==Q?"<br />"+gt+le:Q)+(he!==Q?"<br />"+ut+he:Q),L.toolText=s,L.setTooltext=s):L.toolText=!1);!1===xe.hasLegend||Xe&&!Je||this._addLegend()},init:function(e){var t=this.chart,a=t.components,o=e.parentyaxis&&e.parentyaxis.toLowerCase()===R?1:0,a=a.yAxis[o];if(!e)return!1;this.JSONData=e,this.yAxis=a,this.chartGraphics=t.chartGraphics,this.components={},this.graphics={},this.visible=1===ae(this.JSONData.visible,!Number(this.JSONData.initiallyhidden),1),this.configure()},_addLegend:function(){var e,t,a,o,r,i,n=this.components.data,s=this.chart,l=s.jsonData.chart,h=this.config.colorMap,d=this.components.colorRange;for(o=s.components.legend,l=ae(l.us3dlighting,l.useplotgradientcolor,1),o.emptyItems(),o=0,r=h.length;o<r;o++)i=h[o],a=d.colorArr[o].code,e=Ze(a,60).replace(ce,pe),Ze(a,40),l?(t=Ze(a,40),t={FCcolor:{color:a+","+a+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}}):t={FCcolor:{color:a,angle:0,ratio:F,alpha:nt}},e={fillColor:se(t),label:i.config.label,rawFillColor:a,strokeColor:se(e),datasetObj:this},h[o].legendItemId=s.components.legend.addItems(i,this.legendInteractivity,e);for(o=0;o<n.length;o++)for(l=d.getColorObj(n[o].config.value).code,s=0;s<h.length;s++)if(h[s].config.code==l){n[o].legendItemId=h[s].legendItemId,n[o].datasetIndex=s,n[o].datasetName=h[s].config.label;break}},legendInteractivity:function(e,t){var a=this.config,o=e.config.visible,r=e.dataSet,i=t.config,n=t.graphics,s=a.itemHiddenStyle.color,a=a.itemStyle.color,l=i.fillColor,i=i.strokeColor;o?r.hide(e):r.show(e),o?(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:s,stroke:s}),n.legendItemText&&n.legendItemText.attr({fill:s}),n.legendIconLine&&n.legendIconLine.attr({stroke:s})):(n.legendItemSymbol&&n.legendItemSymbol.attr({fill:l,stroke:i}),n.legendItemText&&n.legendItemText.attr({fill:a}),n.legendIconLine&&n.legendIconLine.attr({stroke:l}))},hide:function(e){var t,a,o,r,i,n=this.components.data,s=this.chart.get(y,C),l=s.animType,h=s.animObj,d=s.dummyObj,s=s.duration,c=this.components.colorRange;for(r=e.config.code,t=0,a=n.length;t<a;t++)i=c.getColorObj(n[t].config.value).code,o=n[t].config,r===i&&(n[t].graphics.element&&n[t].graphics.element.animateWith(d,h,{"fill-opacity":0,"stroke-width":0},s,l),n[t].graphics.hotElement&&n[t].graphics.hotElement.hide(),n[t].graphics.valEle&&n[t].graphics.valEle.hide(),n[t].graphics.tlLabel&&n[t].graphics.tlLabel.hide(),n[t].graphics.trLabel&&n[t].graphics.trLabel.hide(),n[t].graphics.blLabel&&n[t].graphics.blLabel.hide(),n[t].graphics.brLabel&&n[t].graphics.brLabel.hide(),o.visible=!1,n[t].visible=!1);e.visible=!1,e.config.visible=!1},show:function(e){var t,a,o,r,i,n,s=this.components.data,l=this.config,h=this.chart.get(y,C),d=h.animType,c=h.animObj,p=h.dummyObj,h=h.duration,g=this.components.colorRange;for(i=e.config.code,o=0,r=s.length;o<r;o++)t=s[o].config,a=t.plotFillAlpha/100,n=g.getColorObj(s[o].config.value).code,i===n&&(s[o].graphics.element&&s[o].graphics.element.attr({visibility:_}).animateWith(p,c,{"fill-opacity":a,"stroke-width":l.plotBorderThickness},h,d),s[o].graphics.hotElement&&s[o].graphics.hotElement.show(),s[o].graphics.valEle&&s[o].graphics.valEle.show(),s[o].graphics.tlLabel&&s[o].graphics.tlLabel.show(),s[o].graphics.trLabel&&s[o].graphics.trLabel.show(),s[o].graphics.blLabel&&s[o].graphics.blLabel.show(),s[o].graphics.brLabel&&s[o].graphics.brLabel.show(),t.visible=!0,s[o].visible=!0);e.visible=!0,e.config.visible=!0},updatePlot:function(e,t){var a,o,r,i,n,s=this.config,l=this.chart.get(y,C),h=l.animType,d=l.animObj,c=l.dummyObj,l=l.duration,p=this.components.data;for(r=0,i=p.length;r<i;r++)a=p[r].config,o=a.plotFillAlpha/100,n=p[r].config.value,n<e||n>t?a.visible&&(p[r].graphics.element&&p[r].graphics.element.animateWith(c,d,{"fill-opacity":0,"stroke-width":0},l,h),p[r].graphics.hotElement&&p[r].graphics.hotElement.hide(),p[r].graphics.valEle&&p[r].graphics.valEle.hide(),p[r].graphics.tlLabel&&p[r].graphics.tlLabel.hide(),p[r].graphics.trLabel&&p[r].graphics.trLabel.hide(),p[r].graphics.blLabel&&p[r].graphics.blLabel.hide(),p[r].graphics.brLabel&&p[r].graphics.brLabel.hide(),a.visible=!1,p[r].visible=!1):a.visible||(p[r].graphics.element&&p[r].graphics.element.animateWith(c,d,{"fill-opacity":o,"stroke-width":s.plotBorderThickness},l,h),p[r].graphics.hotElement&&p[r].graphics.hotElement.show(),p[r].graphics.valEle&&p[r].graphics.valEle.show(),p[r].graphics.tlLabel&&p[r].graphics.tlLabel.show(),p[r].graphics.trLabel&&p[r].graphics.trLabel.show(),p[r].graphics.blLabel&&p[r].graphics.blLabel.show(),p[r].graphics.brLabel&&p[r].graphics.brLabel.show(),a.visible=!0,p[r].visible=!0)},draw:function(){var e,t,o,r=this.config,i=this.JSONData.data,n=this.visible;o=this.chart;var s=o.getJobList(),l=o.components.paper,h=o.components.xAxis[0],d=o.components.yAxis[0],c=o.components.gradientLegend;e=o.graphics.datasetGroup;var p,g,u,m,f,x,v,b,w,k=o.graphics,D=o.config.showtooltip,T=o.get(y,C),V=T.animType,E=T.animObj,N=T.dummyObj,O=T.duration,F=this.components.data,M=d.getAxisBase();t=d.yBasePos=d.getAxisPosition(M);var R=0,M=r.showShadow,W=r.plotBorderThickness,G=r.plotRadius,z=this.graphics.container,j=this.graphics.trackerContainer;m=this.graphics.dataLabelContainer;var H=this.graphics.shadowContainer;w=k.datalabelsGroup;var U,J,Y=k.trackerGroup,k=o.components.legend.config.isActive,q=[],X=(this.components.removeDataArr||[]).length;for(c&&c.enabled&&(c.resetLegend(),c.clearListeners()),c.notifyWhenUpdate(this.updatePlot,this),z||(z=this.graphics.container=l.group(A,e),n||z.hide()),j||(j=this.graphics.trackerContainer=l.group(L,Y),n||j.hide()),H||(H=this.graphics.shadowContainer=l.group(S,e).toBack(),n||H.hide()),m||(m=this.graphics.dataLabelContainer=l.group(P,w),n||m.hide()),e=i&&i.length,j=o.config.canvasWidth/o.jsonData.columns.column.length,m=o.config.canvasHeight/o.jsonData.rows.row.length,o=0;o<e;o++)x=F[o],Y=x.trackerConfig={},w=x&&x.config,t=w.setValue,c&&c.enabled&&!k&&(w.visible=!0),R=h.getCategoryFromId(i[o].columnid.toLowerCase()),J=d.getCategoryFromId(i[o].rowid.toLowerCase()),R.catObj&&J.catObj&&w.value!==Z&&(r.mapByCategory||null!==t?(p=R.index.toString()+J.index.toString(),q.push(p),v=w.setLink,U=w.colorArr,x.graphics||(F[o].graphics={}),b=w.displayValue,p=h.getAxisPosition(R.index)-j/2,g=d.getAxisPosition(J.index)-m/2,u=j,f=w.toolText,x.graphics.valEle&&x.graphics.valEle.hide(),x.graphics.tlLabel&&x.graphics.tlLabel.hide(),x.graphics.trLabel&&x.graphics.trLabel.hide(),x.graphics.blLabel&&x.graphics.blLabel.hide(),x.graphics.brLabel&&x.graphics.brLabel.hide(),Y.eventArgs={index:o,link:v,value:w.percentValue||t,displayValue:b,columnId:R.catObj.id,rowId:J.catObj.id,tlLabel:w.tlLabel,trLabel:w.trLabel,blLabel:w.blLabel,brLabel:w.brLabel,toolText:f||"",id:Z,datasetIndex:k?x.datasetIndex:void 0,datasetName:k?x.datasetName:void 0,visible:n},t=g,R=m,t={x:p,y:t,width:u,height:R||1,r:G,ishot:!D,fill:w.color,stroke:se(U[1]),"stroke-width":O?0:W,"stroke-dasharray":void 0,"fill-opacity":O?0:w.plotFillAlpha/100,"stroke-linejoin":I,visibility:w.visible?_:B},x._xPos=p,x._yPos=g,x._height=m,x._width=u,x.graphics.element?(t={x:p,y:g,width:u,height:m||1},x=x.graphics.element,x.animateWith(N,E,t,O,T.animType),x.attr({ishot:!D,fill:w.color,stroke:se(U[1]),"fill-opacity":w.visible?w.plotFillAlpha/100:0,"stroke-width":w.visible?W:0,"stroke-dasharray":void 0,"stroke-linejoin":I,visibility:w.visible?_:B}),w.elemCreated=!1):(x=x.graphics.element=l.rect(t,z),x.animateWith(N,E,{"fill-opacity":w.plotFillAlpha/100,"stroke-width":W},O,V),w.elemCreated=!0),x.shadow({opacity:M},H).data("BBox",void 0),(v||D)&&(m<Je&&(g-=(Je-m)/2,m=Je),Y.attr={x:p,y:g,width:u,height:m,r:G,cursor:v?"pointer":Z,stroke:De,"stroke-width":W,fill:De,ishot:!0,visibility:w.visible?_:B})):(x.graphics.element&&x.graphics.element.hide(),x.graphics.hotElement&&x.graphics.hotElement.hide()));s.trackerDrawID.push(be.addJob(this.drawTracker,this,[],a.priorityList.tracker)),this.drawn?this.drawLabel():s.labelDrawID.push(be.addJob(this.drawLabel,this,[],a.priorityList.label)),this.drawn=!0,X&&this.remove()},drawTracker:function(){var e,t,a,o,r,i,n,s,l=this.JSONData.data,h=this.chart,d=this.components,c=d.pool,d=d.data,p=h.config.plothovereffect,g=h.components.paper,l=l&&l.length,u=this.graphics.trackerContainer,m=function(e){lt.call(this,h,e)};for(a=0;a<l;a++)void 0!==(o=d[a])&&(t=o&&o.config,e=o.trackerConfig,(r=o.graphics)&&r.element)&&(r=r.element,n=o.graphics.hotElement,(s=e.attr)&&((n=o.graphics.hotElement)?n.attr(s):c&&c.hotElement[0]?(n=o.graphics.hotElement=c.hotElement[0],c.hotElement.splice(0,1)):(n=o.graphics.hotElement=g.rect(s,u),i=!0)),(n||r).data("eventArgs",e.eventArgs).data(k,p).data("setRolloverAttr",t.setRolloverAttr||{}).data("setRolloutAttr",t.setRolloutAttr||{}).tooltip(e.eventArgs&&e.eventArgs.toolText),(i||t.elemCreated)&&(n||r).click(m).hover(function(e){return function(t){var a=this.getData();0!==a.showHoverEffect&&!0!==a.draged&&(e.attr(this.getData().setRolloverAttr),lt.call(this,h,t,"DataPlotRollOver"))}}(r),function(e){return function(t){var a=this.getData();0!==a.showHoverEffect&&!0!==a.draged&&(e.attr(this.getData().setRolloutAttr),lt.call(this,h,t,"DataPlotRollOut"))}}(r)))},drawLabel:function(){var e,t,a,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b,w=this.chart,k=w.config,A=w.graphics,L=w.components.paper,S=w.linkedItems.smartLabel,D=w.config.dataLabelStyle,T=this.config,V=this.JSONData.data.length,I=this.components.data,E=this.visible,N=this.graphics.dataLabelContainer,O=this.graphics.tlLabelContainer,F=this.graphics.blLabelContainer,M=this.graphics.trLabelContainer,R=this.graphics.brLabelContainer,w=w.get(y,C),H=w.animObj,U=w.dummyObj,J=w.duration,A=A.datalabelsGroup;for(N||(N=this.graphics.dataLabelContainer=L.group(P,A),E||N.hide()),O||(O=this.graphics.tlLabelContainer=L.group("tlLabel",A)),F||(F=this.graphics.blLabelContainer=L.group("blLabel",A)),M||(M=this.graphics.trLabelContainer=L.group("trLabel",A)),R||(R=this.graphics.brLabelContainer=L.group("brLabel",A)),E=T.tlLabelStyle,A=T.trLabelStyle,n=T.blLabelStyle,s=T.brLabelStyle,e={fontFamily:E.fontFamily,fontSize:E.fontSize,lineHeight:E.lineHeight,fontWeight:E.fontWeight,fontStyle:E.fontStyle},a={fontFamily:A.fontFamily,fontSize:A.fontSize,lineHeight:A.lineHeight,fontWeight:A.fontWeight,fontStyle:A.fontStyle},l={fontFamily:n.fontFamily,fontSize:n.fontSize,lineHeight:n.lineHeight,fontWeight:n.fontWeight,fontStyle:n.fontStyle},h={fontFamily:s.fontFamily,fontSize:s.fontSize,lineHeight:s.lineHeight,fontWeight:s.fontWeight,fontStyle:s.fontStyle},S.useEllipsesOnOverflow(k.useEllipsesWhenOverflow),S.setStyle(D),O.css(e),F.css(l),M.css(a),R.css(h),e=0;e<V;e++)void 0!==(k=I[e])&&(a=k.graphics)&&(a=k&&k.config,l=a.setValue,T.mapByCategory||null!==l?(t=a.displayValue,(l=k.graphics.element)&&(l=k._width,h=k._height,d=k._xPos,c=k._yPos,S.setStyle(D),Se(t)&&t!==Q&&a.showValue?(p=S.getSmartText(t,l,h,!1),t=p.text,o=c+.5*h,r=d+.5*l,k.graphics.valEle?(k.graphics.valEle.animateWith(U,H,{x:r,y:o},J,w.animType),k.graphics.valEle.attr({text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:D.color,direction:a.textDirection,"text-bound":[D.backgroundColor,D.borderColor,D.borderThickness,D.borderPadding,D.borderRadius,D.borderDash]})):(t={text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:D.color,direction:a.textDirection,x:r,y:o,"text-bound":[D.backgroundColor,D.borderColor,D.borderThickness,D.borderPadding,D.borderRadius,D.borderDash]},k.graphics.valEle=L.text(t,N)),a.visible&&k.graphics.valEle.show(),t=a.tlLabel,r=a.trLabel,g=a.blLabel,u=a.brLabel,i=Se(t)&&t!==Q,m=Se(r)&&r!==Q,f=Se(g)&&g!==Q,x=Se(u)&&u!==Q,v=l*(i&&m?.5:.9),b=.5*(h-(p&&p.height||0)),o=c+4,i?(S.setStyle(E),p=S.getSmartText(t,v,b,!1),t=p.text,i=d,k.graphics.tlLabel?(k.graphics.tlLabel.animateWith(U,H,{x:i+4,y:o},J,w.animType),k.graphics.tlLabel.attr({text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:E.color,"text-anchor":W,"vertical-align":G,direction:a.textDirection,"text-bound":[E.backgroundColor,E.borderColor,E.borderThickness,E.borderPadding,E.borderRadius,E.borderDash]})):(t={text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:E.color,"text-anchor":W,"vertical-align":G,direction:a.textDirection,x:i+4,y:o,"text-bound":[E.backgroundColor,E.borderColor,E.borderThickness,E.borderPadding,E.borderRadius,E.borderDash]},k.graphics.tlLabel=L.text(t,O)),a.visible&&k.graphics.tlLabel.show()):k.graphics.tlLabel&&(k.graphics.tlLabel.remove(),delete k.graphics.tlLabel),m?(S.setStyle(A),p=S.getSmartText(r,v,b,!1),t=p.text,i=d+l,k.graphics.trLabel?(k.graphics.trLabel.animateWith(U,H,{x:i-4,y:o},J,w.animType),k.graphics.trLabel.attr({text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:A.color,"text-anchor":z,"vertical-align":G,direction:a.textDirection,"text-bound":[A.backgroundColor,A.borderColor,A.borderThickness,A.borderPadding,A.borderRadius,A.borderDash]})):(t={text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:A.color,"text-anchor":z,"vertical-align":G,direction:a.textDirection,x:i-4,y:o,"text-bound":[A.backgroundColor,A.borderColor,A.borderThickness,A.borderPadding,A.borderRadius,A.borderDash]},k.graphics.trLabel=L.text(t,M)),a.visible&&k.graphics.trLabel.show()):k.graphics.trLabel&&(k.graphics.trLabel.remove(),delete k.graphics.trLabel),o=c+h-4,f?(S.setStyle(n),p=S.getSmartText(g,v,b,!1),t=p.text,i=d,k.graphics.blLabel?(k.graphics.blLabel.animateWith(U,H,{x:i+4,y:o},J,w.animType),k.graphics.blLabel.attr({text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:n.color,"text-anchor":W,"vertical-align":j,
direction:a.textDirection,"text-bound":[n.backgroundColor,n.borderColor,n.borderThickness,n.borderPadding,n.borderRadius,n.borderDash]})):(t={text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:n.color,"text-anchor":W,"vertical-align":j,direction:a.textDirection,x:i+4,y:o,"text-bound":[n.backgroundColor,n.borderColor,n.borderThickness,n.borderPadding,n.borderRadius,n.borderDash]},k.graphics.blLabel=L.text(t,F)),a.visible&&k.graphics.blLabel.show()):k.graphics.blLabel&&(k.graphics.blLabel.remove(),delete k.graphics.blLabel),x?(S.setStyle(n),p=S.getSmartText(u,v,b,!1),t=p.text,i=d+l-4,k.graphics.brLabel?(k.graphics.brLabel.animateWith(U,H,{x:i,y:o},J,w.animType),k.graphics.brLabel.attr({text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:s.color,"text-anchor":z,"vertical-align":j,direction:a.textDirection,"text-bound":[s.backgroundColor,s.borderColor,s.borderThickness,s.borderPadding,s.borderRadius,s.borderDash]})):(t={text:t,title:p.tooltext||Z,visibility:a.visible?_:B,fill:s.color,"text-anchor":z,"vertical-align":j,direction:a.textDirection,x:i,y:o,"text-bound":[s.backgroundColor,s.borderColor,s.borderThickness,s.borderPadding,s.borderRadius,s.borderDash]},k.graphics.brLabel=L.text(t,R)),a.visible&&k.graphics.brLabel.show()):k.graphics.brLabel&&(k.graphics.brLabel.remove(),delete k.graphics.brLabel)):(k.graphics.valEle&&(k.graphics.valEle.remove(),delete k.graphics.valEle),k.graphics.tlLabel&&(k.graphics.tlLabel.remove(),delete k.graphics.tlLabel),k.graphics.trLabel&&(k.graphics.trLabel.remove(),delete k.graphics.trLabel),k.graphics.blLabel&&(k.graphics.blLabel.remove(),delete k.graphics.blLabel),k.graphics.brLabel&&(k.graphics.brLabel.remove(),delete k.graphics.brLabel)))):(k.graphics.valEle&&k.graphics.valEle.hide(),k.graphics.tlLabel&&k.graphics.tlLabel.hide(),k.graphics.trLabel&&k.graphics.trLabel.hide(),k.graphics.blLabel&&k.graphics.blLabel.hide(),k.graphics.brLabel&&k.graphics.brLabel.hide()));this.labelDrawn=!0},remove:function(){var e,t,a,o,r=this.components,i=r.removeDataArr,n=r.pool||(r.pool={element:[],hotElement:[],label:[]}),s=i.length,l=this.maxminFlag;for(o=0;o<s;o++)if(e=i[0],i.splice(0,1),e&&e.graphics){a=e.graphics;for(t in a)a[t].stop(),a[t].hide();e.graphics.element&&(n.element=n.element.concat(e.graphics.element)),e.graphics.hotElement&&(n.hotElement=n.hotElement.concat(e.graphics.hotElement)),e.graphics.label&&(n.label=n.label.concat(e.graphics.label))}r.pool=n,l&&this.setMaxMin()},getEventArgs:function(e){var t=e.dataset.config||{};return{datasetName:t.label,datasetIndex:e.index,visible:t.visible}}},"Column"]),FusionCharts.register("component",["datasetGroup","heatmap",{},q]),FusionCharts.register("component",["dataset","Kagi",{type:"kagi",_parseShadowOptions:function(){var e=this.config;return{opacity:ae(this.chart.jsonData.chart.showshadow,1)?e.alpha/100:0}},configure:function(){var e,t,o,r,i,n,s,l,h,d,c,p,g,u,m,f,x,v,b,w,y,C,k,A=this.chart,L=A.components.xAxis[0],S=0,D=[],T=a.getDashStyle;p=0;var V;for(this.__base__.configure.call(this),e=this.components,o=e.data,r=this.config,i=this.JSONData.data,A=A.jsonData.chart,n=r.maxValue,s=r.minValue,t=e.removeDataArr||(e.removeDataArr=[]),e=!1,l=0,h=ae(A.reversalvalue,-1),d=ae(A.reversalpercentage,5),c=0;c<o.length;c+=1)o[c].config.__nullCount=p,null===o[c].config.setValue&&(t.push(o.splice(c,1)[0]),p++,--c);if(o.length){for(r.rallyColor=ee(A.rallycolor,"FF0000"),r.rallyAlpha=ae(A.rallyalpha,A.linealpha,100),r.declineColor=ee(A.declinecolor,"0000FF"),r.declineAlpha=ae(A.declinealpha,A.linealpha,100),r.canvasPadding=ae(A.canvaspadding,15),r.maxHShiftPercent=ae(A.maxhshiftpercent,10),r.rallyThickness=ae(A.rallythickness,A.linethickness,2),c=ae(A.rallydashlen,A.linedashlen,5),p=ae(A.rallydashgap,A.linedashgap,4),r.declineThickness=ae(A.declinethickness,A.linethickness,2),t=ae(A.declinedashlen,A.linedashlen,5),g=ae(A.declinedashgap,A.linedashgap,4),r.lineDashed={true:ae(A.rallydashed,A.linedashed,0),false:ae(A.declinedashed,A.linedashed,0)},r.rallyDashed=ae(A.rallydashed,A.linedashed,0)?T(c,p,r.rallyThickness):"none",r.declineDashed=ae(A.declinedashed,A.linedashed,0)?T(t,g,r.declineThickness):"none",r.canvasPadding=ae(A.canvaspadding,this.canvasPadding,15),h=0<h?h:d*(n-s)/100,T=o[0].config.setValue,n=function(e,t){for(var a,r=1,i=o[0].config.setValue;r<e;)a=o[r].config.setValue,t?a<=i&&(o[r].config.isDefined=!1):a>=i&&(o[r].config.isDefined=!1),r+=1;o[0].config.vAlign=t?j:G,o[0].config.align="center"},s=i.length,d=c=0;d<s;d+=1,c+=1)if((!(u=i[d])||!u.vline)&&(t=o[c]&&o[c].config,m&&(m=!1),t&&(t.isDefined=!0),u.tooltext||this.JSONData.plottooltext||A.plottooltext||t&&(t.toolText+=t.displayValue),c&&t)){if(t.isShift=void 0,f=o[c-1].config,t.vAlign="middle",t.align=et,t.showLabel=!1,p=null,g=t.setValue,x=o[c+1]&&o[c+1].config.setValue,v=Me(T-g),e?g<w&&b?b=!1:g>y&&!b&&(b=!0):(g>T&&v>h?(b=!0,w=T,y=null,e=C=!0,n(c,b)):g<T&&v>h?(b=!1,w=null,y=T,C=!1,e=!0,n(c,b)):(C=b=null,e=!1),Se(f)&&(f.isRally=b),null!=b&&(o[0].config.isRally=b)),t.isRally=b,(C&&g<T||!C&&g>T)&&(p=T),k=p||g,v=Me(k-x),x=null==C?null:C?k>x&&v>=h:k<x&&v>=h,f&&f.isShift)for(C?(w=T,V=j):C||(y=T,V=G),f=c;1<f;--f)if(o[f].y==T){o[f].vAlign=V,o[f].align="center",o[f].showLabel=!0;break}x?(l+=1,m=!0,C=!C,t.isShift=!0,T=k,D.push(i[c+t.__nullCount]),S=this._appendCategory(S,c,D,0)):C&&g>T||!C&&g<T?T=g:p=T,t.plotValue=p,t.objParams={isRally:b,lastHigh:y,lastLow:w,isRallyInitialised:e}}this._appendCategory(S,c,D,1),D.push(u),L.setCategory(D),r.shiftCount=l+1}},_appendCategory:function(e,t,a,o){var r,i,n,s=this.JSONData.catData;if(e<s.length)for(r=e;r<s.length;r+=1,e=r){if(i=s[r],n=i.data,(i=i.index-(r+1))<t)n.lineposition=ae(n.lineposition,o);else if(i>t)break;a.push(n)}return e},draw:function(){var e,t,o,r=this,i=r.graphics,s=r.JSONData;e=r.chart;var l,h,d,c,p,g,u,m,f,x,v,b,w,k,A,L,S,D,T,V,I=e.getJobList(),_=e.components,E=e.config,O=r.config,F=r.components,M=F.data,R=(F=F.removeDataArr)&&F.length,W=M&&M.length,F=M&&M.length,G=_.paper,z=_.xAxis[0],_=e.graphics,j=_.datalabelsGroup,H=r.components.data,U=i.container,J=i.trackerContainer,q=_.tracker,X=_.datasetGroup,_=O.shadow,K=i.dataLabelContainer,Q={},Z=function(){U.lineGroup.attr({"clip-rect":null}),U.lineShadowGroup.show(),U.anchorShadowGroup.show(),U.anchorGroup.show(),J.show(),K&&K.show()},$=!0,ee=z.getAxisPosition(0),te=z.getAxisPosition(1)-ee,ae={"clip-rect":[Fe(0,E.canvasLeft),Fe(0,E.canvasTop),Fe(1,E.canvasWidth),Fe(1,E.canvasHeight)]},oe={"clip-rect":[Fe(0,E.canvasLeft),Fe(0,E.canvasTop),1,Fe(1,E.canvasHeight)]},E=O.rallyThickness,re=O.declineThickness,ie={stroke:se({color:O.rallyColor,alpha:O.rallyAlpha}),"stroke-linecap":N,"stroke-linejoin":N,"stroke-width":E,"stroke-dasharray":O.rallyDashed},ne={stroke:se({color:O.declineColor,alpha:O.declineAlpha}),"stroke-linecap":N,"stroke-linejoin":N,"stroke-width":re,"stroke-dasharray":O.declineDashed},le={true:E,false:re},he=[],de=[],ce=i.rallyElem,pe=i.declineElem,ge=r.visible,ue=z.getAxisPosition(0),me=M[0]&&!!M[0].isRally,ee=ee-te/2,fe=i.lineElement,xe=r.pool||(r.pool={});e=e.get(y,C);var ve,we=e.duration||0,Ce=e.dummyObj,ke=e.animObj,Ae=0,Le=e.animType;if(O.imagesLoaded=0,R&&r.remove(),M.length){if(ce&&ce.show(),pe&&pe.show(),U||(U=r.graphics.container={lineShadowGroup:G.group("connector-shadow",X).attr(oe),anchorShadowGroup:G.group("anchor-shadow",X).attr(oe),lineGroup:G.group(Y,X).attr(oe),anchorGroup:G.group("anchors",X).attr(oe)},ge||(U.lineShadowGroup.hide(),U.anchorShadowGroup.hide(),U.lineGroup.hide(),U.anchorGroup.hide())),J||(J=r.graphics.trackerContainer=G.group("line-hot").trackTooltip(!0),ge||J.hide()),H||(H=r.components.data=[]),q&&q.appendChild(J),K||(K=r.graphics.dataLabelContainer=r.graphics.dataLabelContainer||G.group(P,j),ge||K.hide()),Oe(W,F),M[0].config.setValue)D=M[0].config.plotY;else for(e=1;e<F;e+=1)if(g=M[e].config.setValue){D=M[e].config.plotY;break}me=!!M[0].config.isRally,e=Ne(D)+le[me]%2/2,me?he.push("M",ee,e,"H",ue):de.push("M",ee,e,"H",ue),ye(M,function(e,a){e=e.config,m=H[a],L=m.config,t=e.trackerConfig={},o=m.graphics,ve=o.image,b=L.hoverEffects,g=L.setValue,u=L.displayValue,T=M[a+1]&&M[a+1].config||{},V=["M",ue,D],me=e.isRally,e.isShift&&(ue+=te,D=e.graphY,V.push("H",ue),V[2]=Ne(V[2])+le[me]%2/2,V=V.toString(),me?he.push(V):de.push(V),V=["M",ue,D]),T.isChanged&&(D=T.ty,V.push("V",D),V[1]=Ne(V[1])+le[me]%2/2,V=V.toString(),me?he.push(V):de.push(V),V=["M",ue,D]),S=T.isRally,T.graphY!==V[2]&&(V.push("V",T.graphY),V[1]=Ne(V[1])+le[S]%2/2,V=V.toString(),S?he.push(V):de.push(V)),D=T.graphY,l=m._xPos=z.getAxisPosition(e.plotX),h=m._yPos=e.plotY,Q=L.anchorProps,A=Q.symbol,w=Q.shadow,d=e.finalTooltext=e.toolText,p=L.setLink,void 0!==h&&!isNaN(h)&&e.isDefined?(e.eventArgs={index:a,link:p,value:g,displayValue:u,categoryLabel:L.label,toolText:d,id:O.userID,datasetIndex:0,datasetName:s.seriesname,visible:ge},f=x={},Q.imageUrl?(k=new n,L.anchorImageLoaded=!1,k.onload=r._onAnchorImageLoad(r,a,void 0,l,h,m),k.onerror=r._onErrorSetter(r,a),k.src=Q.imageUrl,Ae++):(ve&&ve.hide(),(c=o.element)?(c.animateWith(Ce,ke,{polypath:[A[1]||2,l,h,Q.radius,Q.startAngle,0]},we,Le),$&&Z(),$=!1):(c=xe.element&&xe.element.length?o.element=xe.element.shift():o.element=G.polypath(U.anchorGroup),c.attr({polypath:[A[1]||2,l,h,Q.radius,Q.startAngle,0]})),c.attr({fill:se({color:Q.bgColor,alpha:Q.bgAlpha}),stroke:se({color:Q.borderColor,alpha:Q.borderAlpha}),"stroke-width":Q.borderThickness,visibility:Q.radius?ge:B}).shadow(w,U.anchorShadowGroup),v=Fe(Q.radius,b&&b.anchorRadius||0,Je)+Q.borderThickness/2,t.trackerRadius=v),b.enabled&&(x={polypath:[b.anchorSides||2,l,h,b.anchorRadius,b.startAngle,b.dip],fill:se({color:b.anchorColor,alpha:b.anchorBgAlpha}),stroke:se({color:b.anchorBorderColor,alpha:b.anchorBorderAlpha}),"stroke-width":b.anchorBorderThickness},f={polypath:[Q.sides,l,h,Q.radius,Q.startAngle,0],fill:se({color:Q.bgColor,alpha:Q.bgAlpha}),stroke:se({color:Q.borderColor,alpha:Q.borderAlpha}),"stroke-width":Q.borderThickness},c&&c.data("anchorRadius",Q.radius).data("anchorHoverRadius",b.anchorRadius).data("setRolloverAttr",x).data("setRolloutAttr",f))):(o.element&&o.element.hide(),ve&&ve.hide())}),fe||(ce||(fe=ce=i.rallyElem=G.path(U.lineGroup)),ce.animateWith(Ce,ke,{path:he},$?0:we,Le).attr(ie).shadow(E&&_,U.lineShadowGroup),pe||(fe=pe=i.declineElem=G.path(U.lineGroup)),pe.animateWith(Ce,ke,{path:de},$?0:we,Le).attr(ne).shadow(re&&_,U.lineShadowGroup)),we&&$||($=!1),O.noOfImages=O.totalImages=Ae,0===Ae&&(!0===r.drawn?r.drawTracker():I.trackerDrawID.push(be.addJob(r.drawTracker,r,[],a.priorityList.tracker)),r.drawn?r.drawLabel():I.labelDrawID.push(be.addJob(r.drawLabel,r,[],a.priorityList.tracker))),r.drawn=!0,U.anchorGroup.animateWith(Ce,ke,ae,we,Le),K.hide(),U.lineShadowGroup.animateWith(Ce,ke,ae,we,Le),U.anchorShadowGroup.animateWith(Ce,ke,ae,we,Le),U.lineShadowGroup.animateWith(Ce,ke,ae,we,Le),U.lineGroup.animateWith(Ce,ke,ae,we,Le,Z)}else ce&&ce.hide(),pe&&pe.hide()},hidingPosition:function(){return function(e){return e=e.graphics.element,{polypath:(e&&e.attr("polypath"))[3]=0,r:0,text:Z}}}},"Line"]),o.addSymbol({resizeIcon:function(e,t,a){var o=ae(a,15)/3,r=[];for(0>o&&(o=-o,a=-a,e+=a-o/2,t+=a-o/2),a=3;0<a;--a)r.push("M",e-o*a,t-3,"L",e-3,t-o*a);return r},closeIcon:function(e,t,a){var o=1.3*a,r=43*He,i=48*He,n=e+o*Ee(r),r=t+o*_e(r),s=e+o*Ee(i),l=t+o*_e(i),i=.71*(a-2);return a=.71*(a-2),o=["A",o,o,0,1,0,s,l],n=["M",n,r],n=n.concat(o),n=n.concat(["M",e+i,t-a,"L",e-i,t+a,"M",e-i,t-a,"L",e+i,t+a])},configureIcon:function(e,t,a){--a;var o=.71*a,r=.71*(a+2),i=e-a,n=t-a,s=e+a;a=t+a;var l=e+.5,h=t+.5,d=e-.5,c=t-.5,p=i-2,g=n-2,u=s+2,m=a+2,f=e+o,x=t+o,v=e-o,o=t-o,b=e+r,w=t+r;return e-=r,t-=r,["M",i,h,"L",p,h,p,c,i,c,v-.25,o+.25,e-.25,t+.25,e+.25,t-.25,v+.25,o-.25,d,n,d,g,l,g,l,n,f-.25,o-.25,b-.25,t-.25,b+.25,t+.25,f+.25,o+.25,s,c,u,c,u,h,s,h,f+.25,x-.25,b+.25,w-.25,b-.25,w+.25,f-.25,x+.25,l,a,l,m,d,m,d,a,v+.25,x+.25,e+.25,w+.25,e-.25,w-.25,v-.25,x-.25,"Z"]},axisIcon:function(e,t,a){--a;var o=.33*a,r=a/2,i=e-a,n=t-a,s=e+r;return a=t+a,e-=r,r=t+o,t-=o,["M",i,n,"L",s,n,s,a,i,a,"M",e,r,"L",s,r,"M",e,t,"L",s,t]},loggerIcon:function(e,t,a){--a,e-=a,t-=a;var o=e+2*a,r=e+2,i=o-2,n=t+2;a=n+a;var s=a+2;return["M",e,t,"L",o,t,o,n,i,n,i,a,o,a,o,s,e,s,e,a,r,a,r,n,e,n,e,t]}})},[3,2,1,"release"]]),t&&(e.FusionCharts=FusionCharts),FusionCharts});